{"version":3,"sources":["hooks/qa/useAcceptOrder.ts","pages/qa/AcceptOrder.tsx","components/general/Page.tsx","components/general/HeaderBreadcrumbs.tsx","utils/editor.ts","components/general/Markdown.tsx","hooks/qa/useQuestionInfo.ts"],"names":["useAcceptOrder","useCallback","id","accept","a","axios","post","PATH_API_QA","acceptOrder","refuseOrder","handleAxiosException","LabelStyle","styled","Typography","theme","typography","subtitle2","color","palette","text","secondary","marginBottom","spacing","AcceptOrder","useParams","useQuestionInfo","title","description","enqueueSnackbar","useSnackbar","navigate","useNavigate","handleAccept","variant","PATH_DASHBOARD","questions","handleRefuse","Page","Container","maxWidth","HeaderBreadcrumbs","heading","links","name","href","Card","sx","p","Stack","gutterBottom","Markdown","direction","justifyContent","Button","onClick","fullWidth","size","mr","ml","props","children","other","action","moreLink","mb","display","alignItems","flexGrow","flexShrink","mt","isString","target","map","noWrap","hljs","configure","languages","window","katex","MarkdownWrapperStyle","isLight","mode","body1","paddingLeft","lineHeight","fontSize","margin","position","fontFamily","padding","borderRadius","shape","borderRadiusMd","backgroundColor","background","neutral","breakpoints","up","width","left","top","content","disabled","overflowX","whiteSpace","common","white","grey","warning","components","h1","h2","h3","h4","h5","h6","hr","Divider","my","includes","Link","rel","rehypePlugins","rehypeRaw","rehypeHighlight","rehypeKatex","remarkPlugins","remarkMath","remarkGfm","initialState","answer","useState","question","setQuestion","useEffect","get","questionInfo","then","response","data"],"mappings":"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","file":"static/js/39.c5208bbf.chunk.js","sourcesContent":["import axios from \"axios\";\nimport { useCallback } from \"react\";\nimport { PATH_API_QA } from \"../../routes/paths\";\nimport { handleAxiosException } from \"../../utils/exception\";\n\nconst useAcceptOrder = (): ((\n  id: string,\n  accept: boolean\n) => Promise<null | string>) =>\n  useCallback(async (id, accept) => {\n    try {\n      await axios.post(\n        (accept ? PATH_API_QA.acceptOrder : PATH_API_QA.refuseOrder)(id)\n      );\n      return null;\n    } catch (exception) {\n      return handleAxiosException(exception);\n    }\n  }, []);\nexport default useAcceptOrder;\n","import { Button, Card, Container, Stack, Typography } from \"@mui/material\";\n// material\nimport { styled } from \"@mui/material/styles\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport HeaderBreadcrumbs from \"../../components/general/HeaderBreadcrumbs\";\nimport Markdown from \"../../components/general/Markdown\";\n// components\nimport Page from \"../../components/general/Page\";\nimport useAcceptOrder from \"../../hooks/qa/useAcceptOrder\";\nimport useQuestionInfo from \"../../hooks/qa/useQuestionInfo\";\n// routes\nimport { PATH_DASHBOARD } from \"../../routes/paths\";\nimport { useSnackbar } from \"notistack\";\n// ----------------------------------------------------------------------\n\nconst LabelStyle = styled(Typography)(({ theme }) => ({\n  ...theme.typography.subtitle2,\n  color: theme.palette.text.secondary,\n  marginBottom: theme.spacing(1),\n}));\n\nexport default function AcceptOrder(): JSX.Element {\n  const { id = \"\" } = useParams(); //订单编号\n  const { title, description } = useQuestionInfo(id);\n  const acceptOrder = useAcceptOrder();\n  const { enqueueSnackbar } = useSnackbar();\n  const navigate = useNavigate();\n\n  const handleAccept = async () => {\n    const message = await acceptOrder(id, true);\n    if (message === null) {\n      enqueueSnackbar(\"订单已接受\", {\n        variant: \"success\",\n      });\n      navigate(PATH_DASHBOARD.questions);\n    }\n  };\n\n  const handleRefuse = async () => {\n    const message = await acceptOrder(id, false);\n    if (message === null) {\n      enqueueSnackbar(\"订单已拒绝\", {\n        variant: \"success\",\n      });\n      navigate(PATH_DASHBOARD.questions);\n    }\n  };\n\n  return (\n    <Page title=\"接受订单\">\n      <Container maxWidth={\"lg\"}>\n        <HeaderBreadcrumbs\n          heading=\"接受订单\"\n          links={[\n            { name: \"问题列表\", href: PATH_DASHBOARD.questions },\n            { name: id },\n          ]}\n        />\n\n        <Card sx={{ p: 3 }}>\n          <Stack spacing={3}>\n            <Typography variant=\"h3\" gutterBottom>\n              {title}\n            </Typography>\n\n            <div>\n              <LabelStyle>问题描述</LabelStyle>\n              <Markdown>{description}</Markdown>\n            </div>\n\n            <Stack direction=\"row\" justifyContent=\"center\">\n              <Button\n                onClick={handleAccept}\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                sx={{ mr: 1.5 }}\n              >\n                {\"接受订单\"}\n              </Button>\n\n              <Button\n                onClick={handleRefuse}\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                color=\"error\"\n                sx={{ ml: 1.5 }}\n              >\n                {\"拒绝订单\"}\n              </Button>\n            </Stack>\n          </Stack>\n        </Card>\n      </Container>\n    </Page>\n  );\n}\n","import { Helmet } from \"react-helmet-async\";\nimport { ReactNode } from \"react\";\nimport { Box, BoxProps } from \"@mui/material\";\n\ninterface PageProps extends BoxProps {\n  title?: string;\n  children: ReactNode;\n}\n\nexport default function Page(props: PageProps): JSX.Element {\n  const { title, children, ...other } = props;\n  return (\n    <Box {...other}>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </Box>\n  );\n}\n","import { ReactNode } from \"react\";\nimport { isString } from \"lodash\";\n// material\nimport { Box, Typography, Link } from \"@mui/material\";\n//\nimport MBreadcrumbs from \"../@material-extend/MBreadcrumbs\";\nimport { MBreadcrumbsProps } from \"../@material-extend/MBreadcrumbs\";\n\ninterface HeaderBreadcrumbsProps extends MBreadcrumbsProps {\n  action?: ReactNode;\n  heading: string;\n  moreLink?: string | string[];\n}\n\nexport default function HeaderBreadcrumbs({\n  links,\n  action,\n  heading,\n  moreLink = \"\" || [],\n  sx,\n  ...other\n}: HeaderBreadcrumbsProps): JSX.Element {\n  return (\n    <Box sx={{ mb: 5, ...sx }}>\n      <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {heading}\n          </Typography>\n          <MBreadcrumbs links={links} {...other} />\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        {isString(moreLink) ? (\n          <Link href={moreLink} target=\"_blank\" variant=\"body2\">\n            {moreLink}\n          </Link>\n        ) : (\n          moreLink.map(href => (\n            <Link\n              noWrap\n              key={href}\n              href={href}\n              variant=\"body2\"\n              target=\"_blank\"\n              sx={{ display: \"table\" }}\n            >\n              {href}\n            </Link>\n          ))\n        )}\n      </Box>\n    </Box>\n  );\n}\n","import hljs from \"highlight.js\";\nimport katex from \"katex\";\nimport \"highlight.js/styles/atom-one-dark.css\";\n// import \"react-quill/dist/quill.snow.css\";\nimport \"katex/dist/katex.css\";\n\nhljs.configure({\n  languages: [\"javascript\", \"jsx\", \"sh\", \"bash\", \"html\", \"scss\", \"css\", \"json\"],\n});\n\n// eslint-disable-next-line @typescript-eslint/ban-ts-comment\n// @ts-ignore\nwindow.hljs = hljs;\n\nwindow.katex = katex;\n","import { Divider, Link, Typography } from \"@mui/material\";\n// material\nimport { styled } from \"@mui/material/styles\";\nimport ReactMarkdown, { Options } from \"react-markdown\";\nimport rehypeHighlight from \"rehype-highlight\";\nimport rehypeKatex from \"rehype-katex\";\n// markdown plugins\nimport rehypeRaw from \"rehype-raw\";\nimport remarkGfm from \"remark-gfm\";\nimport remarkMath from \"remark-math\";\nimport \"../../utils/editor\";\n\n// ----------------------------------------------------------------------\n\nconst MarkdownWrapperStyle = styled(\"div\")(({ theme }) => {\n  const isLight = theme.palette.mode === \"light\";\n\n  return {\n    // List\n    \"& ul, & ol\": {\n      ...theme.typography.body1,\n      paddingLeft: theme.spacing(5),\n      \"& li\": {\n        lineHeight: 2,\n      },\n    },\n\n    // Blockquote\n    \"& blockquote\": {\n      lineHeight: 1.5,\n      fontSize: \"1.5em\",\n      margin: \"40px auto\",\n      position: \"relative\",\n      fontFamily: \"Georgia, serif\",\n      padding: theme.spacing(3, 3, 3, 8),\n      borderRadius: theme.shape.borderRadiusMd,\n      backgroundColor: theme.palette.background.neutral,\n      color: `${theme.palette.text.secondary} !important`,\n      [theme.breakpoints.up(\"md\")]: {\n        width: \"80%\",\n      },\n      \"& p, & span\": {\n        marginBottom: \"0 !important\",\n        fontSize: \"inherit !important\",\n        fontFamily: \"Georgia, serif !important\",\n        color: `${theme.palette.text.secondary} !important`,\n      },\n      \"&:before\": {\n        left: 16,\n        top: -8,\n        display: \"block\",\n        fontSize: \"3em\",\n        content: '\"\\\\201C\"',\n        position: \"absolute\",\n        color: theme.palette.text.disabled,\n      },\n    },\n\n    // Code Block\n    \"& pre, & pre > code\": {\n      fontSize: 16,\n      fontFamily: \"Consolas, 'Courier New', monospace\",\n      overflowX: \"auto\",\n      whiteSpace: \"pre\",\n      padding: theme.spacing(2),\n      color: theme.palette.common.white,\n      borderRadius: theme.shape.borderRadius,\n      backgroundColor: theme.palette.grey[isLight ? 900 : 500_16],\n    },\n    \"& code\": {\n      fontSize: 14,\n      fontFamily: \"Consolas, 'Courier New', monospace\",\n      borderRadius: 4,\n      whiteSpace: \"pre\",\n      padding: theme.spacing(0.2, 0.5),\n      color: theme.palette.warning[isLight ? \"darker\" : \"lighter\"],\n      backgroundColor: theme.palette.warning[isLight ? \"lighter\" : \"darker\"],\n      \"&.hljs\": { padding: 0, backgroundColor: \"transparent\" },\n    },\n  };\n});\n\nconst components = {\n  h1: ({ ...props }) => <Typography variant=\"h1\" {...props} />,\n  h2: ({ ...props }) => <Typography variant=\"h2\" {...props} />,\n  h3: ({ ...props }) => <Typography variant=\"h3\" {...props} />,\n  h4: ({ ...props }) => <Typography variant=\"h4\" {...props} />,\n  h5: ({ ...props }) => <Typography variant=\"h5\" {...props} />,\n  h6: ({ ...props }) => <Typography variant=\"h6\" {...props} />,\n  hr: ({ ...props }) => <Divider sx={{ my: 3 }} {...props} />,\n  a: ({ ...props }) => {\n    const { href } = props;\n    return !href.includes(\"http\") ? (\n      <Link {...props} />\n    ) : (\n      <Link target=\"_blank\" rel=\"nofollow noreferrer noopener\" {...props} />\n    );\n  },\n};\n\n// ----------------------------------------------------------------------\n\nexport default function Markdown({ ...other }: Options): JSX.Element {\n  return (\n    <MarkdownWrapperStyle>\n      <ReactMarkdown\n        rehypePlugins={[rehypeRaw, rehypeHighlight, rehypeKatex]}\n        remarkPlugins={[remarkMath, remarkGfm]}\n        components={components}\n        {...other}\n      />\n    </MarkdownWrapperStyle>\n  );\n}\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { PATH_API_QA } from \"../../routes/paths\";\nimport { ApiResponse } from \"../../types/ApiResponse\";\nimport { QuestionInfo } from \"../../types/user/Chat\";\n\nconst initialState: QuestionInfo = {\n  answer: \"加载中...\",\n  title: \"加载中...\",\n  description: \"加载中...\",\n};\n\nconst useQuestionInfo = (id: string): QuestionInfo => {\n  const [question, setQuestion] = useState(initialState);\n\n  useEffect(() => {\n    axios.get(PATH_API_QA.questionInfo(id)).then(response => {\n      const data = response.data as ApiResponse<QuestionInfo>;\n      setQuestion(data.data);\n    });\n  }, [id]);\n\n  return question;\n};\nexport default useQuestionInfo;\n"],"sourceRoot":""}