{"version":3,"sources":["../node_modules/@mui/material/internal/svg-icons/CheckCircle.js","../node_modules/@mui/material/internal/svg-icons/Warning.js","../node_modules/@mui/material/StepIcon/stepIconClasses.js","../node_modules/@mui/material/StepIcon/StepIcon.js","../node_modules/@mui/material/StepLabel/stepLabelClasses.js","../node_modules/@mui/material/StepLabel/StepLabel.js","../node_modules/@mui/material/CardMedia/cardMediaClasses.js","../node_modules/@mui/material/CardMedia/CardMedia.js","../node_modules/@mui/material/StepConnector/stepConnectorClasses.js","../node_modules/@mui/material/StepConnector/StepConnector.js","../node_modules/@mui/material/Stepper/stepperClasses.js","../node_modules/@mui/material/Stepper/Stepper.js","../node_modules/@mui/material/Step/stepClasses.js","../node_modules/@mui/material/Step/Step.js","components/qa/ConfirmRespondent.tsx","../node_modules/@mui/material/Switch/switchClasses.js","../node_modules/@mui/material/Switch/Switch.js","hooks/qa/usePostQuestion.ts","hooks/useLocalStorage.ts","components/qa/PostNewQuestion.tsx","components/qa/PostSuccess.tsx","pages/qa/PostQuestion.tsx","../node_modules/lodash/_root.js","../node_modules/lodash/isArray.js","../node_modules/lodash/_getNative.js","../node_modules/lodash/_baseGetTag.js","../node_modules/lodash/isObjectLike.js","../node_modules/lodash/toString.js","../node_modules/lodash/_Symbol.js","../node_modules/lodash/_nativeCreate.js","../node_modules/lodash/_ListCache.js","../node_modules/lodash/_assocIndexOf.js","../node_modules/lodash/_getMapData.js","../node_modules/lodash/_toKey.js","../node_modules/property-expr/index.js","components/general/Page.tsx","../node_modules/lodash/has.js","../node_modules/lodash/_isKey.js","../node_modules/lodash/isSymbol.js","../node_modules/lodash/_MapCache.js","../node_modules/lodash/isObject.js","../node_modules/lodash/_Map.js","../node_modules/lodash/isLength.js","../node_modules/lodash/keys.js","../node_modules/lodash/_hasPath.js","../node_modules/lodash/_castPath.js","../node_modules/lodash/_freeGlobal.js","../node_modules/lodash/isFunction.js","../node_modules/lodash/_toSource.js","../node_modules/lodash/eq.js","../node_modules/lodash/isArguments.js","../node_modules/lodash/_isIndex.js","../node_modules/lodash/mapValues.js","../node_modules/lodash/_baseAssignValue.js","../node_modules/lodash/_baseForOwn.js","../node_modules/lodash/isBuffer.js","../node_modules/lodash/isTypedArray.js","../node_modules/lodash/_baseIteratee.js","../node_modules/lodash/_Stack.js","../node_modules/lodash/_baseIsEqual.js","../node_modules/lodash/_equalArrays.js","../node_modules/lodash/_isStrictComparable.js","../node_modules/lodash/_matchesStrictComparable.js","../node_modules/lodash/_baseGet.js","../node_modules/lodash/_createCompounder.js","../node_modules/lodash/_hasUnicode.js","components/general/HeaderBreadcrumbs.tsx","../node_modules/nanoclone/src/index.js","../node_modules/yup/es/util/printValue.js","../node_modules/yup/es/locale.js","../node_modules/yup/es/util/isSchema.js","../node_modules/yup/es/Condition.js","../node_modules/yup/es/util/toArray.js","../node_modules/yup/es/ValidationError.js","../node_modules/yup/es/util/runTests.js","../node_modules/yup/es/Reference.js","../node_modules/yup/es/util/createValidation.js","../node_modules/yup/es/util/reach.js","../node_modules/yup/es/util/ReferenceSet.js","../node_modules/yup/es/schema.js","../node_modules/yup/es/mixed.js","../node_modules/yup/es/util/isAbsent.js","../node_modules/yup/es/boolean.js","../node_modules/yup/es/string.js","../node_modules/yup/es/number.js","../node_modules/yup/es/util/isodate.js","../node_modules/yup/es/date.js","../node_modules/yup/es/util/sortFields.js","../node_modules/yup/es/util/sortByKeyOrder.js","../node_modules/yup/es/object.js","../node_modules/yup/es/array.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/construct.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","../node_modules/lodash/_baseHas.js","../node_modules/lodash/_getRawTag.js","../node_modules/lodash/_objectToString.js","../node_modules/lodash/_stringToPath.js","../node_modules/lodash/_memoizeCapped.js","../node_modules/lodash/memoize.js","../node_modules/lodash/_mapCacheClear.js","../node_modules/lodash/_Hash.js","../node_modules/lodash/_hashClear.js","../node_modules/lodash/_baseIsNative.js","../node_modules/lodash/_isMasked.js","../node_modules/lodash/_coreJsData.js","../node_modules/lodash/_getValue.js","../node_modules/lodash/_hashDelete.js","../node_modules/lodash/_hashGet.js","../node_modules/lodash/_hashHas.js","../node_modules/lodash/_hashSet.js","../node_modules/lodash/_listCacheClear.js","../node_modules/lodash/_listCacheDelete.js","../node_modules/lodash/_listCacheGet.js","../node_modules/lodash/_listCacheHas.js","../node_modules/lodash/_listCacheSet.js","../node_modules/lodash/_mapCacheDelete.js","../node_modules/lodash/_isKeyable.js","../node_modules/lodash/_mapCacheGet.js","../node_modules/lodash/_mapCacheHas.js","../node_modules/lodash/_mapCacheSet.js","../node_modules/lodash/_baseToString.js","../node_modules/lodash/_arrayMap.js","../node_modules/lodash/_baseIsArguments.js","../node_modules/lodash/_defineProperty.js","../node_modules/lodash/_baseFor.js","../node_modules/lodash/_createBaseFor.js","../node_modules/lodash/_arrayLikeKeys.js","../node_modules/lodash/_baseTimes.js","../node_modules/lodash/stubFalse.js","../node_modules/lodash/_baseIsTypedArray.js","../node_modules/lodash/_baseUnary.js","../node_modules/lodash/_nodeUtil.js","../node_modules/lodash/_baseKeys.js","../node_modules/lodash/_isPrototype.js","../node_modules/lodash/_nativeKeys.js","../node_modules/lodash/_overArg.js","../node_modules/lodash/isArrayLike.js","../node_modules/lodash/_baseMatches.js","../node_modules/lodash/_baseIsMatch.js","../node_modules/lodash/_stackClear.js","../node_modules/lodash/_stackDelete.js","../node_modules/lodash/_stackGet.js","../node_modules/lodash/_stackHas.js","../node_modules/lodash/_stackSet.js","../node_modules/lodash/_baseIsEqualDeep.js","../node_modules/lodash/_SetCache.js","../node_modules/lodash/_setCacheAdd.js","../node_modules/lodash/_setCacheHas.js","../node_modules/lodash/_arraySome.js","../node_modules/lodash/_cacheHas.js","../node_modules/lodash/_equalByTag.js","../node_modules/lodash/_Uint8Array.js","../node_modules/lodash/_mapToArray.js","../node_modules/lodash/_setToArray.js","../node_modules/lodash/_equalObjects.js","../node_modules/lodash/_getAllKeys.js","../node_modules/lodash/_baseGetAllKeys.js","../node_modules/lodash/_arrayPush.js","../node_modules/lodash/_getSymbols.js","../node_modules/lodash/_arrayFilter.js","../node_modules/lodash/stubArray.js","../node_modules/lodash/_getTag.js","../node_modules/lodash/_DataView.js","../node_modules/lodash/_Promise.js","../node_modules/lodash/_Set.js","../node_modules/lodash/_WeakMap.js","../node_modules/lodash/_getMatchData.js","../node_modules/lodash/_baseMatchesProperty.js","../node_modules/lodash/get.js","../node_modules/lodash/hasIn.js","../node_modules/lodash/_baseHasIn.js","../node_modules/lodash/identity.js","../node_modules/lodash/property.js","../node_modules/lodash/_baseProperty.js","../node_modules/lodash/_basePropertyDeep.js","../node_modules/lodash/snakeCase.js","../node_modules/lodash/_arrayReduce.js","../node_modules/lodash/deburr.js","../node_modules/lodash/_deburrLetter.js","../node_modules/lodash/_basePropertyOf.js","../node_modules/lodash/words.js","../node_modules/lodash/_asciiWords.js","../node_modules/lodash/_hasUnicodeWord.js","../node_modules/lodash/_unicodeWords.js","../node_modules/lodash/camelCase.js","../node_modules/lodash/capitalize.js","../node_modules/lodash/upperFirst.js","../node_modules/lodash/_createCaseFirst.js","../node_modules/lodash/_castSlice.js","../node_modules/lodash/_baseSlice.js","../node_modules/lodash/_stringToArray.js","../node_modules/lodash/_asciiToArray.js","../node_modules/lodash/_unicodeToArray.js","../node_modules/lodash/mapKeys.js","../node_modules/toposort/index.js","utils/formatNumber.ts","../node_modules/@mui/material/Card/cardClasses.js","../node_modules/@mui/material/Card/Card.js","../node_modules/@mui/material/CircularProgress/circularProgressClasses.js","../node_modules/@mui/material/CircularProgress/CircularProgress.js","../node_modules/@mui/lab/LoadingButton/loadingButtonClasses.js","../node_modules/@mui/lab/LoadingButton/LoadingButton.js","../node_modules/@mui/material/Stepper/StepperContext.js","../node_modules/numeral/numeral.js","../node_modules/@mui/material/Step/StepContext.js","../node_modules/@iconify/icons-eva/checkmark-fill.js","hooks/user/useProfile.ts","components/general/editor/MarkdownEditor.tsx","../node_modules/vditor/dist/index.min.js"],"names":["createSvgIcon","_jsx","d","getStepIconUtilityClass","slot","generateUtilityClass","_circle","stepIconClasses","generateUtilityClasses","_excluded","StepIconRoot","styled","SvgIcon","name","overridesResolver","props","styles","root","theme","display","transition","transitions","create","duration","shortest","color","palette","text","disabled","completed","primary","main","active","error","StepIconText","fill","contrastText","fontSize","typography","caption","fontFamily","StepIcon","React","inProps","ref","useThemeProps","classNameProp","className","icon","other","_objectWithoutPropertiesLoose","ownerState","_extends","classes","slots","composeClasses","useUtilityClasses","clsx","as","Warning","CheckCircle","_jsxs","children","cx","cy","r","x","y","textAnchor","getStepLabelUtilityClass","stepLabelClasses","StepLabelRoot","orientation","alignItems","alternativeLabel","flexDirection","cursor","textAlign","padding","StepLabelLabel","label","body2","fontWeight","marginTop","StepLabelIconContainer","iconContainer","flexShrink","paddingRight","StepLabelLabelContainer","labelContainer","width","secondary","StepLabel","componentsProps","iconProp","optional","StepIconComponentProp","StepIconComponent","StepIconProps","StepperContext","StepContext","iconContext","muiName","getCardMediaUtilityClass","CardMediaRoot","isMediaComponent","isImageComponent","media","img","backgroundSize","backgroundRepeat","backgroundPosition","objectFit","MEDIA_COMPONENTS","IMAGE_COMPONENTS","CardMedia","component","image","src","style","indexOf","composedStyle","backgroundImage","role","undefined","getStepConnectorUtilityClass","StepConnectorRoot","flex","marginLeft","position","top","left","right","StepConnectorLine","line","capitalize","borderColor","mode","grey","borderTopStyle","borderTopWidth","borderLeftStyle","borderLeftWidth","minHeight","StepConnector","getStepperUtilityClass","StepperRoot","defaultConnector","Stepper","activeStep","connector","nonLinear","childrenArray","toArray","filter","Boolean","steps","map","step","index","last","length","contextValue","Provider","value","getStepUtilityClass","StepRoot","paddingLeft","Step","activeProp","completedProp","disabledProp","expanded","newChildren","RootStyle","Card","maxWidth","margin","spacing","breakpoints","up","ConfirmRespondent","avatar","goToNextStep","respondentName","description","fee","specialties","ratings","questionNumber","Grid","container","justifyContent","item","xs","md","Stack","Typography","variant","sx","mx","elevation","height","Box","my","fNumber","direction","Icon","checkmarkFill","Button","onClick","fullWidth","size","RouterLink","to","getSwitchUtilityClass","switchClasses","SwitchRoot","edge","overflow","boxSizing","zIndex","verticalAlign","colorAdjust","marginRight","thumb","switchBase","checked","transform","SwitchSwitchBase","SwitchBase","input","common","white","track","opacity","backgroundColor","alpha","action","hoverOpacity","lighten","darken","SwitchTrack","borderRadius","black","SwitchThumb","boxShadow","shadows","Switch","composedClasses","type","checkedIcon","usePostQuestion","useCallback","question","a","axios","post","PATH_API_QA","postQuestion","response","data","handleAxiosException","useLocalStorage","key","defaultValue","useState","window","localStorage","getItem","JSON","parse","setValue","useEffect","listener","event","storageArea","newValue","addEventListener","removeEventListener","removeItem","setItem","stringify","LabelStyle","subtitle2","marginBottom","INITIAL_STORAGE","title","isPublic","NewQuestionForm","storage","setStorage","enqueueSnackbar","useSnackbar","setDescription","useParams","respondent","NewQuestionSchema","Yup","shape","required","formik","useFormik","enableReinitialize","initialValues","images","validationSchema","onSubmit","values","setSubmitting","resetForm","setErrors","message","errors","touched","handleSubmit","isSubmitting","getFieldProps","noValidate","autoComplete","p","TextField","helperText","MarkdownEditor","onChange","FormControlLabel","control","mt","LoadingButton","loading","ResetPasswordComplete","leftTime","setLeftTime","timer","setInterval","clearInterval","Avatar","alignSelf","mb","STEPS","QontoConnector","divider","QontoStepIcon","PostQuestion","setActiveStep","profile","useProfile","respondentProfile","Error","Page","Container","HeaderBreadcrumbs","heading","links","href","specialities","rating","answerCount","freeGlobal","require","freeSelf","self","Object","Function","module","exports","isArray","Array","baseIsNative","getValue","object","Symbol","getRawTag","objectToString","symToStringTag","toStringTag","baseToString","nativeCreate","getNative","listCacheClear","listCacheDelete","listCacheGet","listCacheHas","listCacheSet","ListCache","entries","this","clear","entry","set","prototype","get","has","eq","array","isKeyable","__data__","isSymbol","result","Cache","maxSize","_maxSize","_size","_values","SPLIT_REGEX","DIGIT_REGEX","LEAD_DIGIT_REGEX","SPEC_CHAR_REGEX","CLEAN_QUOTES_REGEX","pathCache","setCache","getCache","normalizePath","path","split","part","replace","match","isQuoted","str","charAt","shouldBeQuoted","hasLeadingNumber","test","hasSpecialChars","setter","parts","obj","len","getter","safe","join","segments","reduce","forEach","cb","thisArg","iter","idx","isBracket","call","baseHas","hasPath","reIsDeepProp","reIsPlainProp","baseGetTag","isObjectLike","mapCacheClear","mapCacheDelete","mapCacheGet","mapCacheHas","mapCacheSet","MapCache","Map","arrayLikeKeys","baseKeys","isArrayLike","castPath","isArguments","isIndex","isLength","toKey","hasFunc","isKey","stringToPath","toString","global","isObject","tag","funcToString","func","e","baseIsArguments","objectProto","hasOwnProperty","propertyIsEnumerable","arguments","reIsUint","baseAssignValue","baseForOwn","baseIteratee","iteratee","defineProperty","baseFor","keys","stubFalse","freeExports","nodeType","freeModule","Buffer","isBuffer","baseIsTypedArray","baseUnary","nodeUtil","nodeIsTypedArray","isTypedArray","baseMatches","baseMatchesProperty","identity","property","stackClear","stackDelete","stackGet","stackHas","stackSet","baseIsEqualDeep","baseIsEqual","bitmask","customizer","stack","SetCache","arraySome","cacheHas","equalFunc","isPartial","arrLength","othLength","arrStacked","othStacked","seen","arrValue","othValue","compared","othIndex","push","srcValue","arrayReduce","deburr","words","reApos","RegExp","callback","string","reHasUnicode","moreLink","flexGrow","gutterBottom","isString","target","noWrap","_","Set","baseClone","circulars","clones","cloneNode","Date","getTime","clone","from","findIndex","i","errorToString","regExpToString","symbolToString","SYMBOL_REGEXP","printNumber","val","printSimpleValue","quoteStrings","typeOf","slice","isNaN","toISOString","printValue","mixed","default","oneOf","notOneOf","notType","originalValue","isCast","msg","defined","min","max","matches","email","url","uuid","trim","lowercase","uppercase","number","lessThan","moreThan","positive","negative","integer","date","boolean","isValue","noUnknown","assign","isSchema","__isYupSchema__","Condition","refs","options","fn","TypeError","then","otherwise","is","check","every","args","pop","schema","branch","concat","resolve","base","parent","context","apply","source","strReg","ValidationError","errorOrErrors","field","params","inner","err","isError","captureStackTrace","runTests","endEarly","tests","sort","fired","once","count","nestedErrors","prefixes","Reference","isContext","isSibling","prefix","__isYupRef","createValidation","config","validate","_ref","sync","rest","excluded","sourceKeys","Ref","isRef","createError","overrides","nextParams","mapValues","formatError","ctx","_ref2","Promise","validOrError","catch","OPTIONS","substr","getIn","lastPart","lastPartDebug","_part","innerType","parseInt","fields","_type","parentPath","ReferenceSet","list","describe","acc","add","delete","next","newItems","removeItems","BaseSchema","deps","transforms","conditions","_mutate","_typeError","_whitelist","_blacklist","exclusiveTests","spec","withMutation","typeError","locale","strip","strict","abortEarly","recursive","nullable","presence","_value","getPrototypeOf","_whitelistError","_blacklistError","cloneDeep","meta","before","combined","mergedSpec","merge","v","_typeCheck","condition","resolvedSchema","_cast","assert","isType","formattedValue","formattedResult","rawValue","_options","getDefault","initialTests","finalTests","maybeCb","_validate","reject","validateSync","_getDefault","def","isStrict","exclusive","s","_isPresent","isNullable","opts","isExclusive","dep","enums","valids","resolved","resolveAll","includes","invalids","n","c","method","alias","notRequired","Mixed","isAbsent","BooleanSchema","String","valueOf","rEmail","rUrl","rUUID","isTrimmed","objStringTag","StringSchema","strValue","regex","excludeEmptyString","search","toLowerCase","toUpperCase","NumberSchema","parsed","NaN","parseFloat","Number","less","more","isInteger","_method","avail","truncate","Math","isoReg","invalidDate","DateSchema","timestamp","struct","numericKeys","minutesOffset","exec","k","UTC","isoParse","param","cast","limit","prepareParam","INVALID_DATE","sortFields","excludedEdges","edges","nodes","excludes","b","addNode","depPath","node","toposort","reverse","arr","Infinity","some","ii","_err$path","sortByKeyOrder","unknown","known","defaultSort","ObjectSchema","_sortErrors","_nodes","_excludedEdges","_options$stripUnknown","stripUnknown","intermediateValue","innerOptions","__validating","isChanged","prop","exists","fieldValue","inputValue","fieldSpec","nextFields","schemaOrRef","dft","getDefaultFromShape","additions","picked","fromGetter","newObj","noAllow","unknownKeys","allow","mapKeys","transformKeys","camelCase","snakeCase","ArraySchema","_opts","castArray","castElement","_options$abortEarly","_options$recursive","original","rejector","Parent","Class","isNativeReflectConstruct","Reflect","construct","instance","bind","setPrototypeOf","_cache","Wrapper","constructor","enumerable","writable","configurable","nativeObjectToString","isOwn","unmasked","memoizeCapped","rePropName","reEscapeChar","charCodeAt","quote","subString","memoize","cache","resolver","memoized","Hash","hashClear","hashDelete","hashGet","hashHas","hashSet","isFunction","isMasked","toSource","reIsHostCtor","funcProto","reIsNative","coreJsData","maskSrcKey","uid","IE_PROTO","assocIndexOf","splice","getMapData","arrayMap","symbolProto","createBaseFor","fromRight","keysFunc","iterable","baseTimes","inherited","isArr","isArg","isBuff","skipIndexes","typedArrayTags","freeProcess","process","types","binding","isPrototype","nativeKeys","Ctor","overArg","arg","baseIsMatch","getMatchData","matchesStrictComparable","matchData","noCustomizer","objValue","COMPARE_PARTIAL_FLAG","pairs","LARGE_ARRAY_SIZE","equalArrays","equalByTag","equalObjects","getTag","argsTag","arrayTag","objectTag","objIsArr","othIsArr","objTag","othTag","objIsObj","othIsObj","isSameTag","objIsWrapped","othIsWrapped","objUnwrapped","othUnwrapped","setCacheAdd","setCacheHas","predicate","Uint8Array","mapToArray","setToArray","symbolValueOf","byteLength","byteOffset","buffer","convert","stacked","getAllKeys","objProps","objLength","objStacked","skipCtor","objCtor","othCtor","baseGetAllKeys","getSymbols","arrayPush","symbolsFunc","offset","arrayFilter","stubArray","nativeGetSymbols","getOwnPropertySymbols","symbol","resIndex","DataView","WeakMap","mapTag","promiseTag","setTag","weakMapTag","dataViewTag","dataViewCtorString","mapCtorString","promiseCtorString","setCtorString","weakMapCtorString","ArrayBuffer","ctorString","isStrictComparable","hasIn","baseGet","baseHasIn","baseProperty","basePropertyDeep","createCompounder","word","accumulator","initAccum","deburrLetter","reLatin","reComboMark","basePropertyOf","asciiWords","hasUnicodeWord","unicodeWords","pattern","guard","reAsciiWord","reHasUnicodeWord","rsDingbatRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","reUnicodeWord","upperFirst","createCaseFirst","castSlice","hasUnicode","stringToArray","methodName","strSymbols","chr","trailing","baseSlice","start","end","asciiToArray","unicodeToArray","rsAstral","rsCombo","rsFitz","rsNonAstral","rsSymbol","reUnicode","sorted","visited","outgoingEdges","makeOutgoingEdges","nodesHash","res","makeNodesHash","visit","predecessors","nodeRep","outgoing","child","uniqueNodes","fCurrency","numeral","format","fData","getCardUtilityClass","CardRoot","Paper","raised","getCircularProgressUtilityClass","_t","_t2","_t3","_t4","SIZE","circularRotateKeyframe","keyframes","circularDashKeyframe","CircularProgressRoot","css","CircularProgressSVG","svg","CircularProgressCircle","circle","disableShrink","circleDisableShrink","stroke","strokeDasharray","strokeDashoffset","CircularProgress","thickness","circleStyle","rootStyle","rootProps","circumference","PI","toFixed","round","viewBox","strokeWidth","getLoadingButtonUtilityClass","loadingButtonClasses","LoadingButtonRoot","shouldForwardProp","rootShouldForwardProp","startIconLoadingStart","endIconLoadingEnd","short","loadingPosition","LoadingButtonLoadingIndicator","loadingIndicator","visibility","LoadingIndicator","startIcon","endIcon","define","VERSION","formats","locales","defaults","currentLocale","zeroFormat","nullFormat","defaultFormat","scalePercentBy100","Numeral","_input","kind","unformatFunction","regexp","isNumeral","regexps","unformat","stringToNumber","version","numberToFormat","roundingFunction","abbrForce","abs","int","precision","signed","thousands","output","negP","optDec","leadingCount","abbr","trillion","billion","million","thousand","decimal","neg","abbreviations","delimiters","abbreviation","stringOriginal","currency","pow","insert","t","multiplier","correctionFactor","accum","mn","maxDecimals","optionals","boundedPrecision","optionalsRegExp","power","splitValue","minDecimals","localeData","reset","register","culture","_decimalSep","_thousandSep","_currSymbol","_valArray","_abbrObj","_thousandRegEx","temp","console","warn","inputString","formatFunction","corrFactor","cback","curr","currI","O","subtract","multiply","divide","difference","ordinal","space","suffixes","binary","unformatRegex","bytes","suffix","bytesMultiplier","symbols","after","toExponential","hours","floor","minutes","seconds","timeArray","__esModule","initialState","username","PATH_AVATAR_LOADING","location","contacts","wechat","weibo","detail","pinnedAnswers","setProfile","PATH_API_USER","exception","log","appearance","useAppearance","auth","useAuth","setVditor","vditor","Vditor","placeholder","toolbar","counter","enable","preview","hljs","lineNumber","getThemeMode","math","inlineDigit","current","upload","headers","accessToken","getAccessToken","Authorization","fieldName","filename","files","response_","failed","success","code","errFiles","succMap","tab","id","factory","__webpack_modules__","diff_match_patch","Diff_Timeout","Diff_EditCost","Match_Threshold","Match_Distance","Patch_DeleteThreshold","Patch_Margin","Match_MaxBits","DIFF_DELETE","Diff","op","diff_main","text1","text2","opt_checklines","opt_deadline","MAX_VALUE","deadline","checklines","commonlength","diff_commonPrefix","commonprefix","substring","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_lineMode_","diff_bisect_","diff_linesToChars_","chars1","chars2","linearray","lineArray","diff_charsToLines_","diff_cleanupSemantic","pointer","count_delete","count_insert","text_delete","text_insert","subDiff","j","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","delta","front","k1start","k1end","k2start","k2end","k1","k1_offset","y1","x1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","lineHash","diff_linesToCharsMunge_","chars","lineStart","lineEnd","lineArrayLength","fromCharCode","maxLines","pointermin","pointermax","pointermid","pointerstart","pointerend","diff_commonOverlap_","text_length","best","found","dmp","diff_halfMatchI_","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","seed","best_common","prefixLength","suffixLength","hm1","hm2","changes","equalities","equalitiesLength","lastEquality","length_insertions1","length_deletions1","length_insertions2","length_deletions2","diff_cleanupSemanticLossless","deletion","insertion","overlap_length1","overlap_length2","diff_cleanupSemanticScore_","one","two","char1","char2","nonAlphaNumeric1","nonAlphaNumericRegex_","nonAlphaNumeric2","whitespace1","whitespaceRegex_","whitespace2","lineBreak1","linebreakRegex_","lineBreak2","blankLine1","blanklineEndRegex_","blankLine2","blanklineStartRegex_","equality1","edit","equality2","commonOffset","commonString","bestEquality1","bestEdit","bestEquality2","bestScore","score","diff_cleanupEfficiency","pre_ins","pre_del","post_ins","post_del","diff_xIndex","loc","last_chars1","last_chars2","diff_prettyHtml","html","pattern_amp","pattern_lt","pattern_gt","pattern_para","diff_text1","diff_text2","diff_levenshtein","levenshtein","insertions","deletions","diff_toDelta","encodeURI","diff_fromDelta","diffsLength","tokens","decodeURI","ex","match_main","match_bitap_","match_alphabet_","match_bitapScore_","accuracy","proximity","score_threshold","best_loc","lastIndexOf","bin_min","bin_mid","matchmask","last_rd","bin_max","finish","rd","charMatch","patch_addContext_","patch","start2","length1","start1","length2","patch_make","opt_b","opt_c","patches","patch_obj","patchDiffLength","char_count1","char_count2","prepatch_text","postpatch_text","diff_type","diff_text","patch_deepCopy","patchesCopy","patchCopy","patch_apply","nullPadding","patch_addPadding","patch_splitMax","results","start_loc","expected_loc","end_loc","index2","index1","mod","paddingLength","extraLength","patch_size","bigpatch","precontext","empty","shift","postcontext","patch_toText","patch_fromText","textline","textPointer","patchHeader","m","sign","DIFF_INSERT","DIFF_EQUAL","__unused_webpack_module","__webpack_exports__","__webpack_require__","abcRender","adapterRender","chartRender","codeRender","flowchartRender","graphvizRender","highlightRender","lazyLoadImageRender","element","document","loadImg","it","testImage","createElement","getAttribute","naturalHeight","naturalWidth","querySelector","clientWidth","innerHeight","removeAttribute","querySelectorAll","imgElement","vditorImageIntersectionObserver","disconnect","observe","IntersectionObserver","entrie","isIntersecting","intersectionRatio","mathRender","mediaRender","mermaidRender","mindmapRender","outlineRender","plantumlRender","constants","setContentTheme","addScript","hasClosest","setLute","selection","speechRender","lang","speechSynthesis","SpeechSynthesisUtterance","playSVG","pauseSVG","speechDom","body","insertAdjacentElement","getVoice","currentVoice","defaultVoice","getVoices","onvoiceschanged","voice_1","onclick","utterThis","voice","onend","cancel","innerHTML","speak","speaking","paused","resume","pause","Hc","vditorSpeechRange","getSelection","getRangeAt","cloneRange","rect","getBoundingClientRect","scrollTop","screenX","setAttribute","__awaiter","_arguments","P","generator","fulfilled","rejected","done","__generator","f","g","sent","trys","ops","verb","iterator","mergeOptions","defaultOption","anchor","cdn","CDN","customEmoji","emojiPath","HLJS_OPTIONS","markdown","MARKDOWN_OPTIONS","MATH_OPTIONS","speech","THEME_OPTIONS","T","md2html","mdText","mergedOptions","G","lute","X","autoSpace","codeBlockPreview","emojiSite","emojis","fixTermTypo","footnotes","headingAnchor","inlineMathDigit","lazyLoadImage","linkBase","linkPrefix","listStyle","mark","mathBlockPreview","paragraphBeginningSpace","sanitize","toc","renderers","SetJSRenderers","Md2HTML","SetHeadingID","previewRender","previewElement","_a","classList","i18n","VditorI18n","J","Z","H","B","Q","Y","getElementById","offsetTop","onhashchange","decodeURIComponent","hash","spanElement","lG","fb","headingElement","scrollTo","scrollX","preview_image","setCodeTheme","previewImage","E","_VDITOR_VERSION","Constants","ZWSP","DROP_EDITOR","MOBILE_WIDTH","CLASS_MENU_DISABLED","EDIT_TOOLBARS","CODE_THEME","CODE_LANGUAGES","engine","macros","_constants__WEBPACK_IMPORTED_MODULE_0__","_util_addScript__WEBPACK_IMPORTED_MODULE_2__","_adapterRender__WEBPACK_IMPORTED_MODULE_1__","abcElements","abcRenderAdapter","getElements","parentElement","contains","ABCJS","renderAbc","getCode","overflowX","mathRenderAdapter","mathElement","textContent","mermaidRenderAdapter","el","mindmapRenderAdapter","chartRenderAdapter","innerText","graphvizRenderAdapter","flowchartRenderAdapter","plantumlRenderAdapter","echartsElements","option","echarts","init","setOption","_util_code160to32__WEBPACK_IMPORTED_MODULE_0__","maxHeight","codeText","codeElement","remove","divElement","copy","copied","textarea","outerHeight","flowchartElements","flowchartObj","flowchart","drawSVG","graphvizElements","blob","Blob","blobUrl","URL","webkitURL","createObjectURL","worker","Worker","Viz","renderSVGElement","outerHTML","_util_addStyle__WEBPACK_IMPORTED_MODULE_1__","hljsOption","vditorHljsStyle","block","highlightElement","linenNumberTemp","whiteSpace","getComputedStyle","isSoftWrap","lineNumberHTML","lineList","lineHeight","insertAdjacentHTML","_util_addScript__WEBPACK_IMPORTED_MODULE_3__","_util_addStyle__WEBPACK_IMPORTED_MODULE_2__","_util_code160to32__WEBPACK_IMPORTED_MODULE_4__","mathElements","defaultOptions","katex","renderToString","displayMode","tagName","stopPropagation","preventDefault","vditorMathElement","currentTarget","closest","clipboardData","setData","MathJax","loader","paths","mathjax","startup","typeset","tex","renderMath_1","mathOptions","getMetricsFor","tex2svgPromise","append","updateDocument","errorTextElement","promise","chains","_loop_1","fns","chainAsync_1","aElement","videoRender","audioRender","youtubeMatch","youkuMatch","qqMatch","coubMatch","facebookMatch","dailymotionMatch","bilibiliMatch","tedMatch","encodeURIComponent","iframeRender","mermaidElements","altFontFamily","htmlLabels","useMaxWidth","gantt","leftPadding","rightPadding","securityLevel","sequence","boxMargin","diagramMarginX","diagramMarginY","startOnLoad","themeVariables","activationBkgColor","activationBorderColor","activeTaskBkgColor","activeTaskBorderColor","actorBkg","actorBorder","actorLineColor","actorTextColor","altBackground","altSectionBkgColor","arrowheadColor","background","border1","border2","classText","clusterBkg","clusterBorder","critBkgColor","critBorderColor","darkTextColor","defaultLinkColor","doneTaskBkgColor","doneTaskBorderColor","edgeLabelBackground","errorBkgColor","errorTextColor","fillType0","fillType1","fillType2","fillType3","fillType4","fillType5","fillType6","fillType7","gridColor","labelBackground","labelBoxBkgColor","labelBoxBorderColor","labelColor","labelTextColor","lineColor","loopTextColor","mainBkg","mainContrastColor","nodeBkg","nodeBorder","noteBkgColor","noteBorderColor","noteTextColor","primaryBorderColor","primaryColor","primaryTextColor","secondBkg","secondaryBorderColor","secondaryColor","secondaryTextColor","sectionBkgColor","sectionBkgColor2","sequenceNumberColor","signalColor","signalTextColor","taskBkgColor","taskBorderColor","taskTextClickableColor","taskTextColor","taskTextDarkColor","taskTextLightColor","taskTextOutsideColor","tertiaryBorderColor","tertiaryColor","tertiaryTextColor","textColor","titleColor","todayLineColor","mermaid","initialize","mindmapElements","series","initialTreeDepth","itemStyle","borderWidth","lineStyle","roam","tooltip","trigger","triggerOn","_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__","_mathRender__WEBPACK_IMPORTED_MODULE_0__","contentElement","targetElement","tocHTML","ids","W","lastIndex","tempElement","SetToC","currentMode","HTML2VditorDOM","SpinVditorIRDOM","SpinVditorDOM","Lute","New","headingsElement","firstElementChild","nextElementSibling","isEqualNode","idElement","windowScrollY","toolbarConfig","pin","offsetHeight","scrollY","plantumlElements","plantumlEncoder","encode","PutEmojis","SetEmojiSite","SetHeadingAnchor","SetInlineMathAllowDigitAfterOpenMarker","SetAutoSpace","SetFootnotes","SetFixTermTypo","SetVditorCodeBlockPreview","SetVditorMathBlockPreview","SetSanitize","SetChineseParagraphBeginningSpace","SetRenderListStyle","SetLinkBase","SetLinkPrefix","SetMark","SetImageLazyLoading","oldImgElement","oldImgRect","spin","close","translate3d","innerWidth","setTimeout","scrollWidth","scrollHeight","clientHeight","btnElement","deg","codeTheme","_util_addStyle__WEBPACK_IMPORTED_MODULE_0__","contentTheme","vditorContentTheme","cssPath","addScriptSync","xhrObj","XMLHttpRequest","open","setRequestHeader","send","scriptElement","responseText","head","appendChild","async","onload","addStyle","styleElement","rel","getElementsByTagName","code160to32","isSafari","navigator","userAgent","isFirefox","accessLocalStorage","getEventName","isCtrl","platform","metaKey","ctrlKey","updateHotkeyTip","hotkey","startsWith","isChrome","vendor","_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__","hasTopClosestByClassName","hasClosestByClassName","parentClosest","findTop","hasTopClosestByTag","nodeName","S","getTopList","topUlElement","topOlElement","topListElement","hasClosestByAttribute","attr","isClosest","hasClosestBlock","blockElement","hasClosestByMatchTag","getLastNode","lastChild","hasClosestByTag","hasClosestByHeadings","_i","merger","_compatibility__WEBPACK_IMPORTED_MODULE_2__","_hasClosest__WEBPACK_IMPORTED_MODULE_1__","getEditorRange","range","rangeCount","startContainer","focus","ownerDocument","createRange","setStart","collapse","getCursorPosition","editor","cursorRect","parentRect","getClientRects","parent_1","startOffset","childNodes","selectNode","setEnd","endContainer","endOffset","selectIsEditor","commonAncestorContainer","setSelectionFocus","removeAllRanges","addRange","getSelectPosition","selectElement","editorElement","preSelectionRange","selectNodeContents","setSelectionByPosition","charIndex","pNode","foundStart","stop","nextCharIndex","nextSibling","setStartBefore","setStartAfter","setEndBefore","setEndAfter","setRangeByWbr","wbrElement","previousElementSibling","isSameNode","previousSibling","i7","insertNode","createTextNode","insertHTML","tempBlockElement","pasteElement","preventInput","execCommand","lastElementChild","F9","pasteTemplate","content","__webpack_module_cache__","moduleId","cachedModule","definition","o","templateObject_1","getMarkdown","sv","VditorDOM2Md","wysiwyg","VditorIRDOM2Md","ir","DevTools","renderEchart","_this","devtools","ASTChart","RenderEChartsJSON","align","orient","toolbox","bottom","emphasis","iconStyle","feature","restore","show","saveAsImage","resize","compatibility","removeCurrentToolbar","names","itemElement","setCurrentToolbar","enableToolbar","disableToolbar","hideToolbar","showToolbar","hidePanel","panels","exceptElement","elements","emoji","hint","popover","toggleSubMenu","panelElement","actionBtn","level","Le","print","processCodeRender","previewPanel","language","renderToc","outline","render","clickToc","keydownToc","im","execAfterRender","insertBeforeBlock","trimRight","insertAfterBlock","tocElement","ignoreSpace","isHrMD","isHeadingMD","startSpace","endSpace","previousNode","previewRenderElement","firstLinkRefDefElement","isIRElement","footnoteElement","a1","blockquoteElement","O9","listPrevElement","listNextElement","inputType","debugger","footnoteItemElement","footnoteItemText","marker","footnoteRefElement","firstFootnoteElement","allLinkRefDefsElement","allFootnoteElement","ib","process_processAfterRender","enableAddUndoStack","enableHint","enableInput","matchHotKey","hotKey","yl","altKey","shiftKey","hotKeys","keyCode","hasShift","vU","expandMarker","nodeElement","JQ","nodeElementEnd","collapsed","nextNode","nodeValue","markerElement","parentNextNode","nextIsNode","previousIsNode","inputEvent","processAfterRender","codeBlockMarkerElement","openMarkerElement","getSideByType","mathBlockMarkerElement","mathBlockCloseElement","Caret","isSVElement","processSpinVditorSVDOM","scrollCenter","setTheme","setPadding","minPadding","offsetWidth","setTypewriterPosition","typewriterMode","setProperty","afterRender","initValue","pK","originalInnerHTML","HTML2Md","highlightToolbarIR","clearTimeout","hlToolbarTimeoutId","Gb","zh","typeElement","liElement","afterRenderEvent","afterRenderTimeoutId","composingLock","undo","addToUndoStack","undoDelay","getNextHTML","getPreviousHTML","modifyPre","find","pElement","cloneRangeOffset","parentNode","insertBefore","firstChild","setHeading","removeHeading","showCode","first","previousElement","removeBlockElement","click","highlightToolbarWYSIWYG","footnotesElement","genClose","setPopoverPosition","commentElement","ids_1","nextIds_1","tableElement","genUp","genDown","updateTable_1","oldRow","rows","oldColumn","cells","row","input_1","column","input2_1","columnDiff","rowDiff","rowHTML","l","setAlign_1","setTableAlign","left_1","center_1","right_1","td","th","alignType","alignLeft","ns","alignCenter","alignRight","insertRowElement","insertRowBelow","cellElement","insertRow","insertRowBElement","insertRowAbove","insertColumnElement","insertColumnRight","insertColumn","insertColumnBElement","insertColumnLeft","deleteRowElement","deleteRow","deleteColumnElement","deleteColumn","inputWrap","oninput","onkeydown","isComposing","select","input2Wrap","linkRefElement","genLinkRefPopover","footnotesRefElement","footnoteRef","input_2","blockRenderElement","languageWrap","language_1","codeElement_1","recentLanguage","onkeyup","matchLangData","selectionStart","keyName","genHTML","input_3","genAPopover","backslashElement","offsetLeft","updateLinkRef","input1","textIsNotEmpty","linkHotkey","input1Wrap","linkRef","upElement","nextElement","downElement","down","nextInputElement","updateA","input2","link","tooltipText","highlightToolbar","renderDomByMd","Md2VditorDOM","cancelBES","commandName","jump","lastTagName","lastEndTagName","splitHTML","previousHTML","nextHTML","beforeHTML","afterHTML","splitElement","lastBeforeHTML","lastAfterHTML","MenuItem","menuItem","tip","iconElement","tipPosition","CustomEvent","useHighlight","useRender","quoteElement","inlineCodeElement","listToggle","surroundContents","deleteContents","textInputElement","textInputElements","tableHTML_1","tableText","delimiter_1","header","subIndex","cell","hrHTML","toolbarEvent","process_processToolbar","processToolbar","__extends","extendStatics","__proto__","__","setEditMode","markdownText","SetVditorIR","SetVditorWYSIWYG","SetVditorSV","Md2VditorIRDOM","svHTML","resetIcon","toggle","EditMode","_super","instantRendering","splitView","_bindEvent","getSelectText","focusEvent","dblclickEvent","blurEvent","expandElement","selectPopover","relatedTarget","hideComment","blur","dropEvent","dataTransfer","getData","paste","pasteCode","copyEvent","cutEvent","comment","getComments","adjustTop","cursorTop","Ny","hotkeyEvent","extend","_b","_c","_d","_e","recordFirstPosition","textElement","blockquoteMarkerElement","listMarkerElement","taskMarkerElement","listLastMarkerElement","startIndex","isTask","listFirstMarkerElement","fixTab","isFirst","newLineMatch","newLineText","processPreviousMarkers","extractContents","previousLastElement","processKeydown_processKeydown","fixGSKeyBackspace","fixCJKPosition","fixHR","fixMarkdown","fixList","fixTable","codeRenderElement","inputElemment","fixCodeBlock","fixBlockquote","topBQElement","E2","pTempElement","fixTask","linRefElement","inputElement","fixDelete","rangeStart","rangeStartOffset","nextIsCode","fixFirefoxArrowUpTable","fixCursorDownInlineMath","wysiwyg_processKeydown_processKeydown","newlineElement","beforeMarkerElement","afterMarkerElement","preRenderElement","preBeforeElement","isFirstCell","table2Element","isLastCell","headingMarkerElement","process_processHeading","headingLength","processKeydown","ctrlEnter","redo","esc","processHeading","repeat","subMenuItem","dispatchEvent","selectEvent","onmouseup","selectText","showComment","processPaste","Md2VditorSVDOM","spanNode","isPrevious","sideElement","SpinVditorSVDOM","spanType","markerText","hasNL","previousType","previousText","openMarker","processTimeoutId","newLine","insertAdjacentText","getElement","setHeaders","xhr","Upload","isUploading","uploadFiles","fileList","filesMax","fileItem","isValidate","validateResult","formData","extraData","iMax","multiple","DataTransferItem","getAsFile","handler","file","hide","uploadFileList","errorTip","uploadingStr","nameEmpty","over","fileExt","accept","fileTypeError","uploading","validateFile","FormData","token","withCredentials","onreadystatechange","readyState","DONE","status","uploadError","succFileText","genUploadedLabel","onprogress","lengthComputable","progress","loaded","total","input_input","previousAEmptyElement","previoueIsEmptyA","wbr","html_1","firstLinkRefDefElement_1","isWYSIWYGElement","firstFootnoteElement_1","triggerRemoveComment","__makeTemplateObject","cooked","raw","fixBrowserBehavior_awaiter","fixBrowserBehavior_generator","pLiElement","zwspNode","inlineElement","insertEmptyBlock","goPreviousCell","isSelected","pHTML","childElementCount","trimLeft","replaceChild","listIndent","liElements_1","cloneContents","liParentElement","liHTML_1","tempTopListElement","listOutdent","liParentLiElement","liParentAfterElement","liElements_2","isMatch_1","afterHTML_1","columnCnt","rowCnt","currentColumn","textArray","endsWith","pText","pTextList","tableHeaderMD","pInnerHTML","innerHTMLList","lastElement","DX","theadHTML","tbodyElement","brElement","trElement","codePosition","isEmpty","taskItemElement","afterHTML_2","beforeHTML_1","isAfter_1","taskItem","parentTagName","dataMarker","startAttribute","rangeElement","lastCellElement","textHTML","textPlain","renderLinkDest","doc","items","entering","WalkContinue","TokensStr","__internal_object__","Type","linkToImgUrl","xhr_1","linkToImgFormat","responseJSON_1","original_1","originalURL","linkToImgCallback","DOMParser","parseFromString","Sanitize","isCode","pres","processPasteCode","$j","HTML2VditorIRDOM","oC","processHint","matchLangData_1","key_1","removeInline","aTextElement","Hint","hintExtends","splitChar","fillEmoji","preElement","timeId","focusNode","currentLineValue","getKey","emojiHint_1","GetEmojis","matchEmojiData_1","delay","textareaPosition","hintsHTML","hintData","replaceHtml","replaceIndex","defaultView","getPropertyValue","currentHintElement","length_1","currentLastIndex","lastItem","preChar","IR","bindEvent","linkElement","lastRect","getHTML","VditorDOM2HTML","VditorIRDOM2HTML","Outline","outlineLabel","Preview","copyToX","actions","actionElement","actionHtml","btn","actionCustom","w","mdTimeoutId","renderStartTime","responseJSON","startTime","time","performanceTip","cmtFocusElement","copyElement","Resize","documentSelf","clientY","ondragstart","captureEvents","onmousemove","moveEvent","paddingBottom","onselectstart","onselect","Editor","textScrollTop","textHeight","textScrollHeight","Tip","setPreviewMode","Both_extends","Both","Br","CodeTheme_extends","CodeTheme","ContentTheme_extends","ContentTheme","Counter","Custom_extends","Custom","Devtools_extends","Devtools","Divider","Emoji_extends","Emoji","commonEmojiHTML","emojiValue","tailHTML","emojiTail","download","downloadTip","Export_extends","Export","exportMarkdown","generate","iframe","contentDocument","write","contentWindow","postMessage","exportPDF","exportHTML","Fullscreen_extends","Fullscreen","svgElement","fullscreen","Headings_extends","Headings","heading1","heading2","heading3","heading4","heading5","heading6","Help_extends","Help","Indent_extends","Indent","Info_extends","Info","Version","InsertAfter_extends","InsertAfter","InsertBefore_extends","InsertBefore","Outdent_extends","Outdent","Outline_extends","Outline_Outline","Preview_extends","Preview_Preview","toolbars","RecordMedia","SAMPLE_RATE","isRecording","readyFlag","leftChannel","rightChannel","recordingLength","AudioContext","webkitAudioContext","DEFAULT_SAMPLE_RATE","sampleRate","volume","createGain","createMediaStreamSource","connect","recorder","createScriptProcessor","onaudioprocess","destination","cloneChannelData","leftChannelData","rightChannelData","Float32Array","startRecordingNewWavFile","stopRecording","buildWavFileBlob","leftBuffer","mergeBuffers","rightBuffer","interleaved","downSampleBuffer","totalByteCount","view","writeUTFBytes","setUint32","setUint16","subChunk2ByteCount","lng","setInt16","rate","sampleRateRatio","newLength","offsetResult","offsetBuffer","nextOffsetBuffer","desiredChannelBuffer","setUint8","Record_extends","Record","mediaRecorder","File","recording","mediaDevices","getUserMedia","audio","mediaStream","inputBuffer","getChannelData","Redo_extends","Redo","Undo_extends","Undo","Upload_extends","Upload_Upload","inputHTML","Toolbar","genItem","panelElement_1","subI","menuItemObj","undo_Undo","stackSize","resetStack","clearStack","undoStack","redoStack","state","renderDiff","hasUndo","G6","addCaret","lastText","diff","patchList","isRedo","redoPatchList","setFocus","Options","mergeToolbar","toolbarItem","toolbarResult","currentMenuItem","defaultMenuItem","WYSIWYG","commentIds","blockStartElement","blockEndElement","NewNodeID","rangeClone","contents","removeStart","removeEnd","wrap","startElement","endElement","comments_1","oldIds","removedIds","codeEndElement","aEndElement","aTitle","popoverTop1","popoverTop","scroll","topPx","checkElement","updateImg","alt","imageURL","elementEvent","altWrap","alternateText","titleWrap","genImagePopover","blockCodeElement","getRenderElementNextNode","nextRenderElement","src_extends","contentThemePath","getCurrentMode","renderPreview","clearCache","disabledCache","enableCache","html2md","exportJSON","RenderJSON","deleteValue","isCollapsed","updateValue","insertValue","tmpElement","destroy","getCommentIds","hlCommentIds","hlItem","unHlCommentIds","unHlItem","removeCommentIds","removeIds","removeId","_lutePath","export","visualViewport","pendingUpdate_1","viewportHandler","requestAnimationFrame","layoutViewport","initUI"],"mappings":"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","file":"static/js/14.a188966a.chunk.js","sourcesContent":["import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M12 0a12 12 0 1 0 0 24 12 12 0 0 0 0-24zm-2 17l-5-5 1.4-1.4 3.6 3.6 7.6-7.6L19 8l-9 9z\"\n}), 'CheckCircle');","import * as React from 'react';\nimport createSvgIcon from '../../utils/createSvgIcon';\n/**\n * @ignore - internal component.\n */\n\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport default createSvgIcon( /*#__PURE__*/_jsx(\"path\", {\n  d: \"M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z\"\n}), 'Warning');","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getStepIconUtilityClass(slot) {\n  return generateUtilityClass('MuiStepIcon', slot);\n}\nconst stepIconClasses = generateUtilityClasses('MuiStepIcon', ['root', 'active', 'completed', 'error', 'text']);\nexport default stepIconClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\n\nvar _circle;\n\nconst _excluded = [\"active\", \"className\", \"completed\", \"error\", \"icon\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport CheckCircle from '../internal/svg-icons/CheckCircle';\nimport Warning from '../internal/svg-icons/Warning';\nimport SvgIcon from '../SvgIcon';\nimport stepIconClasses, { getStepIconUtilityClass } from './stepIconClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    active,\n    completed,\n    error\n  } = ownerState;\n  const slots = {\n    root: ['root', active && 'active', completed && 'completed', error && 'error'],\n    text: ['text']\n  };\n  return composeClasses(slots, getStepIconUtilityClass, classes);\n};\n\nconst StepIconRoot = styled(SvgIcon, {\n  name: 'MuiStepIcon',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(({\n  theme\n}) => ({\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  color: theme.palette.text.disabled,\n  [`&.${stepIconClasses.completed}`]: {\n    color: theme.palette.primary.main\n  },\n  [`&.${stepIconClasses.active}`]: {\n    color: theme.palette.primary.main\n  },\n  [`&.${stepIconClasses.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst StepIconText = styled('text', {\n  name: 'MuiStepIcon',\n  slot: 'Text',\n  overridesResolver: (props, styles) => styles.text\n})(({\n  theme\n}) => ({\n  fill: theme.palette.primary.contrastText,\n  fontSize: theme.typography.caption.fontSize,\n  fontFamily: theme.typography.fontFamily\n}));\nconst StepIcon = /*#__PURE__*/React.forwardRef(function StepIcon(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepIcon'\n  });\n\n  const {\n    active = false,\n    className: classNameProp,\n    completed = false,\n    error = false,\n    icon\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    active,\n    completed,\n    error\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  if (typeof icon === 'number' || typeof icon === 'string') {\n    const className = clsx(classNameProp, classes.root);\n\n    if (error) {\n      return /*#__PURE__*/_jsx(StepIconRoot, _extends({\n        as: Warning,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n\n    if (completed) {\n      return /*#__PURE__*/_jsx(StepIconRoot, _extends({\n        as: CheckCircle,\n        className: className,\n        ref: ref,\n        ownerState: ownerState\n      }, other));\n    }\n\n    return /*#__PURE__*/_jsxs(StepIconRoot, _extends({\n      className: className,\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      children: [_circle || (_circle = /*#__PURE__*/_jsx(\"circle\", {\n        cx: \"12\",\n        cy: \"12\",\n        r: \"12\"\n      })), /*#__PURE__*/_jsx(StepIconText, {\n        className: classes.text,\n        x: \"12\",\n        y: \"16\",\n        textAnchor: \"middle\",\n        ownerState: ownerState,\n        children: icon\n      })]\n    }));\n  }\n\n  return icon;\n});\nprocess.env.NODE_ENV !== \"production\" ? StepIcon.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Whether this step is active.\n   * @default false\n   */\n  active: PropTypes.bool,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Mark the step as completed. Is passed to child components.\n   * @default false\n   */\n  completed: PropTypes.bool,\n\n  /**\n   * If `true`, the step is marked as failed.\n   * @default false\n   */\n  error: PropTypes.bool,\n\n  /**\n   * The label displayed in the step icon.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepIcon;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getStepLabelUtilityClass(slot) {\n  return generateUtilityClass('MuiStepLabel', slot);\n}\nconst stepLabelClasses = generateUtilityClasses('MuiStepLabel', ['root', 'horizontal', 'vertical', 'label', 'active', 'completed', 'error', 'disabled', 'iconContainer', 'alternativeLabel', 'labelContainer']);\nexport default stepLabelClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"componentsProps\", \"error\", \"icon\", \"optional\", \"StepIconComponent\", \"StepIconProps\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport StepIcon from '../StepIcon';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from '../Step/StepContext';\nimport stepLabelClasses, { getStepLabelUtilityClass } from './stepLabelClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    active,\n    completed,\n    error,\n    disabled,\n    alternativeLabel\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    label: ['label', active && 'active', completed && 'completed', error && 'error', disabled && 'disabled', alternativeLabel && 'alternativeLabel'],\n    iconContainer: ['iconContainer', alternativeLabel && 'alternativeLabel'],\n    labelContainer: ['labelContainer']\n  };\n  return composeClasses(slots, getStepLabelUtilityClass, classes);\n};\n\nconst StepLabelRoot = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex',\n  alignItems: 'center',\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    flexDirection: 'column'\n  },\n  [`&.${stepLabelClasses.disabled}`]: {\n    cursor: 'default'\n  }\n}, ownerState.orientation === 'vertical' && {\n  textAlign: 'left',\n  padding: '8px 0'\n}));\nconst StepLabelLabel = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'Label',\n  overridesResolver: (props, styles) => styles.label\n})(({\n  theme\n}) => _extends({}, theme.typography.body2, {\n  display: 'block',\n  transition: theme.transitions.create('color', {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${stepLabelClasses.active}`]: {\n    color: theme.palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses.completed}`]: {\n    color: theme.palette.text.primary,\n    fontWeight: 500\n  },\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    textAlign: 'center',\n    marginTop: 16\n  },\n  [`&.${stepLabelClasses.error}`]: {\n    color: theme.palette.error.main\n  }\n}));\nconst StepLabelIconContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'IconContainer',\n  overridesResolver: (props, styles) => styles.iconContainer\n})(() => ({\n  flexShrink: 0,\n  // Fix IE11 issue\n  display: 'flex',\n  paddingRight: 8,\n  [`&.${stepLabelClasses.alternativeLabel}`]: {\n    paddingRight: 0\n  }\n}));\nconst StepLabelLabelContainer = styled('span', {\n  name: 'MuiStepLabel',\n  slot: 'LabelContainer',\n  overridesResolver: (props, styles) => styles.labelContainer\n})(({\n  theme\n}) => ({\n  width: '100%',\n  color: theme.palette.text.secondary\n}));\nconst StepLabel = /*#__PURE__*/React.forwardRef(function StepLabel(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepLabel'\n  });\n\n  const {\n    children,\n    className,\n    componentsProps = {},\n    error = false,\n    icon: iconProp,\n    optional,\n    StepIconComponent: StepIconComponentProp,\n    StepIconProps\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    alternativeLabel,\n    orientation\n  } = React.useContext(StepperContext);\n  const {\n    active,\n    disabled,\n    completed,\n    icon: iconContext\n  } = React.useContext(StepContext);\n  const icon = iconProp || iconContext;\n  let StepIconComponent = StepIconComponentProp;\n\n  if (icon && !StepIconComponent) {\n    StepIconComponent = StepIcon;\n  }\n\n  const ownerState = _extends({}, props, {\n    active,\n    alternativeLabel,\n    completed,\n    disabled,\n    error,\n    orientation\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsxs(StepLabelRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [icon || StepIconComponent ? /*#__PURE__*/_jsx(StepLabelIconContainer, {\n      className: classes.iconContainer,\n      ownerState: ownerState,\n      children: /*#__PURE__*/_jsx(StepIconComponent, _extends({\n        completed: completed,\n        active: active,\n        error: error,\n        icon: icon\n      }, StepIconProps))\n    }) : null, /*#__PURE__*/_jsxs(StepLabelLabelContainer, {\n      className: classes.labelContainer,\n      ownerState: ownerState,\n      children: [children ? /*#__PURE__*/_jsx(StepLabelLabel, _extends({\n        className: classes.label,\n        ownerState: ownerState\n      }, componentsProps.label, {\n        children: children\n      })) : null, optional]\n    })]\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepLabel.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * In most cases will simply be a string containing a title for the label.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The props used for each slot inside.\n   * @default {}\n   */\n  componentsProps: PropTypes.object,\n\n  /**\n   * If `true`, the step is marked as failed.\n   * @default false\n   */\n  error: PropTypes.bool,\n\n  /**\n   * Override the default label of the step icon.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The optional node to display.\n   */\n  optional: PropTypes.node,\n\n  /**\n   * The component to render in place of the [`StepIcon`](/api/step-icon/).\n   */\n  StepIconComponent: PropTypes.elementType,\n\n  /**\n   * Props applied to the [`StepIcon`](/api/step-icon/) element.\n   */\n  StepIconProps: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nStepLabel.muiName = 'StepLabel';\nexport default StepLabel;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCardMediaUtilityClass(slot) {\n  return generateUtilityClass('MuiCardMedia', slot);\n}\nconst cardMediaClasses = generateUtilityClasses('MuiCardMedia', ['root', 'media', 'img']);\nexport default cardMediaClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"className\", \"component\", \"image\", \"src\", \"style\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCardMediaUtilityClass } from './cardMediaClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    isMediaComponent,\n    isImageComponent\n  } = ownerState;\n  const slots = {\n    root: ['root', isMediaComponent && 'media', isImageComponent && 'img']\n  };\n  return composeClasses(slots, getCardMediaUtilityClass, classes);\n};\n\nconst CardMediaRoot = styled('div', {\n  name: 'MuiCardMedia',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    const {\n      isMediaComponent,\n      isImageComponent\n    } = ownerState;\n    return [styles.root, isMediaComponent && styles.media, isImageComponent && styles.img];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'block',\n  backgroundSize: 'cover',\n  backgroundRepeat: 'no-repeat',\n  backgroundPosition: 'center'\n}, ownerState.isMediaComponent && {\n  width: '100%'\n}, ownerState.isImageComponent && {\n  // ⚠️ object-fit is not supported by IE11.\n  objectFit: 'cover'\n}));\nconst MEDIA_COMPONENTS = ['video', 'audio', 'picture', 'iframe', 'img'];\nconst IMAGE_COMPONENTS = ['picture', 'img'];\nconst CardMedia = /*#__PURE__*/React.forwardRef(function CardMedia(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCardMedia'\n  });\n\n  const {\n    children,\n    className,\n    component = 'div',\n    image,\n    src,\n    style\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const isMediaComponent = MEDIA_COMPONENTS.indexOf(component) !== -1;\n  const composedStyle = !isMediaComponent && image ? _extends({\n    backgroundImage: `url(\"${image}\")`\n  }, style) : style;\n\n  const ownerState = _extends({}, props, {\n    component,\n    isMediaComponent,\n    isImageComponent: IMAGE_COMPONENTS.indexOf(component) !== -1\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardMediaRoot, _extends({\n    className: clsx(classes.root, className),\n    as: component,\n    role: !isMediaComponent && image ? 'img' : undefined,\n    ref: ref,\n    style: composedStyle,\n    ownerState: ownerState,\n    src: isMediaComponent ? image || src : undefined\n  }, other, {\n    children: children\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CardMedia.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: chainPropTypes(PropTypes.node, props => {\n    if (!props.children && !props.image && !props.src && !props.component) {\n      return new Error('MUI: Either `children`, `image`, `src` or `component` prop must be specified.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The component used for the root node.\n   * Either a string to use a HTML element or a component.\n   */\n  component: PropTypes.elementType,\n\n  /**\n   * Image to be displayed as a background image.\n   * Either `image` or `src` prop must be specified.\n   * Note that caller must specify height otherwise the image will not be visible.\n   */\n  image: PropTypes.string,\n\n  /**\n   * An alias for `image` property.\n   * Available only with media components.\n   * Media components: `video`, `audio`, `picture`, `iframe`, `img`.\n   */\n  src: PropTypes.string,\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default CardMedia;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getStepConnectorUtilityClass(slot) {\n  return generateUtilityClass('MuiStepConnector', slot);\n}\nconst stepConnectorClasses = generateUtilityClasses('MuiStepConnector', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'active', 'completed', 'disabled', 'line', 'lineHorizontal', 'lineVertical']);\nexport default stepConnectorClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport capitalize from '../utils/capitalize';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from '../Step/StepContext';\nimport { getStepConnectorUtilityClass } from './stepConnectorClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    active,\n    completed,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', active && 'active', completed && 'completed', disabled && 'disabled'],\n    line: ['line', `line${capitalize(orientation)}`]\n  };\n  return composeClasses(slots, getStepConnectorUtilityClass, classes);\n};\n\nconst StepConnectorRoot = styled('div', {\n  name: 'MuiStepConnector',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends({\n  flex: '1 1 auto'\n}, ownerState.orientation === 'vertical' && {\n  marginLeft: 12 // half icon\n\n}, ownerState.alternativeLabel && {\n  position: 'absolute',\n  top: 8 + 4,\n  left: 'calc(-50% + 20px)',\n  right: 'calc(50% + 20px)'\n}));\nconst StepConnectorLine = styled('span', {\n  name: 'MuiStepConnector',\n  slot: 'Line',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.line, styles[`line${capitalize(ownerState.orientation)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  display: 'block',\n  borderColor: theme.palette.mode === 'light' ? theme.palette.grey[400] : theme.palette.grey[600]\n}, ownerState.orientation === 'horizontal' && {\n  borderTopStyle: 'solid',\n  borderTopWidth: 1\n}, ownerState.orientation === 'vertical' && {\n  borderLeftStyle: 'solid',\n  borderLeftWidth: 1,\n  minHeight: 24\n}));\nconst StepConnector = /*#__PURE__*/React.forwardRef(function StepConnector(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepConnector'\n  });\n\n  const {\n    className\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    alternativeLabel,\n    orientation = 'horizontal'\n  } = React.useContext(StepperContext);\n  const {\n    active,\n    disabled,\n    completed\n  } = React.useContext(StepContext);\n\n  const ownerState = _extends({}, props, {\n    alternativeLabel,\n    orientation,\n    active,\n    completed,\n    disabled\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(StepConnectorRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: /*#__PURE__*/_jsx(StepConnectorLine, {\n      className: classes.line,\n      ownerState: ownerState\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? StepConnector.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default StepConnector;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getStepperUtilityClass(slot) {\n  return generateUtilityClass('MuiStepper', slot);\n}\nconst stepperClasses = generateUtilityClasses('MuiStepper', ['root', 'horizontal', 'vertical', 'alternativeLabel']);\nexport default stepperClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"activeStep\", \"alternativeLabel\", \"children\", \"className\", \"connector\", \"nonLinear\", \"orientation\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { integerPropType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getStepperUtilityClass } from './stepperClasses';\nimport StepConnector from '../StepConnector';\nimport StepperContext from './StepperContext';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    orientation,\n    alternativeLabel,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel']\n  };\n  return composeClasses(slots, getStepperUtilityClass, classes);\n};\n\nconst StepperRoot = styled('div', {\n  name: 'MuiStepper',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'flex'\n}, ownerState.orientation === 'horizontal' && {\n  flexDirection: 'row',\n  alignItems: 'center'\n}, ownerState.orientation === 'vertical' && {\n  flexDirection: 'column'\n}, ownerState.alternativeLabel && {\n  alignItems: 'flex-start'\n}));\n\nconst defaultConnector = /*#__PURE__*/_jsx(StepConnector, {});\n\nconst Stepper = /*#__PURE__*/React.forwardRef(function Stepper(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStepper'\n  });\n\n  const {\n    activeStep = 0,\n    alternativeLabel = false,\n    children,\n    className,\n    connector = defaultConnector,\n    nonLinear = false,\n    orientation = 'horizontal'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    alternativeLabel,\n    orientation\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const childrenArray = React.Children.toArray(children).filter(Boolean);\n  const steps = childrenArray.map((step, index) => {\n    return /*#__PURE__*/React.cloneElement(step, _extends({\n      index,\n      last: index + 1 === childrenArray.length\n    }, step.props));\n  });\n  const contextValue = React.useMemo(() => ({\n    activeStep,\n    alternativeLabel,\n    connector,\n    nonLinear,\n    orientation\n  }), [activeStep, alternativeLabel, connector, nonLinear, orientation]);\n  return /*#__PURE__*/_jsx(StepperContext.Provider, {\n    value: contextValue,\n    children: /*#__PURE__*/_jsx(StepperRoot, _extends({\n      ownerState: ownerState,\n      className: clsx(classes.root, className),\n      ref: ref\n    }, other, {\n      children: steps\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Stepper.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Set the active step (zero based index).\n   * Set to -1 to disable all the steps.\n   * @default 0\n   */\n  activeStep: integerPropType,\n\n  /**\n   * If set to 'true' and orientation is horizontal,\n   * then the step label will be positioned under the icon.\n   * @default false\n   */\n  alternativeLabel: PropTypes.bool,\n\n  /**\n   * Two or more `<Step />` components.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * An element to be placed between each step.\n   * @default <StepConnector />\n   */\n  connector: PropTypes.element,\n\n  /**\n   * If set the `Stepper` will not assist in controlling steps for linear flow.\n   * @default false\n   */\n  nonLinear: PropTypes.bool,\n\n  /**\n   * The component orientation (layout flow direction).\n   * @default 'horizontal'\n   */\n  orientation: PropTypes.oneOf(['horizontal', 'vertical']),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Stepper;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getStepUtilityClass(slot) {\n  return generateUtilityClass('MuiStep', slot);\n}\nconst stepClasses = generateUtilityClasses('MuiStep', ['root', 'horizontal', 'vertical', 'alternativeLabel', 'completed']);\nexport default stepClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"active\", \"children\", \"className\", \"completed\", \"disabled\", \"expanded\", \"index\", \"last\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { integerPropType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport StepperContext from '../Stepper/StepperContext';\nimport StepContext from './StepContext';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getStepUtilityClass } from './stepClasses';\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    orientation,\n    alternativeLabel,\n    completed\n  } = ownerState;\n  const slots = {\n    root: ['root', orientation, alternativeLabel && 'alternativeLabel', completed && 'completed']\n  };\n  return composeClasses(slots, getStepUtilityClass, classes);\n};\n\nconst StepRoot = styled('div', {\n  name: 'MuiStep',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.orientation], ownerState.alternativeLabel && styles.alternativeLabel, ownerState.completed && styles.completed];\n  }\n})(({\n  ownerState\n}) => _extends({}, ownerState.orientation === 'horizontal' && {\n  paddingLeft: 8,\n  paddingRight: 8\n}, ownerState.alternativeLabel && {\n  flex: 1,\n  position: 'relative'\n}));\nconst Step = /*#__PURE__*/React.forwardRef(function Step(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiStep'\n  });\n\n  const {\n    active: activeProp,\n    children,\n    className,\n    completed: completedProp,\n    disabled: disabledProp,\n    expanded = false,\n    index,\n    last\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const {\n    activeStep,\n    connector,\n    alternativeLabel,\n    orientation,\n    nonLinear\n  } = React.useContext(StepperContext);\n  let [active = false, completed = false, disabled = false] = [activeProp, completedProp, disabledProp];\n\n  if (activeStep === index) {\n    active = activeProp !== undefined ? activeProp : true;\n  } else if (!nonLinear && activeStep > index) {\n    completed = completedProp !== undefined ? completedProp : true;\n  } else if (!nonLinear && activeStep < index) {\n    disabled = disabledProp !== undefined ? disabledProp : true;\n  }\n\n  const contextValue = React.useMemo(() => ({\n    index,\n    last,\n    expanded,\n    icon: index + 1,\n    active,\n    completed,\n    disabled\n  }), [index, last, expanded, active, completed, disabled]);\n\n  const ownerState = _extends({}, props, {\n    active,\n    orientation,\n    alternativeLabel,\n    completed,\n    disabled,\n    expanded\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  const newChildren = /*#__PURE__*/_jsxs(StepRoot, _extends({\n    className: clsx(classes.root, className),\n    ref: ref,\n    ownerState: ownerState\n  }, other, {\n    children: [connector && alternativeLabel && index !== 0 ? connector : null, children]\n  }));\n\n  return /*#__PURE__*/_jsx(StepContext.Provider, {\n    value: contextValue,\n    children: connector && !alternativeLabel && index !== 0 ? /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [connector, newChildren]\n    }) : newChildren\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Step.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Sets the step as active. Is passed to child components.\n   */\n  active: PropTypes.bool,\n\n  /**\n   * Should be `Step` sub-components such as `StepLabel`, `StepContent`.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * Mark the step as completed. Is passed to child components.\n   */\n  completed: PropTypes.bool,\n\n  /**\n   * If `true`, the step is disabled, will also disable the button if\n   * `StepButton` is a child of `Step`. Is passed to child components.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * Expand the step.\n   * @default false\n   */\n  expanded: PropTypes.bool,\n\n  /**\n   * The position of the step.\n   * The prop defaults to the value inherited from the parent Stepper component.\n   */\n  index: integerPropType,\n\n  /**\n   * If `true`, the Step is displayed as rendered last.\n   * The prop defaults to the value inherited from the parent Stepper component.\n   */\n  last: PropTypes.bool,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Step;","import checkmarkFill from \"@iconify/icons-eva/checkmark-fill\";\nimport { Icon } from \"@iconify/react\";\nimport {\n  Box,\n  Button,\n  Card,\n  CardMedia,\n  Grid,\n  Stack,\n  Typography,\n} from \"@mui/material\";\n// material\nimport { styled } from \"@mui/material/styles\";\nimport { NavLink as RouterLink } from \"react-router-dom\";\nimport { fNumber } from \"../../utils/formatNumber\";\n\nconst RootStyle = styled(Card)(({ theme }) => ({\n  maxWidth: 480,\n  margin: \"auto\",\n  display: \"flex\",\n  position: \"relative\",\n  alignItems: \"center\",\n  flexDirection: \"column\",\n  padding: theme.spacing(2),\n  [theme.breakpoints.up(414)]: {\n    padding: theme.spacing(5),\n  },\n}));\n\ninterface ConfirmRespondentProps {\n  avatar: string;\n  goToNextStep: () => void;\n  respondentName: string;\n  description: string;\n  fee: number;\n  specialties: string[];\n  ratings: number;\n  questionNumber: number;\n}\n\nexport default function ConfirmRespondent({\n  avatar,\n  goToNextStep,\n  respondentName,\n  description,\n  fee,\n  specialties,\n  ratings,\n  questionNumber,\n}: ConfirmRespondentProps): JSX.Element {\n  return (\n    <Grid container spacing={3} justifyContent=\"center\">\n      <Grid item xs={12} md={4}>\n        <Stack spacing={3}>\n          <RootStyle>\n            <Typography variant=\"h3\" sx={{ mx: 1 }}>\n              {respondentName}\n            </Typography>\n            <Typography variant=\"overline\" sx={{ color: \"text.secondary\" }}>\n              {description}\n            </Typography>\n            <Card sx={{ maxWidth: 340 }} elevation={3}>\n              <CardMedia component=\"img\" height=\"185\" image={avatar} />\n            </Card>\n            <Box sx={{ display: \"flex\", justifyContent: \"flex-end\", my: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: \"text.secondary\" }}>\n                ￥\n              </Typography>\n              <Typography variant=\"h4\" sx={{ mx: 1 }}>\n                {fNumber(fee)}\n              </Typography>\n            </Box>\n            <Box sx={{ display: \"flex\", justifyContent: \"flex-end\", my: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: \"text.secondary\" }}>\n                评分\n              </Typography>\n              <Typography variant=\"h4\" sx={{ mx: 1 }}>\n                {fNumber(ratings)}\n              </Typography>\n            </Box>\n            <Box sx={{ display: \"flex\", justifyContent: \"flex-end\", my: 1 }}>\n              <Typography variant=\"subtitle1\" sx={{ color: \"text.secondary\" }}>\n                回答过的问题\n              </Typography>\n              <Typography variant=\"h4\" sx={{ mx: 1 }}>\n                {fNumber(questionNumber)}个\n              </Typography>\n            </Box>\n            <Stack component=\"ul\" spacing={1} sx={{ my: 2, width: 1 }}>\n              {specialties.map(item => (\n                <Stack\n                  key={item}\n                  component=\"li\"\n                  direction=\"row\"\n                  spacing={1}\n                  sx={{ typography: \"body2\", color: \"text.primary\" }}\n                >\n                  <Box\n                    component={Icon}\n                    icon={checkmarkFill}\n                    sx={{ width: 20, height: 20 }}\n                  />\n                  <Typography variant=\"body2\">{item}</Typography>\n                </Stack>\n              ))}\n            </Stack>\n          </RootStyle>\n\n          <Button\n            onClick={goToNextStep}\n            fullWidth\n            variant=\"contained\"\n            size=\"large\"\n          >\n            {\"向TA提问\"}\n          </Button>\n\n          <Button\n            fullWidth\n            variant=\"contained\"\n            size=\"large\"\n            color=\"error\"\n            component={RouterLink}\n            to={\"/\"}\n          >\n            {\"放弃提问\"}\n          </Button>\n        </Stack>\n      </Grid>\n    </Grid>\n  );\n}\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getSwitchUtilityClass(slot) {\n  return generateUtilityClass('MuiSwitch', slot);\n}\nconst switchClasses = generateUtilityClasses('MuiSwitch', ['root', 'edgeStart', 'edgeEnd', 'switchBase', 'colorPrimary', 'colorSecondary', 'sizeSmall', 'sizeMedium', 'checked', 'disabled', 'input', 'thumb', 'track']);\nexport default switchClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"edge\", \"size\", \"sx\"];\n// @inheritedComponent IconButton\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { refType } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { alpha, darken, lighten } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport SwitchBase from '../internal/SwitchBase';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport switchClasses, { getSwitchUtilityClass } from './switchClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    edge,\n    size,\n    color,\n    checked,\n    disabled\n  } = ownerState;\n  const slots = {\n    root: ['root', edge && `edge${capitalize(edge)}`, `size${capitalize(size)}`],\n    switchBase: ['switchBase', `color${capitalize(color)}`, checked && 'checked', disabled && 'disabled'],\n    thumb: ['thumb'],\n    track: ['track'],\n    input: ['input']\n  };\n  const composedClasses = composeClasses(slots, getSwitchUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\n\nconst SwitchRoot = styled('span', {\n  name: 'MuiSwitch',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, ownerState.edge && styles[`edge${capitalize(ownerState.edge)}`], styles[`size${capitalize(ownerState.size)}`]];\n  }\n})(({\n  ownerState\n}) => _extends({\n  display: 'inline-flex',\n  width: 34 + 12 * 2,\n  height: 14 + 12 * 2,\n  overflow: 'hidden',\n  padding: 12,\n  boxSizing: 'border-box',\n  position: 'relative',\n  flexShrink: 0,\n  zIndex: 0,\n  // Reset the stacking context.\n  verticalAlign: 'middle',\n  // For correct alignment with the text.\n  '@media print': {\n    colorAdjust: 'exact'\n  }\n}, ownerState.edge === 'start' && {\n  marginLeft: -8\n}, ownerState.edge === 'end' && {\n  marginRight: -8\n}, ownerState.size === 'small' && {\n  width: 40,\n  height: 24,\n  padding: 7,\n  [`& .${switchClasses.thumb}`]: {\n    width: 16,\n    height: 16\n  },\n  [`& .${switchClasses.switchBase}`]: {\n    padding: 4,\n    [`&.${switchClasses.checked}`]: {\n      transform: 'translateX(16px)'\n    }\n  }\n}));\nconst SwitchSwitchBase = styled(SwitchBase, {\n  name: 'MuiSwitch',\n  slot: 'SwitchBase',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.switchBase, {\n      [`& .${switchClasses.input}`]: styles.input\n    }, ownerState.color !== 'default' && styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  theme\n}) => ({\n  position: 'absolute',\n  top: 0,\n  left: 0,\n  zIndex: 1,\n  // Render above the focus ripple.\n  color: theme.palette.mode === 'light' ? theme.palette.common.white : theme.palette.grey[300],\n  transition: theme.transitions.create(['left', 'transform'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  [`&.${switchClasses.checked}`]: {\n    transform: 'translateX(20px)'\n  },\n  [`&.${switchClasses.disabled}`]: {\n    color: theme.palette.mode === 'light' ? theme.palette.grey[100] : theme.palette.grey[600]\n  },\n  [`&.${switchClasses.checked} + .${switchClasses.track}`]: {\n    opacity: 0.5\n  },\n  [`&.${switchClasses.disabled} + .${switchClasses.track}`]: {\n    opacity: theme.palette.mode === 'light' ? 0.12 : 0.2\n  },\n  [`& .${switchClasses.input}`]: {\n    left: '-100%',\n    width: '300%'\n  }\n}), ({\n  theme,\n  ownerState\n}) => _extends({\n  '&:hover': {\n    backgroundColor: alpha(theme.palette.action.active, theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: 'transparent'\n    }\n  }\n}, ownerState.color !== 'default' && {\n  [`&.${switchClasses.checked}`]: {\n    color: theme.palette[ownerState.color].main,\n    '&:hover': {\n      backgroundColor: alpha(theme.palette[ownerState.color].main, theme.palette.action.hoverOpacity),\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    },\n    [`&.${switchClasses.disabled}`]: {\n      color: theme.palette.mode === 'light' ? lighten(theme.palette[ownerState.color].main, 0.62) : darken(theme.palette[ownerState.color].main, 0.55)\n    }\n  },\n  [`&.${switchClasses.checked} + .${switchClasses.track}`]: {\n    backgroundColor: theme.palette[ownerState.color].main\n  }\n}));\nconst SwitchTrack = styled('span', {\n  name: 'MuiSwitch',\n  slot: 'Track',\n  overridesResolver: (props, styles) => styles.track\n})(({\n  theme\n}) => ({\n  height: '100%',\n  width: '100%',\n  borderRadius: 14 / 2,\n  zIndex: -1,\n  transition: theme.transitions.create(['opacity', 'background-color'], {\n    duration: theme.transitions.duration.shortest\n  }),\n  backgroundColor: theme.palette.mode === 'light' ? theme.palette.common.black : theme.palette.common.white,\n  opacity: theme.palette.mode === 'light' ? 0.38 : 0.3\n}));\nconst SwitchThumb = styled('span', {\n  name: 'MuiSwitch',\n  slot: 'Thumb',\n  overridesResolver: (props, styles) => styles.thumb\n})(({\n  theme\n}) => ({\n  boxShadow: theme.shadows[1],\n  backgroundColor: 'currentColor',\n  width: 20,\n  height: 20,\n  borderRadius: '50%'\n}));\nconst Switch = /*#__PURE__*/React.forwardRef(function Switch(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiSwitch'\n  });\n\n  const {\n    className,\n    color = 'primary',\n    edge = false,\n    size = 'medium',\n    sx\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    edge,\n    size\n  });\n\n  const classes = useUtilityClasses(ownerState);\n\n  const icon = /*#__PURE__*/_jsx(SwitchThumb, {\n    className: classes.thumb,\n    ownerState: ownerState\n  });\n\n  return /*#__PURE__*/_jsxs(SwitchRoot, {\n    className: clsx(classes.root, className),\n    sx: sx,\n    ownerState: ownerState,\n    children: [/*#__PURE__*/_jsx(SwitchSwitchBase, _extends({\n      type: \"checkbox\",\n      icon: icon,\n      checkedIcon: icon,\n      ref: ref,\n      ownerState: ownerState\n    }, other, {\n      classes: _extends({}, classes, {\n        root: classes.switchBase\n      })\n    })), /*#__PURE__*/_jsx(SwitchTrack, {\n      className: classes.track,\n      ownerState: ownerState\n    })]\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? Switch.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * If `true`, the component is checked.\n   */\n  checked: PropTypes.bool,\n\n  /**\n   * The icon to display when the component is checked.\n   */\n  checkedIcon: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'primary'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['default', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * The default checked state. Use when the component is not controlled.\n   */\n  defaultChecked: PropTypes.bool,\n\n  /**\n   * If `true`, the component is disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect is disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * If given, uses a negative margin to counteract the padding on one\n   * side (this is often helpful for aligning the left or right\n   * side of the icon with content above or below, without ruining the border\n   * size and shape).\n   * @default false\n   */\n  edge: PropTypes.oneOf(['end', 'start', false]),\n\n  /**\n   * The icon to display when the component is unchecked.\n   */\n  icon: PropTypes.node,\n\n  /**\n   * The id of the `input` element.\n   */\n  id: PropTypes.string,\n\n  /**\n   * [Attributes](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input#Attributes) applied to the `input` element.\n   */\n  inputProps: PropTypes.object,\n\n  /**\n   * Pass a ref to the `input` element.\n   */\n  inputRef: refType,\n\n  /**\n   * Callback fired when the state is changed.\n   *\n   * @param {React.ChangeEvent<HTMLInputElement>} event The event source of the callback.\n   * You can pull out the new value by accessing `event.target.value` (string).\n   * You can pull out the new checked state by accessing `event.target.checked` (boolean).\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * If `true`, the `input` element is required.\n   */\n  required: PropTypes.bool,\n\n  /**\n   * The size of the component.\n   * `small` is equivalent to the dense switch styling.\n   * @default 'medium'\n   */\n  size: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['medium', 'small']), PropTypes.string]),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * The value of the component. The DOM API casts this to a string.\n   * The browser uses \"on\" as the default value.\n   */\n  value: PropTypes.any\n} : void 0;\nexport default Switch;","import axios from \"axios\";\nimport { useCallback } from \"react\";\nimport { PATH_API_QA } from \"../../routes/paths\";\nimport { ApiResponse } from \"../../types/ApiResponse\";\nimport { NewQuestion } from \"../../types/qa/NewQuestion\";\nimport { handleAxiosException } from \"../../utils/exception\";\n\nconst usePostQuestion = (): ((\n  question: NewQuestion\n) => Promise<{ id: string } | string>) =>\n  useCallback(async question => {\n    try {\n      const response = await axios.post(PATH_API_QA.postQuestion, question);\n      return (response.data as ApiResponse<{ id: string }>).data;\n    } catch (exception) {\n      return handleAxiosException(exception);\n    }\n  }, []);\nexport default usePostQuestion;\n","import { useCallback, useEffect, useState } from \"react\";\n\nconst useLocalStorage = <Value>(\n  key: string,\n  defaultValue: Value\n): [Value, (newValue: Value | null) => void] => {\n  const [value, setValue] = useState(() => {\n    const value = window.localStorage.getItem(key);\n    return value === null ? defaultValue : (JSON.parse(value) as Value);\n  });\n\n  useEffect(() => {\n    const listener = (event: StorageEvent) => {\n      if (event.storageArea === window.localStorage && event.key === key) {\n        setValue(event.newValue === null ? null : JSON.parse(event.newValue));\n      }\n    };\n    window.addEventListener(\"storage\", listener);\n    return () => {\n      window.removeEventListener(\"storage\", listener);\n    };\n  }, [key, defaultValue]);\n\n  const setValueInLocalStorage = useCallback(\n    (newValue: Value | null) => {\n      if (newValue === null) {\n        setValue(defaultValue);\n        window.localStorage.removeItem(key);\n      } else {\n        setValue(newValue);\n        window.localStorage.setItem(key, JSON.stringify(newValue));\n      }\n    },\n    [defaultValue, key]\n  );\n\n  return [value, setValueInLocalStorage];\n};\n\nexport default useLocalStorage;\n","import { LoadingButton } from \"@mui/lab\";\nimport {\n  Button,\n  Card,\n  FormControlLabel,\n  Grid,\n  Stack,\n  Switch,\n  TextField,\n  Typography,\n} from \"@mui/material\";\n// material\nimport { styled } from \"@mui/material/styles\";\nimport { Form, FormikProvider, useFormik } from \"formik\";\nimport { useSnackbar } from \"notistack\";\nimport { useState } from \"react\";\nimport { NavLink as RouterLink, useParams } from \"react-router-dom\";\nimport * as Yup from \"yup\";\nimport usePostQuestion from \"../../hooks/qa/usePostQuestion\";\nimport useLocalStorage from \"../../hooks/useLocalStorage\";\nimport MarkdownEditor from \"../general/editor/MarkdownEditor\";\n\nconst LabelStyle = styled(Typography)(({ theme }) => ({\n  ...theme.typography.subtitle2,\n  color: theme.palette.text.secondary,\n  marginBottom: theme.spacing(1),\n}));\n\ninterface NewQuestionProps {\n  goToNextStep: () => void;\n}\n\ntype Storage = {\n  title: string;\n  description: string;\n  isPublic: boolean;\n};\nconst INITIAL_STORAGE: Storage = {\n  title: \"\",\n  description: \"\",\n  isPublic: false,\n};\n\nexport default function NewQuestionForm({\n  goToNextStep,\n}: NewQuestionProps): JSX.Element {\n  const [storage, setStorage] = useLocalStorage(\n    \"new-question\",\n    INITIAL_STORAGE\n  );\n\n  const { enqueueSnackbar } = useSnackbar();\n  const [description, setDescription] = useState(storage.description);\n  const { name: respondent = \"\" } = useParams();\n  const postQuestion = usePostQuestion();\n\n  const NewQuestionSchema = Yup.object().shape({\n    title: Yup.string().required(\"必须填写标题\"),\n    description: Yup.string(),\n  });\n\n  const formik = useFormik({\n    enableReinitialize: true,\n    initialValues: {\n      title: storage.title,\n      description: \"\",\n      images: [],\n      isPublic: storage.isPublic,\n    },\n    validationSchema: NewQuestionSchema,\n    onSubmit: async (values, { setSubmitting, resetForm, setErrors }) => {\n      setSubmitting(true);\n      const message = await postQuestion({\n        title: values.title,\n        respondent,\n        description,\n        isPublic: values.isPublic,\n      });\n      setSubmitting(false);\n      if (typeof message !== \"string\") {\n        setDescription(\"\");\n        resetForm();\n        setStorage(INITIAL_STORAGE);\n        enqueueSnackbar(\"订单创建成功\", {\n          variant: \"success\",\n        });\n        goToNextStep();\n      } else {\n        enqueueSnackbar(message, {\n          variant: \"error\",\n        });\n      }\n    },\n  });\n\n  const { errors, touched, handleSubmit, isSubmitting, getFieldProps } = formik;\n\n  return (\n    <FormikProvider value={formik}>\n      <Form noValidate autoComplete=\"off\" onSubmit={handleSubmit}>\n        <Grid container spacing={3}>\n          <Grid item xs={12} md={8} sx={{ zIndex: 1 }}>\n            <Card sx={{ p: 3 }}>\n              <Stack spacing={3}>\n                <TextField\n                  fullWidth\n                  label=\"问题标题\"\n                  {...getFieldProps(\"title\")}\n                  error={Boolean(touched.title && errors.title)}\n                  helperText={touched.title && errors.title}\n                />\n\n                <div>\n                  <LabelStyle>问题描述</LabelStyle>\n                  {/*<QuillEditor*/}\n                  {/*  id=\"simple-editor\"*/}\n                  {/*  value={description}*/}\n                  {/*  onChange={value => setDescription(value)}*/}\n                  {/*/>*/}\n                  <MarkdownEditor\n                    height={500}\n                    value={description}\n                    onChange={setDescription}\n                  />\n                </div>\n              </Stack>\n            </Card>\n          </Grid>\n\n          <Grid item xs={12} md={4}>\n            <Stack spacing={3}>\n              <Card sx={{ p: 3 }}>\n                <FormControlLabel\n                  control={<Switch {...getFieldProps(\"isPublic\")} />}\n                  label=\"公开提问\"\n                  sx={{ mt: 2 }}\n                />\n              </Card>\n\n              <LoadingButton\n                type=\"submit\"\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                loading={isSubmitting}\n              >\n                {\"向TA提问\"}\n              </LoadingButton>\n\n              <Button\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                color=\"error\"\n                component={RouterLink}\n                to={\"/\"}\n              >\n                {\"放弃提问\"}\n              </Button>\n\n              <Button\n                onClick={() => {\n                  setStorage({\n                    title: formik.values.title,\n                    description,\n                    isPublic: formik.values.isPublic,\n                  });\n                }}\n                fullWidth\n                variant=\"contained\"\n                size=\"large\"\n                color=\"warning\"\n              >\n                {\"暂存问题\"}\n              </Button>\n            </Stack>\n          </Grid>\n        </Grid>\n      </Form>\n    </FormikProvider>\n  );\n}\n","import { Avatar, Stack, Typography } from \"@mui/material\";\nimport { useEffect, useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n\nexport default function ResetPasswordComplete(): JSX.Element {\n  const [leftTime, setLeftTime] = useState(3);\n  useEffect(() => {\n    const timer = setInterval(() => {\n      setLeftTime(leftTime => {\n        return leftTime - 1;\n      });\n    }, 1000);\n    return () => {\n      clearInterval(timer);\n    };\n  }, [leftTime]);\n\n  return leftTime > 0 ? (\n    <Stack>\n      <Avatar\n        src=\"/submit.png\"\n        sx={{ alignSelf: \"center\", width: 80, height: 80, mb: 5 }}\n      />\n      <Typography variant=\"h3\" sx={{ alignSelf: \"center\" }}>\n        问题提交成功！正在审核中···\n      </Typography>\n    </Stack>\n  ) : (\n    <Navigate to={\"/\"} />\n  );\n}\n","import checkmarkFill from \"@iconify/icons-eva/checkmark-fill\";\nimport { Icon } from \"@iconify/react\";\nimport {\n  Box,\n  Container,\n  Grid,\n  Step,\n  StepConnector,\n  StepLabel,\n  Stepper,\n} from \"@mui/material\";\n// material\nimport { styled } from \"@mui/material/styles\";\nimport { useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport HeaderBreadcrumbs from \"../../components/general/HeaderBreadcrumbs\";\nimport Page from \"../../components/general/Page\";\nimport ConfirmRespondent from \"../../components/qa/ConfirmRespondent\";\nimport PostNewQuestion from \"../../components/qa/PostNewQuestion\";\nimport PostSuccess from \"../../components/qa/PostSuccess\";\nimport useProfile from \"../../hooks/user/useProfile\";\n// ----------------------------------------------------------------------\n\nconst STEPS = [\"确认回答者\", \"提出问题\", \"支付成功\"];\n\nconst QontoConnector = styled(StepConnector)(({ theme }) => ({\n  top: 10,\n  left: \"calc(-50% + 20px)\",\n  right: \"calc(50% + 20px)\",\n  \"& .MuiStepConnector-line\": {\n    borderTopWidth: 2,\n    borderColor: theme.palette.divider,\n  },\n  \"&.Mui-active, &.Mui-completed\": {\n    \"& .MuiStepConnector-line\": {\n      borderColor: theme.palette.primary.main,\n    },\n  },\n}));\n\nfunction QontoStepIcon({\n  active,\n  completed,\n}: {\n  active: boolean;\n  completed: boolean;\n}) {\n  return (\n    <Box\n      sx={{\n        zIndex: 9,\n        width: 24,\n        height: 24,\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        color: active ? \"primary.main\" : \"text.disabled\",\n      }}\n    >\n      {completed ? (\n        <Box\n          component={Icon}\n          icon={checkmarkFill}\n          sx={{ zIndex: 1, width: 20, height: 20, color: \"primary.main\" }}\n        />\n      ) : (\n        <Box\n          sx={{\n            width: 8,\n            height: 8,\n            borderRadius: \"50%\",\n            backgroundColor: \"currentColor\",\n          }}\n        />\n      )}\n    </Box>\n  );\n}\n\nexport default function PostQuestion(): JSX.Element {\n  const [activeStep, setActiveStep] = useState(0);\n  const { name = \"\" } = useParams();\n  const profile = useProfile(name);\n  const respondentProfile = profile.respondentProfile;\n  if (respondentProfile === null) {\n    throw Error(`\\`${name}\\` 不是回答者！`);\n  }\n  const goToNextStep = () => {\n    setActiveStep(activeStep => {\n      return activeStep + 1;\n    });\n  };\n\n  return (\n    <Page title=\"提交订单\">\n      <Container maxWidth={\"lg\"}>\n        <HeaderBreadcrumbs\n          heading=\"提交订单\"\n          links={[{ name: \"回答者列表\", href: \"/\" }, { name: \"提交订单\" }]}\n        />\n\n        <Grid container justifyContent={\"center\"}>\n          <Grid item xs={12} md={12} sx={{ mb: 5 }}>\n            <Stepper\n              alternativeLabel\n              activeStep={activeStep}\n              connector={<QontoConnector />}\n            >\n              {STEPS.map(label => (\n                <Step key={label}>\n                  <StepLabel\n                    StepIconComponent={QontoStepIcon}\n                    sx={{\n                      \"& .MuiStepLabel-label\": {\n                        typography: \"subtitle2\",\n                        color: \"text.disabled\",\n                      },\n                    }}\n                  >\n                    {label}\n                  </StepLabel>\n                </Step>\n              ))}\n            </Stepper>\n          </Grid>\n        </Grid>\n\n        <Box sx={{ maxWidth: 1080, mx: \"auto\" }}>\n          {activeStep === 0 && (\n            <ConfirmRespondent\n              avatar={profile.avatar}\n              goToNextStep={goToNextStep}\n              respondentName={name}\n              description={respondentProfile.description}\n              fee={respondentProfile.fee}\n              specialties={respondentProfile.specialities}\n              ratings={respondentProfile.rating}\n              questionNumber={respondentProfile.answerCount}\n            />\n          )}\n          {activeStep === 1 && <PostNewQuestion goToNextStep={goToNextStep} />}\n          {activeStep === 2 && <PostSuccess />}\n        </Box>\n      </Container>\n    </Page>\n  );\n}\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/**\n * Based on Kendo UI Core expression code <https://github.com/telerik/kendo-ui-core#license-information>\n */\n'use strict'\n\nfunction Cache(maxSize) {\n  this._maxSize = maxSize\n  this.clear()\n}\nCache.prototype.clear = function () {\n  this._size = 0\n  this._values = Object.create(null)\n}\nCache.prototype.get = function (key) {\n  return this._values[key]\n}\nCache.prototype.set = function (key, value) {\n  this._size >= this._maxSize && this.clear()\n  if (!(key in this._values)) this._size++\n\n  return (this._values[key] = value)\n}\n\nvar SPLIT_REGEX = /[^.^\\]^[]+|(?=\\[\\]|\\.\\.)/g,\n  DIGIT_REGEX = /^\\d+$/,\n  LEAD_DIGIT_REGEX = /^\\d/,\n  SPEC_CHAR_REGEX = /[~`!#$%\\^&*+=\\-\\[\\]\\\\';,/{}|\\\\\":<>\\?]/g,\n  CLEAN_QUOTES_REGEX = /^\\s*(['\"]?)(.*?)(\\1)\\s*$/,\n  MAX_CACHE_SIZE = 512\n\nvar pathCache = new Cache(MAX_CACHE_SIZE),\n  setCache = new Cache(MAX_CACHE_SIZE),\n  getCache = new Cache(MAX_CACHE_SIZE)\n\nvar config\n\nmodule.exports = {\n  Cache: Cache,\n\n  split: split,\n\n  normalizePath: normalizePath,\n\n  setter: function (path) {\n    var parts = normalizePath(path)\n\n    return (\n      setCache.get(path) ||\n      setCache.set(path, function setter(obj, value) {\n        var index = 0\n        var len = parts.length\n        var data = obj\n\n        while (index < len - 1) {\n          var part = parts[index]\n          if (\n            part === '__proto__' ||\n            part === 'constructor' ||\n            part === 'prototype'\n          ) {\n            return obj\n          }\n\n          data = data[parts[index++]]\n        }\n        data[parts[index]] = value\n      })\n    )\n  },\n\n  getter: function (path, safe) {\n    var parts = normalizePath(path)\n    return (\n      getCache.get(path) ||\n      getCache.set(path, function getter(data) {\n        var index = 0,\n          len = parts.length\n        while (index < len) {\n          if (data != null || !safe) data = data[parts[index++]]\n          else return\n        }\n        return data\n      })\n    )\n  },\n\n  join: function (segments) {\n    return segments.reduce(function (path, part) {\n      return (\n        path +\n        (isQuoted(part) || DIGIT_REGEX.test(part)\n          ? '[' + part + ']'\n          : (path ? '.' : '') + part)\n      )\n    }, '')\n  },\n\n  forEach: function (path, cb, thisArg) {\n    forEach(Array.isArray(path) ? path : split(path), cb, thisArg)\n  },\n}\n\nfunction normalizePath(path) {\n  return (\n    pathCache.get(path) ||\n    pathCache.set(\n      path,\n      split(path).map(function (part) {\n        return part.replace(CLEAN_QUOTES_REGEX, '$2')\n      })\n    )\n  )\n}\n\nfunction split(path) {\n  return path.match(SPLIT_REGEX)\n}\n\nfunction forEach(parts, iter, thisArg) {\n  var len = parts.length,\n    part,\n    idx,\n    isArray,\n    isBracket\n\n  for (idx = 0; idx < len; idx++) {\n    part = parts[idx]\n\n    if (part) {\n      if (shouldBeQuoted(part)) {\n        part = '\"' + part + '\"'\n      }\n\n      isBracket = isQuoted(part)\n      isArray = !isBracket && /^\\d+$/.test(part)\n\n      iter.call(thisArg, part, isBracket, isArray, idx, parts)\n    }\n  }\n}\n\nfunction isQuoted(str) {\n  return (\n    typeof str === 'string' && str && [\"'\", '\"'].indexOf(str.charAt(0)) !== -1\n  )\n}\n\nfunction hasLeadingNumber(part) {\n  return part.match(LEAD_DIGIT_REGEX) && !part.match(DIGIT_REGEX)\n}\n\nfunction hasSpecialChars(part) {\n  return SPEC_CHAR_REGEX.test(part)\n}\n\nfunction shouldBeQuoted(part) {\n  return !isQuoted(part) && (hasLeadingNumber(part) || hasSpecialChars(part))\n}\n","import { Helmet } from \"react-helmet-async\";\nimport { ReactNode } from \"react\";\nimport { Box, BoxProps } from \"@mui/material\";\n\ninterface PageProps extends BoxProps {\n  title?: string;\n  children: ReactNode;\n}\n\nexport default function Page(props: PageProps): JSX.Element {\n  const { title, children, ...other } = props;\n  return (\n    <Box {...other}>\n      <Helmet>\n        <title>{title}</title>\n      </Helmet>\n      {children}\n    </Box>\n  );\n}\n","var baseHas = require('./_baseHas'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct property of `object`.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = { 'a': { 'b': 2 } };\n * var other = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.has(object, 'a');\n * // => true\n *\n * _.has(object, 'a.b');\n * // => true\n *\n * _.has(object, ['a', 'b']);\n * // => true\n *\n * _.has(other, 'a');\n * // => false\n */\nfunction has(object, path) {\n  return object != null && hasPath(object, path, baseHas);\n}\n\nmodule.exports = has;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","var arrayLikeKeys = require('./_arrayLikeKeys'),\n    baseKeys = require('./_baseKeys'),\n    isArrayLike = require('./isArrayLike');\n\n/**\n * Creates an array of the own enumerable property names of `object`.\n *\n * **Note:** Non-object values are coerced to objects. See the\n * [ES spec](http://ecma-international.org/ecma-262/7.0/#sec-object.keys)\n * for more details.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Object\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n *   this.b = 2;\n * }\n *\n * Foo.prototype.c = 3;\n *\n * _.keys(new Foo);\n * // => ['a', 'b'] (iteration order is not guaranteed)\n *\n * _.keys('hi');\n * // => ['0', '1']\n */\nfunction keys(object) {\n  return isArrayLike(object) ? arrayLikeKeys(object) : baseKeys(object);\n}\n\nmodule.exports = keys;\n","var castPath = require('./_castPath'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isIndex = require('./_isIndex'),\n    isLength = require('./isLength'),\n    toKey = require('./_toKey');\n\n/**\n * Checks if `path` exists on `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @param {Function} hasFunc The function to check properties.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n */\nfunction hasPath(object, path, hasFunc) {\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      result = false;\n\n  while (++index < length) {\n    var key = toKey(path[index]);\n    if (!(result = object != null && hasFunc(object, key))) {\n      break;\n    }\n    object = object[key];\n  }\n  if (result || ++index != length) {\n    return result;\n  }\n  length = object == null ? 0 : object.length;\n  return !!length && isLength(length) && isIndex(key, length) &&\n    (isArray(object) || isArguments(object));\n}\n\nmodule.exports = hasPath;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * Creates an object with the same keys as `object` and values generated\n * by running each own enumerable string keyed property of `object` thru\n * `iteratee`. The iteratee is invoked with three arguments:\n * (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapKeys\n * @example\n *\n * var users = {\n *   'fred':    { 'user': 'fred',    'age': 40 },\n *   'pebbles': { 'user': 'pebbles', 'age': 1 }\n * };\n *\n * _.mapValues(users, function(o) { return o.age; });\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n *\n * // The `_.property` iteratee shorthand.\n * _.mapValues(users, 'age');\n * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\n */\nfunction mapValues(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, key, iteratee(value, key, object));\n  });\n  return result;\n}\n\nmodule.exports = mapValues;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var baseFor = require('./_baseFor'),\n    keys = require('./keys');\n\n/**\n * The base implementation of `_.forOwn` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Object} Returns `object`.\n */\nfunction baseForOwn(object, iteratee) {\n  return object && baseFor(object, iteratee, keys);\n}\n\nmodule.exports = baseForOwn;\n","var root = require('./_root'),\n    stubFalse = require('./stubFalse');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Built-in value references. */\nvar Buffer = moduleExports ? root.Buffer : undefined;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeIsBuffer = Buffer ? Buffer.isBuffer : undefined;\n\n/**\n * Checks if `value` is a buffer.\n *\n * @static\n * @memberOf _\n * @since 4.3.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a buffer, else `false`.\n * @example\n *\n * _.isBuffer(new Buffer(2));\n * // => true\n *\n * _.isBuffer(new Uint8Array(2));\n * // => false\n */\nvar isBuffer = nativeIsBuffer || stubFalse;\n\nmodule.exports = isBuffer;\n","var baseIsTypedArray = require('./_baseIsTypedArray'),\n    baseUnary = require('./_baseUnary'),\n    nodeUtil = require('./_nodeUtil');\n\n/* Node.js helper references. */\nvar nodeIsTypedArray = nodeUtil && nodeUtil.isTypedArray;\n\n/**\n * Checks if `value` is classified as a typed array.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n * @example\n *\n * _.isTypedArray(new Uint8Array);\n * // => true\n *\n * _.isTypedArray([]);\n * // => false\n */\nvar isTypedArray = nodeIsTypedArray ? baseUnary(nodeIsTypedArray) : baseIsTypedArray;\n\nmodule.exports = isTypedArray;\n","var baseMatches = require('./_baseMatches'),\n    baseMatchesProperty = require('./_baseMatchesProperty'),\n    identity = require('./identity'),\n    isArray = require('./isArray'),\n    property = require('./property');\n\n/**\n * The base implementation of `_.iteratee`.\n *\n * @private\n * @param {*} [value=_.identity] The value to convert to an iteratee.\n * @returns {Function} Returns the iteratee.\n */\nfunction baseIteratee(value) {\n  // Don't store the `typeof` result in a variable to avoid a JIT bug in Safari 9.\n  // See https://bugs.webkit.org/show_bug.cgi?id=156034 for more details.\n  if (typeof value == 'function') {\n    return value;\n  }\n  if (value == null) {\n    return identity;\n  }\n  if (typeof value == 'object') {\n    return isArray(value)\n      ? baseMatchesProperty(value[0], value[1])\n      : baseMatches(value);\n  }\n  return property(value);\n}\n\nmodule.exports = baseIteratee;\n","var ListCache = require('./_ListCache'),\n    stackClear = require('./_stackClear'),\n    stackDelete = require('./_stackDelete'),\n    stackGet = require('./_stackGet'),\n    stackHas = require('./_stackHas'),\n    stackSet = require('./_stackSet');\n\n/**\n * Creates a stack cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Stack(entries) {\n  var data = this.__data__ = new ListCache(entries);\n  this.size = data.size;\n}\n\n// Add methods to `Stack`.\nStack.prototype.clear = stackClear;\nStack.prototype['delete'] = stackDelete;\nStack.prototype.get = stackGet;\nStack.prototype.has = stackHas;\nStack.prototype.set = stackSet;\n\nmodule.exports = Stack;\n","var baseIsEqualDeep = require('./_baseIsEqualDeep'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * The base implementation of `_.isEqual` which supports partial comparisons\n * and tracks traversed objects.\n *\n * @private\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @param {boolean} bitmask The bitmask flags.\n *  1 - Unordered comparison\n *  2 - Partial comparison\n * @param {Function} [customizer] The function to customize comparisons.\n * @param {Object} [stack] Tracks traversed `value` and `other` objects.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n */\nfunction baseIsEqual(value, other, bitmask, customizer, stack) {\n  if (value === other) {\n    return true;\n  }\n  if (value == null || other == null || (!isObjectLike(value) && !isObjectLike(other))) {\n    return value !== value && other !== other;\n  }\n  return baseIsEqualDeep(value, other, bitmask, customizer, baseIsEqual, stack);\n}\n\nmodule.exports = baseIsEqual;\n","var SetCache = require('./_SetCache'),\n    arraySome = require('./_arraySome'),\n    cacheHas = require('./_cacheHas');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * A specialized version of `baseIsEqualDeep` for arrays with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Array} array The array to compare.\n * @param {Array} other The other array to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `array` and `other` objects.\n * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\n */\nfunction equalArrays(array, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      arrLength = array.length,\n      othLength = other.length;\n\n  if (arrLength != othLength && !(isPartial && othLength > arrLength)) {\n    return false;\n  }\n  // Check that cyclic values are equal.\n  var arrStacked = stack.get(array);\n  var othStacked = stack.get(other);\n  if (arrStacked && othStacked) {\n    return arrStacked == other && othStacked == array;\n  }\n  var index = -1,\n      result = true,\n      seen = (bitmask & COMPARE_UNORDERED_FLAG) ? new SetCache : undefined;\n\n  stack.set(array, other);\n  stack.set(other, array);\n\n  // Ignore non-index properties.\n  while (++index < arrLength) {\n    var arrValue = array[index],\n        othValue = other[index];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, arrValue, index, other, array, stack)\n        : customizer(arrValue, othValue, index, array, other, stack);\n    }\n    if (compared !== undefined) {\n      if (compared) {\n        continue;\n      }\n      result = false;\n      break;\n    }\n    // Recursively compare arrays (susceptible to call stack limits).\n    if (seen) {\n      if (!arraySome(other, function(othValue, othIndex) {\n            if (!cacheHas(seen, othIndex) &&\n                (arrValue === othValue || equalFunc(arrValue, othValue, bitmask, customizer, stack))) {\n              return seen.push(othIndex);\n            }\n          })) {\n        result = false;\n        break;\n      }\n    } else if (!(\n          arrValue === othValue ||\n            equalFunc(arrValue, othValue, bitmask, customizer, stack)\n        )) {\n      result = false;\n      break;\n    }\n  }\n  stack['delete'](array);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalArrays;\n","var isObject = require('./isObject');\n\n/**\n * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` if suitable for strict\n *  equality comparisons, else `false`.\n */\nfunction isStrictComparable(value) {\n  return value === value && !isObject(value);\n}\n\nmodule.exports = isStrictComparable;\n","/**\n * A specialized version of `matchesProperty` for source values suitable\n * for strict equality comparisons, i.e. `===`.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction matchesStrictComparable(key, srcValue) {\n  return function(object) {\n    if (object == null) {\n      return false;\n    }\n    return object[key] === srcValue &&\n      (srcValue !== undefined || (key in Object(object)));\n  };\n}\n\nmodule.exports = matchesStrictComparable;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsZWJ = '\\\\u200d';\n\n/** Used to detect strings with [zero-width joiners or code points from the astral planes](http://eev.ee/blog/2015/09/12/dark-corners-of-unicode/). */\nvar reHasUnicode = RegExp('[' + rsZWJ + rsAstralRange  + rsComboRange + rsVarRange + ']');\n\n/**\n * Checks if `string` contains Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a symbol is found, else `false`.\n */\nfunction hasUnicode(string) {\n  return reHasUnicode.test(string);\n}\n\nmodule.exports = hasUnicode;\n","import { ReactNode } from \"react\";\nimport { isString } from \"lodash\";\n// material\nimport { Box, Typography, Link } from \"@mui/material\";\n//\nimport MBreadcrumbs from \"../@material-extend/MBreadcrumbs\";\nimport { MBreadcrumbsProps } from \"../@material-extend/MBreadcrumbs\";\n\ninterface HeaderBreadcrumbsProps extends MBreadcrumbsProps {\n  action?: ReactNode;\n  heading: string;\n  moreLink?: string | string[];\n}\n\nexport default function HeaderBreadcrumbs({\n  links,\n  action,\n  heading,\n  moreLink = \"\" || [],\n  sx,\n  ...other\n}: HeaderBreadcrumbsProps): JSX.Element {\n  return (\n    <Box sx={{ mb: 5, ...sx }}>\n      <Box sx={{ display: \"flex\", alignItems: \"center\" }}>\n        <Box sx={{ flexGrow: 1 }}>\n          <Typography variant=\"h4\" gutterBottom>\n            {heading}\n          </Typography>\n          <MBreadcrumbs links={links} {...other} />\n        </Box>\n\n        {action && <Box sx={{ flexShrink: 0 }}>{action}</Box>}\n      </Box>\n\n      <Box sx={{ mt: 2 }}>\n        {isString(moreLink) ? (\n          <Link href={moreLink} target=\"_blank\" variant=\"body2\">\n            {moreLink}\n          </Link>\n        ) : (\n          moreLink.map(href => (\n            <Link\n              noWrap\n              key={href}\n              href={href}\n              variant=\"body2\"\n              target=\"_blank\"\n              sx={{ display: \"table\" }}\n            >\n              {href}\n            </Link>\n          ))\n        )}\n      </Box>\n    </Box>\n  );\n}\n","// ES6 Map\nvar map\ntry {\n  map = Map\n} catch (_) { }\nvar set\n\n// ES6 Set\ntry {\n  set = Set\n} catch (_) { }\n\nfunction baseClone (src, circulars, clones) {\n  // Null/undefined/functions/etc\n  if (!src || typeof src !== 'object' || typeof src === 'function') {\n    return src\n  }\n\n  // DOM Node\n  if (src.nodeType && 'cloneNode' in src) {\n    return src.cloneNode(true)\n  }\n\n  // Date\n  if (src instanceof Date) {\n    return new Date(src.getTime())\n  }\n\n  // RegExp\n  if (src instanceof RegExp) {\n    return new RegExp(src)\n  }\n\n  // Arrays\n  if (Array.isArray(src)) {\n    return src.map(clone)\n  }\n\n  // ES6 Maps\n  if (map && src instanceof map) {\n    return new Map(Array.from(src.entries()))\n  }\n\n  // ES6 Sets\n  if (set && src instanceof set) {\n    return new Set(Array.from(src.values()))\n  }\n\n  // Object\n  if (src instanceof Object) {\n    circulars.push(src)\n    var obj = Object.create(src)\n    clones.push(obj)\n    for (var key in src) {\n      var idx = circulars.findIndex(function (i) {\n        return i === src[key]\n      })\n      obj[key] = idx > -1 ? clones[idx] : baseClone(src[key], circulars, clones)\n    }\n    return obj\n  }\n\n  // ???\n  return src\n}\n\nexport default function clone (src) {\n  return baseClone(src, [], [])\n}\n","const toString = Object.prototype.toString;\nconst errorToString = Error.prototype.toString;\nconst regExpToString = RegExp.prototype.toString;\nconst symbolToString = typeof Symbol !== 'undefined' ? Symbol.prototype.toString : () => '';\nconst SYMBOL_REGEXP = /^Symbol\\((.*)\\)(.*)$/;\n\nfunction printNumber(val) {\n  if (val != +val) return 'NaN';\n  const isNegativeZero = val === 0 && 1 / val < 0;\n  return isNegativeZero ? '-0' : '' + val;\n}\n\nfunction printSimpleValue(val, quoteStrings = false) {\n  if (val == null || val === true || val === false) return '' + val;\n  const typeOf = typeof val;\n  if (typeOf === 'number') return printNumber(val);\n  if (typeOf === 'string') return quoteStrings ? `\"${val}\"` : val;\n  if (typeOf === 'function') return '[Function ' + (val.name || 'anonymous') + ']';\n  if (typeOf === 'symbol') return symbolToString.call(val).replace(SYMBOL_REGEXP, 'Symbol($1)');\n  const tag = toString.call(val).slice(8, -1);\n  if (tag === 'Date') return isNaN(val.getTime()) ? '' + val : val.toISOString(val);\n  if (tag === 'Error' || val instanceof Error) return '[' + errorToString.call(val) + ']';\n  if (tag === 'RegExp') return regExpToString.call(val);\n  return null;\n}\n\nexport default function printValue(value, quoteStrings) {\n  let result = printSimpleValue(value, quoteStrings);\n  if (result !== null) return result;\n  return JSON.stringify(value, function (key, value) {\n    let result = printSimpleValue(this[key], quoteStrings);\n    if (result !== null) return result;\n    return value;\n  }, 2);\n}","import printValue from './util/printValue';\nexport let mixed = {\n  default: '${path} is invalid',\n  required: '${path} is a required field',\n  oneOf: '${path} must be one of the following values: ${values}',\n  notOneOf: '${path} must not be one of the following values: ${values}',\n  notType: ({\n    path,\n    type,\n    value,\n    originalValue\n  }) => {\n    let isCast = originalValue != null && originalValue !== value;\n    let msg = `${path} must be a \\`${type}\\` type, ` + `but the final value was: \\`${printValue(value, true)}\\`` + (isCast ? ` (cast from the value \\`${printValue(originalValue, true)}\\`).` : '.');\n\n    if (value === null) {\n      msg += `\\n If \"null\" is intended as an empty value be sure to mark the schema as \\`.nullable()\\``;\n    }\n\n    return msg;\n  },\n  defined: '${path} must be defined'\n};\nexport let string = {\n  length: '${path} must be exactly ${length} characters',\n  min: '${path} must be at least ${min} characters',\n  max: '${path} must be at most ${max} characters',\n  matches: '${path} must match the following: \"${regex}\"',\n  email: '${path} must be a valid email',\n  url: '${path} must be a valid URL',\n  uuid: '${path} must be a valid UUID',\n  trim: '${path} must be a trimmed string',\n  lowercase: '${path} must be a lowercase string',\n  uppercase: '${path} must be a upper case string'\n};\nexport let number = {\n  min: '${path} must be greater than or equal to ${min}',\n  max: '${path} must be less than or equal to ${max}',\n  lessThan: '${path} must be less than ${less}',\n  moreThan: '${path} must be greater than ${more}',\n  positive: '${path} must be a positive number',\n  negative: '${path} must be a negative number',\n  integer: '${path} must be an integer'\n};\nexport let date = {\n  min: '${path} field must be later than ${min}',\n  max: '${path} field must be at earlier than ${max}'\n};\nexport let boolean = {\n  isValue: '${path} field must be ${value}'\n};\nexport let object = {\n  noUnknown: '${path} field has unspecified keys: ${unknown}'\n};\nexport let array = {\n  min: '${path} field must have at least ${min} items',\n  max: '${path} field must have less than or equal to ${max} items',\n  length: '${path} must have ${length} items'\n};\nexport default Object.assign(Object.create(null), {\n  mixed,\n  string,\n  number,\n  date,\n  object,\n  array,\n  boolean\n});","const isSchema = obj => obj && obj.__isYupSchema__;\n\nexport default isSchema;","import has from 'lodash/has';\nimport isSchema from './util/isSchema';\n\nclass Condition {\n  constructor(refs, options) {\n    this.fn = void 0;\n    this.refs = refs;\n    this.refs = refs;\n\n    if (typeof options === 'function') {\n      this.fn = options;\n      return;\n    }\n\n    if (!has(options, 'is')) throw new TypeError('`is:` is required for `when()` conditions');\n    if (!options.then && !options.otherwise) throw new TypeError('either `then:` or `otherwise:` is required for `when()` conditions');\n    let {\n      is,\n      then,\n      otherwise\n    } = options;\n    let check = typeof is === 'function' ? is : (...values) => values.every(value => value === is);\n\n    this.fn = function (...args) {\n      let options = args.pop();\n      let schema = args.pop();\n      let branch = check(...args) ? then : otherwise;\n      if (!branch) return undefined;\n      if (typeof branch === 'function') return branch(schema);\n      return schema.concat(branch.resolve(options));\n    };\n  }\n\n  resolve(base, options) {\n    let values = this.refs.map(ref => ref.getValue(options == null ? void 0 : options.value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context));\n    let schema = this.fn.apply(base, values.concat(base, options));\n    if (schema === undefined || schema === base) return base;\n    if (!isSchema(schema)) throw new TypeError('conditions must return a schema object');\n    return schema.resolve(options);\n  }\n\n}\n\nexport default Condition;","export default function toArray(value) {\n  return value == null ? [] : [].concat(value);\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport printValue from './util/printValue';\nimport toArray from './util/toArray';\nlet strReg = /\\$\\{\\s*(\\w+)\\s*\\}/g;\nexport default class ValidationError extends Error {\n  static formatError(message, params) {\n    const path = params.label || params.path || 'this';\n    if (path !== params.path) params = _extends({}, params, {\n      path\n    });\n    if (typeof message === 'string') return message.replace(strReg, (_, key) => printValue(params[key]));\n    if (typeof message === 'function') return message(params);\n    return message;\n  }\n\n  static isError(err) {\n    return err && err.name === 'ValidationError';\n  }\n\n  constructor(errorOrErrors, value, field, type) {\n    super();\n    this.value = void 0;\n    this.path = void 0;\n    this.type = void 0;\n    this.errors = void 0;\n    this.params = void 0;\n    this.inner = void 0;\n    this.name = 'ValidationError';\n    this.value = value;\n    this.path = field;\n    this.type = type;\n    this.errors = [];\n    this.inner = [];\n    toArray(errorOrErrors).forEach(err => {\n      if (ValidationError.isError(err)) {\n        this.errors.push(...err.errors);\n        this.inner = this.inner.concat(err.inner.length ? err.inner : err);\n      } else {\n        this.errors.push(err);\n      }\n    });\n    this.message = this.errors.length > 1 ? `${this.errors.length} errors occurred` : this.errors[0];\n    if (Error.captureStackTrace) Error.captureStackTrace(this, ValidationError);\n  }\n\n}","import ValidationError from '../ValidationError';\n\nconst once = cb => {\n  let fired = false;\n  return (...args) => {\n    if (fired) return;\n    fired = true;\n    cb(...args);\n  };\n};\n\nexport default function runTests(options, cb) {\n  let {\n    endEarly,\n    tests,\n    args,\n    value,\n    errors,\n    sort,\n    path\n  } = options;\n  let callback = once(cb);\n  let count = tests.length;\n  const nestedErrors = [];\n  errors = errors ? errors : [];\n  if (!count) return errors.length ? callback(new ValidationError(errors, value, path)) : callback(null, value);\n\n  for (let i = 0; i < tests.length; i++) {\n    const test = tests[i];\n    test(args, function finishTestRun(err) {\n      if (err) {\n        // always return early for non validation errors\n        if (!ValidationError.isError(err)) {\n          return callback(err, value);\n        }\n\n        if (endEarly) {\n          err.value = value;\n          return callback(err, value);\n        }\n\n        nestedErrors.push(err);\n      }\n\n      if (--count <= 0) {\n        if (nestedErrors.length) {\n          if (sort) nestedErrors.sort(sort); //show parent errors after the nested ones: name.first, name\n\n          if (errors.length) nestedErrors.push(...errors);\n          errors = nestedErrors;\n        }\n\n        if (errors.length) {\n          callback(new ValidationError(errors, value, path), value);\n          return;\n        }\n\n        callback(null, value);\n      }\n    });\n  }\n}","import { getter } from 'property-expr';\nconst prefixes = {\n  context: '$',\n  value: '.'\n};\nexport function create(key, options) {\n  return new Reference(key, options);\n}\nexport default class Reference {\n  constructor(key, options = {}) {\n    this.key = void 0;\n    this.isContext = void 0;\n    this.isValue = void 0;\n    this.isSibling = void 0;\n    this.path = void 0;\n    this.getter = void 0;\n    this.map = void 0;\n    if (typeof key !== 'string') throw new TypeError('ref must be a string, got: ' + key);\n    this.key = key.trim();\n    if (key === '') throw new TypeError('ref must be a non-empty string');\n    this.isContext = this.key[0] === prefixes.context;\n    this.isValue = this.key[0] === prefixes.value;\n    this.isSibling = !this.isContext && !this.isValue;\n    let prefix = this.isContext ? prefixes.context : this.isValue ? prefixes.value : '';\n    this.path = this.key.slice(prefix.length);\n    this.getter = this.path && getter(this.path, true);\n    this.map = options.map;\n  }\n\n  getValue(value, parent, context) {\n    let result = this.isContext ? context : this.isValue ? value : parent;\n    if (this.getter) result = this.getter(result || {});\n    if (this.map) result = this.map(result);\n    return result;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {Object=} options.context\n   * @param {Object=} options.parent\n   */\n\n\n  cast(value, options) {\n    return this.getValue(value, options == null ? void 0 : options.parent, options == null ? void 0 : options.context);\n  }\n\n  resolve() {\n    return this;\n  }\n\n  describe() {\n    return {\n      type: 'ref',\n      key: this.key\n    };\n  }\n\n  toString() {\n    return `Ref(${this.key})`;\n  }\n\n  static isRef(value) {\n    return value && value.__isYupRef;\n  }\n\n} // @ts-ignore\n\nReference.prototype.__isYupRef = true;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport mapValues from 'lodash/mapValues';\nimport ValidationError from '../ValidationError';\nimport Ref from '../Reference';\nexport default function createValidation(config) {\n  function validate(_ref, cb) {\n    let {\n      value,\n      path = '',\n      label,\n      options,\n      originalValue,\n      sync\n    } = _ref,\n        rest = _objectWithoutPropertiesLoose(_ref, [\"value\", \"path\", \"label\", \"options\", \"originalValue\", \"sync\"]);\n\n    const {\n      name,\n      test,\n      params,\n      message\n    } = config;\n    let {\n      parent,\n      context\n    } = options;\n\n    function resolve(item) {\n      return Ref.isRef(item) ? item.getValue(value, parent, context) : item;\n    }\n\n    function createError(overrides = {}) {\n      const nextParams = mapValues(_extends({\n        value,\n        originalValue,\n        label,\n        path: overrides.path || path\n      }, params, overrides.params), resolve);\n      const error = new ValidationError(ValidationError.formatError(overrides.message || message, nextParams), value, nextParams.path, overrides.type || name);\n      error.params = nextParams;\n      return error;\n    }\n\n    let ctx = _extends({\n      path,\n      parent,\n      type: name,\n      createError,\n      resolve,\n      options,\n      originalValue\n    }, rest);\n\n    if (!sync) {\n      try {\n        Promise.resolve(test.call(ctx, value, ctx)).then(validOrError => {\n          if (ValidationError.isError(validOrError)) cb(validOrError);else if (!validOrError) cb(createError());else cb(null, validOrError);\n        }).catch(cb);\n      } catch (err) {\n        cb(err);\n      }\n\n      return;\n    }\n\n    let result;\n\n    try {\n      var _ref2;\n\n      result = test.call(ctx, value, ctx);\n\n      if (typeof ((_ref2 = result) == null ? void 0 : _ref2.then) === 'function') {\n        throw new Error(`Validation test of type: \"${ctx.type}\" returned a Promise during a synchronous validate. ` + `This test will finish after the validate call has returned`);\n      }\n    } catch (err) {\n      cb(err);\n      return;\n    }\n\n    if (ValidationError.isError(result)) cb(result);else if (!result) cb(createError());else cb(null, result);\n  }\n\n  validate.OPTIONS = config;\n  return validate;\n}","import { forEach } from 'property-expr';\n\nlet trim = part => part.substr(0, part.length - 1).substr(1);\n\nexport function getIn(schema, path, value, context = value) {\n  let parent, lastPart, lastPartDebug; // root path: ''\n\n  if (!path) return {\n    parent,\n    parentPath: path,\n    schema\n  };\n  forEach(path, (_part, isBracket, isArray) => {\n    let part = isBracket ? trim(_part) : _part;\n    schema = schema.resolve({\n      context,\n      parent,\n      value\n    });\n\n    if (schema.innerType) {\n      let idx = isArray ? parseInt(part, 10) : 0;\n\n      if (value && idx >= value.length) {\n        throw new Error(`Yup.reach cannot resolve an array item at index: ${_part}, in the path: ${path}. ` + `because there is no value at that index. `);\n      }\n\n      parent = value;\n      value = value && value[idx];\n      schema = schema.innerType;\n    } // sometimes the array index part of a path doesn't exist: \"nested.arr.child\"\n    // in these cases the current part is the next schema and should be processed\n    // in this iteration. For cases where the index signature is included this\n    // check will fail and we'll handle the `child` part on the next iteration like normal\n\n\n    if (!isArray) {\n      if (!schema.fields || !schema.fields[part]) throw new Error(`The schema does not contain the path: ${path}. ` + `(failed at: ${lastPartDebug} which is a type: \"${schema._type}\")`);\n      parent = value;\n      value = value && value[part];\n      schema = schema.fields[part];\n    }\n\n    lastPart = part;\n    lastPartDebug = isBracket ? '[' + _part + ']' : '.' + _part;\n  });\n  return {\n    schema,\n    parent,\n    parentPath: lastPart\n  };\n}\n\nconst reach = (obj, path, value, context) => getIn(obj, path, value, context).schema;\n\nexport default reach;","import Reference from '../Reference';\nexport default class ReferenceSet {\n  constructor() {\n    this.list = void 0;\n    this.refs = void 0;\n    this.list = new Set();\n    this.refs = new Map();\n  }\n\n  get size() {\n    return this.list.size + this.refs.size;\n  }\n\n  describe() {\n    const description = [];\n\n    for (const item of this.list) description.push(item);\n\n    for (const [, ref] of this.refs) description.push(ref.describe());\n\n    return description;\n  }\n\n  toArray() {\n    return Array.from(this.list).concat(Array.from(this.refs.values()));\n  }\n\n  resolveAll(resolve) {\n    return this.toArray().reduce((acc, e) => acc.concat(Reference.isRef(e) ? resolve(e) : e), []);\n  }\n\n  add(value) {\n    Reference.isRef(value) ? this.refs.set(value.key, value) : this.list.add(value);\n  }\n\n  delete(value) {\n    Reference.isRef(value) ? this.refs.delete(value.key) : this.list.delete(value);\n  }\n\n  clone() {\n    const next = new ReferenceSet();\n    next.list = new Set(this.list);\n    next.refs = new Map(this.refs);\n    return next;\n  }\n\n  merge(newItems, removeItems) {\n    const next = this.clone();\n    newItems.list.forEach(value => next.add(value));\n    newItems.refs.forEach(value => next.add(value));\n    removeItems.list.forEach(value => next.delete(value));\n    removeItems.refs.forEach(value => next.delete(value));\n    return next;\n  }\n\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\n// @ts-ignore\nimport cloneDeep from 'nanoclone';\nimport { mixed as locale } from './locale';\nimport Condition from './Condition';\nimport runTests from './util/runTests';\nimport createValidation from './util/createValidation';\nimport printValue from './util/printValue';\nimport Ref from './Reference';\nimport { getIn } from './util/reach';\nimport ValidationError from './ValidationError';\nimport ReferenceSet from './util/ReferenceSet';\nimport toArray from './util/toArray'; // const UNSET = 'unset' as const;\n\nexport default class BaseSchema {\n  constructor(options) {\n    this.deps = [];\n    this.tests = void 0;\n    this.transforms = void 0;\n    this.conditions = [];\n    this._mutate = void 0;\n    this._typeError = void 0;\n    this._whitelist = new ReferenceSet();\n    this._blacklist = new ReferenceSet();\n    this.exclusiveTests = Object.create(null);\n    this.spec = void 0;\n    this.tests = [];\n    this.transforms = [];\n    this.withMutation(() => {\n      this.typeError(locale.notType);\n    });\n    this.type = (options == null ? void 0 : options.type) || 'mixed';\n    this.spec = _extends({\n      strip: false,\n      strict: false,\n      abortEarly: true,\n      recursive: true,\n      nullable: false,\n      presence: 'optional'\n    }, options == null ? void 0 : options.spec);\n  } // TODO: remove\n\n\n  get _type() {\n    return this.type;\n  }\n\n  _typeCheck(_value) {\n    return true;\n  }\n\n  clone(spec) {\n    if (this._mutate) {\n      if (spec) Object.assign(this.spec, spec);\n      return this;\n    } // if the nested value is a schema we can skip cloning, since\n    // they are already immutable\n\n\n    const next = Object.create(Object.getPrototypeOf(this)); // @ts-expect-error this is readonly\n\n    next.type = this.type;\n    next._typeError = this._typeError;\n    next._whitelistError = this._whitelistError;\n    next._blacklistError = this._blacklistError;\n    next._whitelist = this._whitelist.clone();\n    next._blacklist = this._blacklist.clone();\n    next.exclusiveTests = _extends({}, this.exclusiveTests); // @ts-expect-error this is readonly\n\n    next.deps = [...this.deps];\n    next.conditions = [...this.conditions];\n    next.tests = [...this.tests];\n    next.transforms = [...this.transforms];\n    next.spec = cloneDeep(_extends({}, this.spec, spec));\n    return next;\n  }\n\n  label(label) {\n    let next = this.clone();\n    next.spec.label = label;\n    return next;\n  }\n\n  meta(...args) {\n    if (args.length === 0) return this.spec.meta;\n    let next = this.clone();\n    next.spec.meta = Object.assign(next.spec.meta || {}, args[0]);\n    return next;\n  } // withContext<TContext extends AnyObject>(): BaseSchema<\n  //   TCast,\n  //   TContext,\n  //   TOutput\n  // > {\n  //   return this as any;\n  // }\n\n\n  withMutation(fn) {\n    let before = this._mutate;\n    this._mutate = true;\n    let result = fn(this);\n    this._mutate = before;\n    return result;\n  }\n\n  concat(schema) {\n    if (!schema || schema === this) return this;\n    if (schema.type !== this.type && this.type !== 'mixed') throw new TypeError(`You cannot \\`concat()\\` schema's of different types: ${this.type} and ${schema.type}`);\n    let base = this;\n    let combined = schema.clone();\n\n    const mergedSpec = _extends({}, base.spec, combined.spec); // if (combined.spec.nullable === UNSET)\n    //   mergedSpec.nullable = base.spec.nullable;\n    // if (combined.spec.presence === UNSET)\n    //   mergedSpec.presence = base.spec.presence;\n\n\n    combined.spec = mergedSpec;\n    combined._typeError || (combined._typeError = base._typeError);\n    combined._whitelistError || (combined._whitelistError = base._whitelistError);\n    combined._blacklistError || (combined._blacklistError = base._blacklistError); // manually merge the blacklist/whitelist (the other `schema` takes\n    // precedence in case of conflicts)\n\n    combined._whitelist = base._whitelist.merge(schema._whitelist, schema._blacklist);\n    combined._blacklist = base._blacklist.merge(schema._blacklist, schema._whitelist); // start with the current tests\n\n    combined.tests = base.tests;\n    combined.exclusiveTests = base.exclusiveTests; // manually add the new tests to ensure\n    // the deduping logic is consistent\n\n    combined.withMutation(next => {\n      schema.tests.forEach(fn => {\n        next.test(fn.OPTIONS);\n      });\n    });\n    combined.transforms = [...base.transforms, ...combined.transforms];\n    return combined;\n  }\n\n  isType(v) {\n    if (this.spec.nullable && v === null) return true;\n    return this._typeCheck(v);\n  }\n\n  resolve(options) {\n    let schema = this;\n\n    if (schema.conditions.length) {\n      let conditions = schema.conditions;\n      schema = schema.clone();\n      schema.conditions = [];\n      schema = conditions.reduce((schema, condition) => condition.resolve(schema, options), schema);\n      schema = schema.resolve(options);\n    }\n\n    return schema;\n  }\n  /**\n   *\n   * @param {*} value\n   * @param {Object} options\n   * @param {*=} options.parent\n   * @param {*=} options.context\n   */\n\n\n  cast(value, options = {}) {\n    let resolvedSchema = this.resolve(_extends({\n      value\n    }, options));\n\n    let result = resolvedSchema._cast(value, options);\n\n    if (value !== undefined && options.assert !== false && resolvedSchema.isType(result) !== true) {\n      let formattedValue = printValue(value);\n      let formattedResult = printValue(result);\n      throw new TypeError(`The value of ${options.path || 'field'} could not be cast to a value ` + `that satisfies the schema type: \"${resolvedSchema._type}\". \\n\\n` + `attempted value: ${formattedValue} \\n` + (formattedResult !== formattedValue ? `result of cast: ${formattedResult}` : ''));\n    }\n\n    return result;\n  }\n\n  _cast(rawValue, _options) {\n    let value = rawValue === undefined ? rawValue : this.transforms.reduce((value, fn) => fn.call(this, value, rawValue, this), rawValue);\n\n    if (value === undefined) {\n      value = this.getDefault();\n    }\n\n    return value;\n  }\n\n  _validate(_value, options = {}, cb) {\n    let {\n      sync,\n      path,\n      from = [],\n      originalValue = _value,\n      strict = this.spec.strict,\n      abortEarly = this.spec.abortEarly\n    } = options;\n    let value = _value;\n\n    if (!strict) {\n      // this._validating = true;\n      value = this._cast(value, _extends({\n        assert: false\n      }, options)); // this._validating = false;\n    } // value is cast, we can check if it meets type requirements\n\n\n    let args = {\n      value,\n      path,\n      options,\n      originalValue,\n      schema: this,\n      label: this.spec.label,\n      sync,\n      from\n    };\n    let initialTests = [];\n    if (this._typeError) initialTests.push(this._typeError);\n    let finalTests = [];\n    if (this._whitelistError) finalTests.push(this._whitelistError);\n    if (this._blacklistError) finalTests.push(this._blacklistError);\n    runTests({\n      args,\n      value,\n      path,\n      sync,\n      tests: initialTests,\n      endEarly: abortEarly\n    }, err => {\n      if (err) return void cb(err, value);\n      runTests({\n        tests: this.tests.concat(finalTests),\n        args,\n        path,\n        sync,\n        value,\n        endEarly: abortEarly\n      }, cb);\n    });\n  }\n\n  validate(value, options, maybeCb) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    })); // callback case is for nested validations\n\n    return typeof maybeCb === 'function' ? schema._validate(value, options, maybeCb) : new Promise((resolve, reject) => schema._validate(value, options, (err, value) => {\n      if (err) reject(err);else resolve(value);\n    }));\n  }\n\n  validateSync(value, options) {\n    let schema = this.resolve(_extends({}, options, {\n      value\n    }));\n    let result;\n\n    schema._validate(value, _extends({}, options, {\n      sync: true\n    }), (err, value) => {\n      if (err) throw err;\n      result = value;\n    });\n\n    return result;\n  }\n\n  isValid(value, options) {\n    return this.validate(value, options).then(() => true, err => {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    });\n  }\n\n  isValidSync(value, options) {\n    try {\n      this.validateSync(value, options);\n      return true;\n    } catch (err) {\n      if (ValidationError.isError(err)) return false;\n      throw err;\n    }\n  }\n\n  _getDefault() {\n    let defaultValue = this.spec.default;\n\n    if (defaultValue == null) {\n      return defaultValue;\n    }\n\n    return typeof defaultValue === 'function' ? defaultValue.call(this) : cloneDeep(defaultValue);\n  }\n\n  getDefault(options) {\n    let schema = this.resolve(options || {});\n    return schema._getDefault();\n  }\n\n  default(def) {\n    if (arguments.length === 0) {\n      return this._getDefault();\n    }\n\n    let next = this.clone({\n      default: def\n    });\n    return next;\n  }\n\n  strict(isStrict = true) {\n    let next = this.clone();\n    next.spec.strict = isStrict;\n    return next;\n  }\n\n  _isPresent(value) {\n    return value != null;\n  }\n\n  defined(message = locale.defined) {\n    return this.test({\n      message,\n      name: 'defined',\n      exclusive: true,\n\n      test(value) {\n        return value !== undefined;\n      }\n\n    });\n  }\n\n  required(message = locale.required) {\n    return this.clone({\n      presence: 'required'\n    }).withMutation(s => s.test({\n      message,\n      name: 'required',\n      exclusive: true,\n\n      test(value) {\n        return this.schema._isPresent(value);\n      }\n\n    }));\n  }\n\n  notRequired() {\n    let next = this.clone({\n      presence: 'optional'\n    });\n    next.tests = next.tests.filter(test => test.OPTIONS.name !== 'required');\n    return next;\n  }\n\n  nullable(isNullable = true) {\n    let next = this.clone({\n      nullable: isNullable !== false\n    });\n    return next;\n  }\n\n  transform(fn) {\n    let next = this.clone();\n    next.transforms.push(fn);\n    return next;\n  }\n  /**\n   * Adds a test function to the schema's queue of tests.\n   * tests can be exclusive or non-exclusive.\n   *\n   * - exclusive tests, will replace any existing tests of the same name.\n   * - non-exclusive: can be stacked\n   *\n   * If a non-exclusive test is added to a schema with an exclusive test of the same name\n   * the exclusive test is removed and further tests of the same name will be stacked.\n   *\n   * If an exclusive test is added to a schema with non-exclusive tests of the same name\n   * the previous tests are removed and further tests of the same name will replace each other.\n   */\n\n\n  test(...args) {\n    let opts;\n\n    if (args.length === 1) {\n      if (typeof args[0] === 'function') {\n        opts = {\n          test: args[0]\n        };\n      } else {\n        opts = args[0];\n      }\n    } else if (args.length === 2) {\n      opts = {\n        name: args[0],\n        test: args[1]\n      };\n    } else {\n      opts = {\n        name: args[0],\n        message: args[1],\n        test: args[2]\n      };\n    }\n\n    if (opts.message === undefined) opts.message = locale.default;\n    if (typeof opts.test !== 'function') throw new TypeError('`test` is a required parameters');\n    let next = this.clone();\n    let validate = createValidation(opts);\n    let isExclusive = opts.exclusive || opts.name && next.exclusiveTests[opts.name] === true;\n\n    if (opts.exclusive) {\n      if (!opts.name) throw new TypeError('Exclusive tests must provide a unique `name` identifying the test');\n    }\n\n    if (opts.name) next.exclusiveTests[opts.name] = !!opts.exclusive;\n    next.tests = next.tests.filter(fn => {\n      if (fn.OPTIONS.name === opts.name) {\n        if (isExclusive) return false;\n        if (fn.OPTIONS.test === validate.OPTIONS.test) return false;\n      }\n\n      return true;\n    });\n    next.tests.push(validate);\n    return next;\n  }\n\n  when(keys, options) {\n    if (!Array.isArray(keys) && typeof keys !== 'string') {\n      options = keys;\n      keys = '.';\n    }\n\n    let next = this.clone();\n    let deps = toArray(keys).map(key => new Ref(key));\n    deps.forEach(dep => {\n      // @ts-ignore\n      if (dep.isSibling) next.deps.push(dep.key);\n    });\n    next.conditions.push(new Condition(deps, options));\n    return next;\n  }\n\n  typeError(message) {\n    let next = this.clone();\n    next._typeError = createValidation({\n      message,\n      name: 'typeError',\n\n      test(value) {\n        if (value !== undefined && !this.schema.isType(value)) return this.createError({\n          params: {\n            type: this.schema._type\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  oneOf(enums, message = locale.oneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._whitelist.add(val);\n\n      next._blacklist.delete(val);\n    });\n    next._whitelistError = createValidation({\n      message,\n      name: 'oneOf',\n\n      test(value) {\n        if (value === undefined) return true;\n        let valids = this.schema._whitelist;\n        let resolved = valids.resolveAll(this.resolve);\n        return resolved.includes(value) ? true : this.createError({\n          params: {\n            values: valids.toArray().join(', '),\n            resolved\n          }\n        });\n      }\n\n    });\n    return next;\n  }\n\n  notOneOf(enums, message = locale.notOneOf) {\n    let next = this.clone();\n    enums.forEach(val => {\n      next._blacklist.add(val);\n\n      next._whitelist.delete(val);\n    });\n    next._blacklistError = createValidation({\n      message,\n      name: 'notOneOf',\n\n      test(value) {\n        let invalids = this.schema._blacklist;\n        let resolved = invalids.resolveAll(this.resolve);\n        if (resolved.includes(value)) return this.createError({\n          params: {\n            values: invalids.toArray().join(', '),\n            resolved\n          }\n        });\n        return true;\n      }\n\n    });\n    return next;\n  }\n\n  strip(strip = true) {\n    let next = this.clone();\n    next.spec.strip = strip;\n    return next;\n  }\n\n  describe() {\n    const next = this.clone();\n    const {\n      label,\n      meta\n    } = next.spec;\n    const description = {\n      meta,\n      label,\n      type: next.type,\n      oneOf: next._whitelist.describe(),\n      notOneOf: next._blacklist.describe(),\n      tests: next.tests.map(fn => ({\n        name: fn.OPTIONS.name,\n        params: fn.OPTIONS.params\n      })).filter((n, idx, list) => list.findIndex(c => c.name === n.name) === idx)\n    };\n    return description;\n  }\n\n} // eslint-disable-next-line @typescript-eslint/no-unused-vars\n\n// @ts-expect-error\nBaseSchema.prototype.__isYupSchema__ = true;\n\nfor (const method of ['validate', 'validateSync']) BaseSchema.prototype[`${method}At`] = function (path, value, options = {}) {\n  const {\n    parent,\n    parentPath,\n    schema\n  } = getIn(this, path, value, options.context);\n  return schema[method](parent && parent[parentPath], _extends({}, options, {\n    parent,\n    path\n  }));\n};\n\nfor (const alias of ['equals', 'is']) BaseSchema.prototype[alias] = BaseSchema.prototype.oneOf;\n\nfor (const alias of ['not', 'nope']) BaseSchema.prototype[alias] = BaseSchema.prototype.notOneOf;\n\nBaseSchema.prototype.optional = BaseSchema.prototype.notRequired;","import BaseSchema from './schema';\nconst Mixed = BaseSchema;\nexport default Mixed;\nexport function create() {\n  return new Mixed();\n} // XXX: this is using the Base schema so that `addMethod(mixed)` works as a base class\n\ncreate.prototype = Mixed.prototype;","const isAbsent = value => value == null;\n\nexport default isAbsent;","import BaseSchema from './schema';\nimport { boolean as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nexport function create() {\n  return new BooleanSchema();\n}\nexport default class BooleanSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'boolean'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (!this.isType(value)) {\n          if (/^(true|1)$/i.test(String(value))) return true;\n          if (/^(false|0)$/i.test(String(value))) return false;\n        }\n\n        return value;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    if (v instanceof Boolean) v = v.valueOf();\n    return typeof v === 'boolean';\n  }\n\n  isTrue(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'true'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === true;\n      }\n\n    });\n  }\n\n  isFalse(message = locale.isValue) {\n    return this.test({\n      message,\n      name: 'is-value',\n      exclusive: true,\n      params: {\n        value: 'false'\n      },\n\n      test(value) {\n        return isAbsent(value) || value === false;\n      }\n\n    });\n  }\n\n}\ncreate.prototype = BooleanSchema.prototype;","import { string as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema'; // eslint-disable-next-line\n\nlet rEmail = /^((([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+(\\.([a-z]|\\d|[!#\\$%&'\\*\\+\\-\\/=\\?\\^_`{\\|}~]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])+)*)|((\\x22)((((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(([\\x01-\\x08\\x0b\\x0c\\x0e-\\x1f\\x7f]|\\x21|[\\x23-\\x5b]|[\\x5d-\\x7e]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(\\\\([\\x01-\\x09\\x0b\\x0c\\x0d-\\x7f]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]))))*(((\\x20|\\x09)*(\\x0d\\x0a))?(\\x20|\\x09)+)?(\\x22)))@((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))$/i; // eslint-disable-next-line\n\nlet rUrl = /^((https?|ftp):)?\\/\\/(((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:)*@)?(((\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])\\.(\\d|[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5]))|((([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|\\d|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.)+(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])*([a-z]|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])))\\.?)(:\\d*)?)(\\/((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)+(\\/(([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)*)*)?)?(\\?((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|[\\uE000-\\uF8FF]|\\/|\\?)*)?(\\#((([a-z]|\\d|-|\\.|_|~|[\\u00A0-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF])|(%[\\da-f]{2})|[!\\$&'\\(\\)\\*\\+,;=]|:|@)|\\/|\\?)*)?$/i; // eslint-disable-next-line\n\nlet rUUID = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\n\nlet isTrimmed = value => isAbsent(value) || value === value.trim();\n\nlet objStringTag = {}.toString();\nexport function create() {\n  return new StringSchema();\n}\nexport default class StringSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'string'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        if (Array.isArray(value)) return value;\n        const strValue = value != null && value.toString ? value.toString() : value;\n        if (strValue === objStringTag) return value;\n        return strValue;\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof String) value = value.valueOf();\n    return typeof value === 'string';\n  }\n\n  _isPresent(value) {\n    return super._isPresent(value) && !!value.length;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      name: 'max',\n      exclusive: true,\n      message,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  matches(regex, options) {\n    let excludeEmptyString = false;\n    let message;\n    let name;\n\n    if (options) {\n      if (typeof options === 'object') {\n        ({\n          excludeEmptyString = false,\n          message,\n          name\n        } = options);\n      } else {\n        message = options;\n      }\n    }\n\n    return this.test({\n      name: name || 'matches',\n      message: message || locale.matches,\n      params: {\n        regex\n      },\n      test: value => isAbsent(value) || value === '' && excludeEmptyString || value.search(regex) !== -1\n    });\n  }\n\n  email(message = locale.email) {\n    return this.matches(rEmail, {\n      name: 'email',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  url(message = locale.url) {\n    return this.matches(rUrl, {\n      name: 'url',\n      message,\n      excludeEmptyString: true\n    });\n  }\n\n  uuid(message = locale.uuid) {\n    return this.matches(rUUID, {\n      name: 'uuid',\n      message,\n      excludeEmptyString: false\n    });\n  } //-- transforms --\n\n\n  ensure() {\n    return this.default('').transform(val => val === null ? '' : val);\n  }\n\n  trim(message = locale.trim) {\n    return this.transform(val => val != null ? val.trim() : val).test({\n      message,\n      name: 'trim',\n      test: isTrimmed\n    });\n  }\n\n  lowercase(message = locale.lowercase) {\n    return this.transform(value => !isAbsent(value) ? value.toLowerCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toLowerCase()\n    });\n  }\n\n  uppercase(message = locale.uppercase) {\n    return this.transform(value => !isAbsent(value) ? value.toUpperCase() : value).test({\n      message,\n      name: 'string_case',\n      exclusive: true,\n      test: value => isAbsent(value) || value === value.toUpperCase()\n    });\n  }\n\n}\ncreate.prototype = StringSchema.prototype; //\n// String Interfaces\n//","import { number as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport BaseSchema from './schema';\n\nlet isNaN = value => value != +value;\n\nexport function create() {\n  return new NumberSchema();\n}\nexport default class NumberSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'number'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        let parsed = value;\n\n        if (typeof parsed === 'string') {\n          parsed = parsed.replace(/\\s/g, '');\n          if (parsed === '') return NaN; // don't use parseFloat to avoid positives on alpha-numeric strings\n\n          parsed = +parsed;\n        }\n\n        if (this.isType(parsed)) return parsed;\n        return parseFloat(parsed);\n      });\n    });\n  }\n\n  _typeCheck(value) {\n    if (value instanceof Number) value = value.valueOf();\n    return typeof value === 'number' && !isNaN(value);\n  }\n\n  min(min, message = locale.min) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(max);\n      }\n\n    });\n  }\n\n  lessThan(less, message = locale.lessThan) {\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        less\n      },\n\n      test(value) {\n        return isAbsent(value) || value < this.resolve(less);\n      }\n\n    });\n  }\n\n  moreThan(more, message = locale.moreThan) {\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        more\n      },\n\n      test(value) {\n        return isAbsent(value) || value > this.resolve(more);\n      }\n\n    });\n  }\n\n  positive(msg = locale.positive) {\n    return this.moreThan(0, msg);\n  }\n\n  negative(msg = locale.negative) {\n    return this.lessThan(0, msg);\n  }\n\n  integer(message = locale.integer) {\n    return this.test({\n      name: 'integer',\n      message,\n      test: val => isAbsent(val) || Number.isInteger(val)\n    });\n  }\n\n  truncate() {\n    return this.transform(value => !isAbsent(value) ? value | 0 : value);\n  }\n\n  round(method) {\n    var _method;\n\n    let avail = ['ceil', 'floor', 'round', 'trunc'];\n    method = ((_method = method) == null ? void 0 : _method.toLowerCase()) || 'round'; // this exists for symemtry with the new Math.trunc\n\n    if (method === 'trunc') return this.truncate();\n    if (avail.indexOf(method.toLowerCase()) === -1) throw new TypeError('Only valid options for round() are: ' + avail.join(', '));\n    return this.transform(value => !isAbsent(value) ? Math[method](value) : value);\n  }\n\n}\ncreate.prototype = NumberSchema.prototype; //\n// Number Interfaces\n//","/* eslint-disable */\n\n/**\n *\n * Date.parse with progressive enhancement for ISO 8601 <https://github.com/csnover/js-iso8601>\n * NON-CONFORMANT EDITION.\n * © 2011 Colin Snover <http://zetafleet.com>\n * Released under MIT license.\n */\n//              1 YYYY                 2 MM        3 DD              4 HH     5 mm        6 ss            7 msec         8 Z 9 ±    10 tzHH    11 tzmm\nvar isoReg = /^(\\d{4}|[+\\-]\\d{6})(?:-?(\\d{2})(?:-?(\\d{2}))?)?(?:[ T]?(\\d{2}):?(\\d{2})(?::?(\\d{2})(?:[,\\.](\\d{1,}))?)?(?:(Z)|([+\\-])(\\d{2})(?::?(\\d{2}))?)?)?$/;\nexport default function parseIsoDate(date) {\n  var numericKeys = [1, 4, 5, 6, 7, 10, 11],\n      minutesOffset = 0,\n      timestamp,\n      struct;\n\n  if (struct = isoReg.exec(date)) {\n    // avoid NaN timestamps caused by “undefined” values being passed to Date.UTC\n    for (var i = 0, k; k = numericKeys[i]; ++i) struct[k] = +struct[k] || 0; // allow undefined days and months\n\n\n    struct[2] = (+struct[2] || 1) - 1;\n    struct[3] = +struct[3] || 1; // allow arbitrary sub-second precision beyond milliseconds\n\n    struct[7] = struct[7] ? String(struct[7]).substr(0, 3) : 0; // timestamps without timezone identifiers should be considered local time\n\n    if ((struct[8] === undefined || struct[8] === '') && (struct[9] === undefined || struct[9] === '')) timestamp = +new Date(struct[1], struct[2], struct[3], struct[4], struct[5], struct[6], struct[7]);else {\n      if (struct[8] !== 'Z' && struct[9] !== undefined) {\n        minutesOffset = struct[10] * 60 + struct[11];\n        if (struct[9] === '+') minutesOffset = 0 - minutesOffset;\n      }\n\n      timestamp = Date.UTC(struct[1], struct[2], struct[3], struct[4], struct[5] + minutesOffset, struct[6], struct[7]);\n    }\n  } else timestamp = Date.parse ? Date.parse(date) : NaN;\n\n  return timestamp;\n}","// @ts-ignore\nimport isoParse from './util/isodate';\nimport { date as locale } from './locale';\nimport isAbsent from './util/isAbsent';\nimport Ref from './Reference';\nimport BaseSchema from './schema';\nlet invalidDate = new Date('');\n\nlet isDate = obj => Object.prototype.toString.call(obj) === '[object Date]';\n\nexport function create() {\n  return new DateSchema();\n}\nexport default class DateSchema extends BaseSchema {\n  constructor() {\n    super({\n      type: 'date'\n    });\n    this.withMutation(() => {\n      this.transform(function (value) {\n        if (this.isType(value)) return value;\n        value = isoParse(value); // 0 is a valid timestamp equivalent to 1970-01-01T00:00:00Z(unix epoch) or before.\n\n        return !isNaN(value) ? new Date(value) : invalidDate;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return isDate(v) && !isNaN(v.getTime());\n  }\n\n  prepareParam(ref, name) {\n    let param;\n\n    if (!Ref.isRef(ref)) {\n      let cast = this.cast(ref);\n      if (!this._typeCheck(cast)) throw new TypeError(`\\`${name}\\` must be a Date or a value that can be \\`cast()\\` to a Date`);\n      param = cast;\n    } else {\n      param = ref;\n    }\n\n    return param;\n  }\n\n  min(min, message = locale.min) {\n    let limit = this.prepareParam(min, 'min');\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      test(value) {\n        return isAbsent(value) || value >= this.resolve(limit);\n      }\n\n    });\n  }\n\n  max(max, message = locale.max) {\n    let limit = this.prepareParam(max, 'max');\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value <= this.resolve(limit);\n      }\n\n    });\n  }\n\n}\nDateSchema.INVALID_DATE = invalidDate;\ncreate.prototype = DateSchema.prototype;\ncreate.INVALID_DATE = invalidDate;","import has from 'lodash/has'; // @ts-expect-error\n\nimport toposort from 'toposort';\nimport { split } from 'property-expr';\nimport Ref from '../Reference';\nimport isSchema from './isSchema';\nexport default function sortFields(fields, excludedEdges = []) {\n  let edges = [];\n  let nodes = new Set();\n  let excludes = new Set(excludedEdges.map(([a, b]) => `${a}-${b}`));\n\n  function addNode(depPath, key) {\n    let node = split(depPath)[0];\n    nodes.add(node);\n    if (!excludes.has(`${key}-${node}`)) edges.push([key, node]);\n  }\n\n  for (const key in fields) if (has(fields, key)) {\n    let value = fields[key];\n    nodes.add(key);\n    if (Ref.isRef(value) && value.isSibling) addNode(value.path, key);else if (isSchema(value) && 'deps' in value) value.deps.forEach(path => addNode(path, key));\n  }\n\n  return toposort.array(Array.from(nodes), edges).reverse();\n}","function findIndex(arr, err) {\n  let idx = Infinity;\n  arr.some((key, ii) => {\n    var _err$path;\n\n    if (((_err$path = err.path) == null ? void 0 : _err$path.indexOf(key)) !== -1) {\n      idx = ii;\n      return true;\n    }\n  });\n  return idx;\n}\n\nexport default function sortByKeyOrder(keys) {\n  return (a, b) => {\n    return findIndex(keys, a) - findIndex(keys, b);\n  };\n}","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport has from 'lodash/has';\nimport snakeCase from 'lodash/snakeCase';\nimport camelCase from 'lodash/camelCase';\nimport mapKeys from 'lodash/mapKeys';\nimport mapValues from 'lodash/mapValues';\nimport { getter } from 'property-expr';\nimport { object as locale } from './locale';\nimport sortFields from './util/sortFields';\nimport sortByKeyOrder from './util/sortByKeyOrder';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\n\nlet isObject = obj => Object.prototype.toString.call(obj) === '[object Object]';\n\nfunction unknown(ctx, value) {\n  let known = Object.keys(ctx.fields);\n  return Object.keys(value).filter(key => known.indexOf(key) === -1);\n}\n\nconst defaultSort = sortByKeyOrder([]);\nexport default class ObjectSchema extends BaseSchema {\n  constructor(spec) {\n    super({\n      type: 'object'\n    });\n    this.fields = Object.create(null);\n    this._sortErrors = defaultSort;\n    this._nodes = [];\n    this._excludedEdges = [];\n    this.withMutation(() => {\n      this.transform(function coerce(value) {\n        if (typeof value === 'string') {\n          try {\n            value = JSON.parse(value);\n          } catch (err) {\n            value = null;\n          }\n        }\n\n        if (this.isType(value)) return value;\n        return null;\n      });\n\n      if (spec) {\n        this.shape(spec);\n      }\n    });\n  }\n\n  _typeCheck(value) {\n    return isObject(value) || typeof value === 'function';\n  }\n\n  _cast(_value, options = {}) {\n    var _options$stripUnknown;\n\n    let value = super._cast(_value, options); //should ignore nulls here\n\n\n    if (value === undefined) return this.getDefault();\n    if (!this._typeCheck(value)) return value;\n    let fields = this.fields;\n    let strip = (_options$stripUnknown = options.stripUnknown) != null ? _options$stripUnknown : this.spec.noUnknown;\n\n    let props = this._nodes.concat(Object.keys(value).filter(v => this._nodes.indexOf(v) === -1));\n\n    let intermediateValue = {}; // is filled during the transform below\n\n    let innerOptions = _extends({}, options, {\n      parent: intermediateValue,\n      __validating: options.__validating || false\n    });\n\n    let isChanged = false;\n\n    for (const prop of props) {\n      let field = fields[prop];\n      let exists = has(value, prop);\n\n      if (field) {\n        let fieldValue;\n        let inputValue = value[prop]; // safe to mutate since this is fired in sequence\n\n        innerOptions.path = (options.path ? `${options.path}.` : '') + prop; // innerOptions.value = value[prop];\n\n        field = field.resolve({\n          value: inputValue,\n          context: options.context,\n          parent: intermediateValue\n        });\n        let fieldSpec = 'spec' in field ? field.spec : undefined;\n        let strict = fieldSpec == null ? void 0 : fieldSpec.strict;\n\n        if (fieldSpec == null ? void 0 : fieldSpec.strip) {\n          isChanged = isChanged || prop in value;\n          continue;\n        }\n\n        fieldValue = !options.__validating || !strict ? // TODO: use _cast, this is double resolving\n        field.cast(value[prop], innerOptions) : value[prop];\n\n        if (fieldValue !== undefined) {\n          intermediateValue[prop] = fieldValue;\n        }\n      } else if (exists && !strip) {\n        intermediateValue[prop] = value[prop];\n      }\n\n      if (intermediateValue[prop] !== value[prop]) {\n        isChanged = true;\n      }\n    }\n\n    return isChanged ? intermediateValue : value;\n  }\n\n  _validate(_value, opts = {}, callback) {\n    let errors = [];\n    let {\n      sync,\n      from = [],\n      originalValue = _value,\n      abortEarly = this.spec.abortEarly,\n      recursive = this.spec.recursive\n    } = opts;\n    from = [{\n      schema: this,\n      value: originalValue\n    }, ...from]; // this flag is needed for handling `strict` correctly in the context of\n    // validation vs just casting. e.g strict() on a field is only used when validating\n\n    opts.__validating = true;\n    opts.originalValue = originalValue;\n    opts.from = from;\n\n    super._validate(_value, opts, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || abortEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !isObject(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value;\n\n      let tests = this._nodes.map(key => (_, cb) => {\n        let path = key.indexOf('.') === -1 ? (opts.path ? `${opts.path}.` : '') + key : `${opts.path || ''}[\"${key}\"]`;\n        let field = this.fields[key];\n\n        if (field && 'validate' in field) {\n          field.validate(value[key], _extends({}, opts, {\n            // @ts-ignore\n            path,\n            from,\n            // inner fields are always strict:\n            // 1. this isn't strict so the casting will also have cast inner values\n            // 2. this is strict in which case the nested values weren't cast either\n            strict: true,\n            parent: value,\n            originalValue: originalValue[key]\n          }), cb);\n          return;\n        }\n\n        cb(null);\n      });\n\n      runTests({\n        sync,\n        tests,\n        value,\n        errors,\n        endEarly: abortEarly,\n        sort: this._sortErrors,\n        path: opts.path\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.fields = _extends({}, this.fields);\n    next._nodes = this._nodes;\n    next._excludedEdges = this._excludedEdges;\n    next._sortErrors = this._sortErrors;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    let nextFields = next.fields;\n\n    for (let [field, schemaOrRef] of Object.entries(this.fields)) {\n      const target = nextFields[field];\n\n      if (target === undefined) {\n        nextFields[field] = schemaOrRef;\n      } else if (target instanceof BaseSchema && schemaOrRef instanceof BaseSchema) {\n        nextFields[field] = schemaOrRef.concat(target);\n      }\n    }\n\n    return next.withMutation(() => next.shape(nextFields, this._excludedEdges));\n  }\n\n  getDefaultFromShape() {\n    let dft = {};\n\n    this._nodes.forEach(key => {\n      const field = this.fields[key];\n      dft[key] = 'default' in field ? field.getDefault() : undefined;\n    });\n\n    return dft;\n  }\n\n  _getDefault() {\n    if ('default' in this.spec) {\n      return super._getDefault();\n    } // if there is no default set invent one\n\n\n    if (!this._nodes.length) {\n      return undefined;\n    }\n\n    return this.getDefaultFromShape();\n  }\n\n  shape(additions, excludes = []) {\n    let next = this.clone();\n    let fields = Object.assign(next.fields, additions);\n    next.fields = fields;\n    next._sortErrors = sortByKeyOrder(Object.keys(fields));\n\n    if (excludes.length) {\n      // this is a convenience for when users only supply a single pair\n      if (!Array.isArray(excludes[0])) excludes = [excludes];\n      next._excludedEdges = [...next._excludedEdges, ...excludes];\n    }\n\n    next._nodes = sortFields(fields, next._excludedEdges);\n    return next;\n  }\n\n  pick(keys) {\n    const picked = {};\n\n    for (const key of keys) {\n      if (this.fields[key]) picked[key] = this.fields[key];\n    }\n\n    return this.clone().withMutation(next => {\n      next.fields = {};\n      return next.shape(picked);\n    });\n  }\n\n  omit(keys) {\n    const next = this.clone();\n    const fields = next.fields;\n    next.fields = {};\n\n    for (const key of keys) {\n      delete fields[key];\n    }\n\n    return next.withMutation(() => next.shape(fields));\n  }\n\n  from(from, to, alias) {\n    let fromGetter = getter(from, true);\n    return this.transform(obj => {\n      if (obj == null) return obj;\n      let newObj = obj;\n\n      if (has(obj, from)) {\n        newObj = _extends({}, obj);\n        if (!alias) delete newObj[from];\n        newObj[to] = fromGetter(obj);\n      }\n\n      return newObj;\n    });\n  }\n\n  noUnknown(noAllow = true, message = locale.noUnknown) {\n    if (typeof noAllow === 'string') {\n      message = noAllow;\n      noAllow = true;\n    }\n\n    let next = this.test({\n      name: 'noUnknown',\n      exclusive: true,\n      message: message,\n\n      test(value) {\n        if (value == null) return true;\n        const unknownKeys = unknown(this.schema, value);\n        return !noAllow || unknownKeys.length === 0 || this.createError({\n          params: {\n            unknown: unknownKeys.join(', ')\n          }\n        });\n      }\n\n    });\n    next.spec.noUnknown = noAllow;\n    return next;\n  }\n\n  unknown(allow = true, message = locale.noUnknown) {\n    return this.noUnknown(!allow, message);\n  }\n\n  transformKeys(fn) {\n    return this.transform(obj => obj && mapKeys(obj, (_, key) => fn(key)));\n  }\n\n  camelCase() {\n    return this.transformKeys(camelCase);\n  }\n\n  snakeCase() {\n    return this.transformKeys(snakeCase);\n  }\n\n  constantCase() {\n    return this.transformKeys(key => snakeCase(key).toUpperCase());\n  }\n\n  describe() {\n    let base = super.describe();\n    base.fields = mapValues(this.fields, value => value.describe());\n    return base;\n  }\n\n}\nexport function create(spec) {\n  return new ObjectSchema(spec);\n}\ncreate.prototype = ObjectSchema.prototype;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport isAbsent from './util/isAbsent';\nimport isSchema from './util/isSchema';\nimport printValue from './util/printValue';\nimport { array as locale } from './locale';\nimport runTests from './util/runTests';\nimport ValidationError from './ValidationError';\nimport BaseSchema from './schema';\nexport function create(type) {\n  return new ArraySchema(type);\n}\nexport default class ArraySchema extends BaseSchema {\n  constructor(type) {\n    super({\n      type: 'array'\n    }); // `undefined` specifically means uninitialized, as opposed to\n    // \"no subtype\"\n\n    this.innerType = void 0;\n    this.innerType = type;\n    this.withMutation(() => {\n      this.transform(function (values) {\n        if (typeof values === 'string') try {\n          values = JSON.parse(values);\n        } catch (err) {\n          values = null;\n        }\n        return this.isType(values) ? values : null;\n      });\n    });\n  }\n\n  _typeCheck(v) {\n    return Array.isArray(v);\n  }\n\n  get _subType() {\n    return this.innerType;\n  }\n\n  _cast(_value, _opts) {\n    const value = super._cast(_value, _opts); //should ignore nulls here\n\n\n    if (!this._typeCheck(value) || !this.innerType) return value;\n    let isChanged = false;\n    const castArray = value.map((v, idx) => {\n      const castElement = this.innerType.cast(v, _extends({}, _opts, {\n        path: `${_opts.path || ''}[${idx}]`\n      }));\n\n      if (castElement !== v) {\n        isChanged = true;\n      }\n\n      return castElement;\n    });\n    return isChanged ? castArray : value;\n  }\n\n  _validate(_value, options = {}, callback) {\n    var _options$abortEarly, _options$recursive;\n\n    let errors = [];\n    let sync = options.sync;\n    let path = options.path;\n    let innerType = this.innerType;\n    let endEarly = (_options$abortEarly = options.abortEarly) != null ? _options$abortEarly : this.spec.abortEarly;\n    let recursive = (_options$recursive = options.recursive) != null ? _options$recursive : this.spec.recursive;\n    let originalValue = options.originalValue != null ? options.originalValue : _value;\n\n    super._validate(_value, options, (err, value) => {\n      if (err) {\n        if (!ValidationError.isError(err) || endEarly) {\n          return void callback(err, value);\n        }\n\n        errors.push(err);\n      }\n\n      if (!recursive || !innerType || !this._typeCheck(value)) {\n        callback(errors[0] || null, value);\n        return;\n      }\n\n      originalValue = originalValue || value; // #950 Ensure that sparse array empty slots are validated\n\n      let tests = new Array(value.length);\n\n      for (let idx = 0; idx < value.length; idx++) {\n        let item = value[idx];\n        let path = `${options.path || ''}[${idx}]`; // object._validate note for isStrict explanation\n\n        let innerOptions = _extends({}, options, {\n          path,\n          strict: true,\n          parent: value,\n          index: idx,\n          originalValue: originalValue[idx]\n        });\n\n        tests[idx] = (_, cb) => innerType.validate(item, innerOptions, cb);\n      }\n\n      runTests({\n        sync,\n        path,\n        value,\n        errors,\n        endEarly,\n        tests\n      }, callback);\n    });\n  }\n\n  clone(spec) {\n    const next = super.clone(spec);\n    next.innerType = this.innerType;\n    return next;\n  }\n\n  concat(schema) {\n    let next = super.concat(schema);\n    next.innerType = this.innerType;\n    if (schema.innerType) next.innerType = next.innerType ? // @ts-expect-error Lazy doesn't have concat()\n    next.innerType.concat(schema.innerType) : schema.innerType;\n    return next;\n  }\n\n  of(schema) {\n    // FIXME: this should return a new instance of array without the default to be\n    let next = this.clone();\n    if (!isSchema(schema)) throw new TypeError('`array.of()` sub-schema must be a valid yup schema not: ' + printValue(schema)); // FIXME(ts):\n\n    next.innerType = schema;\n    return next;\n  }\n\n  length(length, message = locale.length) {\n    return this.test({\n      message,\n      name: 'length',\n      exclusive: true,\n      params: {\n        length\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length === this.resolve(length);\n      }\n\n    });\n  }\n\n  min(min, message) {\n    message = message || locale.min;\n    return this.test({\n      message,\n      name: 'min',\n      exclusive: true,\n      params: {\n        min\n      },\n\n      // FIXME(ts): Array<typeof T>\n      test(value) {\n        return isAbsent(value) || value.length >= this.resolve(min);\n      }\n\n    });\n  }\n\n  max(max, message) {\n    message = message || locale.max;\n    return this.test({\n      message,\n      name: 'max',\n      exclusive: true,\n      params: {\n        max\n      },\n\n      test(value) {\n        return isAbsent(value) || value.length <= this.resolve(max);\n      }\n\n    });\n  }\n\n  ensure() {\n    return this.default(() => []).transform((val, original) => {\n      // We don't want to return `null` for nullable schema\n      if (this._typeCheck(val)) return val;\n      return original == null ? [] : [].concat(original);\n    });\n  }\n\n  compact(rejector) {\n    let reject = !rejector ? v => !!v : (v, i, a) => !rejector(v, i, a);\n    return this.transform(values => values != null ? values.filter(reject) : values);\n  }\n\n  describe() {\n    let base = super.describe();\n    if (this.innerType) base.innerType = this.innerType.describe();\n    return base;\n  }\n\n  nullable(isNullable = true) {\n    return super.nullable(isNullable);\n  }\n\n  defined() {\n    return super.defined();\n  }\n\n  required(msg) {\n    return super.required(msg);\n  }\n\n}\ncreate.prototype = ArraySchema.prototype; //\n// Interfaces\n//","import setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeReflectConstruct from \"@babel/runtime/helpers/esm/isNativeReflectConstruct\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct;\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport setPrototypeOf from \"@babel/runtime/helpers/esm/setPrototypeOf\";\nimport isNativeFunction from \"@babel/runtime/helpers/esm/isNativeFunction\";\nimport construct from \"@babel/runtime/helpers/esm/construct\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n\n      _cache.set(Class, Wrapper);\n    }\n\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.has` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHas(object, key) {\n  return object != null && hasOwnProperty.call(object, key);\n}\n\nmodule.exports = baseHas;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","var createBaseFor = require('./_createBaseFor');\n\n/**\n * The base implementation of `baseForOwn` which iterates over `object`\n * properties returned by `keysFunc` and invokes `iteratee` for each property.\n * Iteratee functions may exit iteration early by explicitly returning `false`.\n *\n * @private\n * @param {Object} object The object to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @returns {Object} Returns `object`.\n */\nvar baseFor = createBaseFor();\n\nmodule.exports = baseFor;\n","/**\n * Creates a base function for methods like `_.forIn` and `_.forOwn`.\n *\n * @private\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {Function} Returns the new base function.\n */\nfunction createBaseFor(fromRight) {\n  return function(object, iteratee, keysFunc) {\n    var index = -1,\n        iterable = Object(object),\n        props = keysFunc(object),\n        length = props.length;\n\n    while (length--) {\n      var key = props[fromRight ? length : ++index];\n      if (iteratee(iterable[key], key, iterable) === false) {\n        break;\n      }\n    }\n    return object;\n  };\n}\n\nmodule.exports = createBaseFor;\n","var baseTimes = require('./_baseTimes'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isIndex = require('./_isIndex'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Creates an array of the enumerable property names of the array-like `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @param {boolean} inherited Specify returning inherited property names.\n * @returns {Array} Returns the array of property names.\n */\nfunction arrayLikeKeys(value, inherited) {\n  var isArr = isArray(value),\n      isArg = !isArr && isArguments(value),\n      isBuff = !isArr && !isArg && isBuffer(value),\n      isType = !isArr && !isArg && !isBuff && isTypedArray(value),\n      skipIndexes = isArr || isArg || isBuff || isType,\n      result = skipIndexes ? baseTimes(value.length, String) : [],\n      length = result.length;\n\n  for (var key in value) {\n    if ((inherited || hasOwnProperty.call(value, key)) &&\n        !(skipIndexes && (\n           // Safari 9 has enumerable `arguments.length` in strict mode.\n           key == 'length' ||\n           // Node.js 0.10 has enumerable non-index properties on buffers.\n           (isBuff && (key == 'offset' || key == 'parent')) ||\n           // PhantomJS 2 has enumerable non-index properties on typed arrays.\n           (isType && (key == 'buffer' || key == 'byteLength' || key == 'byteOffset')) ||\n           // Skip index properties.\n           isIndex(key, length)\n        ))) {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayLikeKeys;\n","/**\n * The base implementation of `_.times` without support for iteratee shorthands\n * or max array length checks.\n *\n * @private\n * @param {number} n The number of times to invoke `iteratee`.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the array of results.\n */\nfunction baseTimes(n, iteratee) {\n  var index = -1,\n      result = Array(n);\n\n  while (++index < n) {\n    result[index] = iteratee(index);\n  }\n  return result;\n}\n\nmodule.exports = baseTimes;\n","/**\n * This method returns `false`.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {boolean} Returns `false`.\n * @example\n *\n * _.times(2, _.stubFalse);\n * // => [false, false]\n */\nfunction stubFalse() {\n  return false;\n}\n\nmodule.exports = stubFalse;\n","var baseGetTag = require('./_baseGetTag'),\n    isLength = require('./isLength'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    funcTag = '[object Function]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    objectTag = '[object Object]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    weakMapTag = '[object WeakMap]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]',\n    float32Tag = '[object Float32Array]',\n    float64Tag = '[object Float64Array]',\n    int8Tag = '[object Int8Array]',\n    int16Tag = '[object Int16Array]',\n    int32Tag = '[object Int32Array]',\n    uint8Tag = '[object Uint8Array]',\n    uint8ClampedTag = '[object Uint8ClampedArray]',\n    uint16Tag = '[object Uint16Array]',\n    uint32Tag = '[object Uint32Array]';\n\n/** Used to identify `toStringTag` values of typed arrays. */\nvar typedArrayTags = {};\ntypedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\ntypedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\ntypedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\ntypedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\ntypedArrayTags[uint32Tag] = true;\ntypedArrayTags[argsTag] = typedArrayTags[arrayTag] =\ntypedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\ntypedArrayTags[dataViewTag] = typedArrayTags[dateTag] =\ntypedArrayTags[errorTag] = typedArrayTags[funcTag] =\ntypedArrayTags[mapTag] = typedArrayTags[numberTag] =\ntypedArrayTags[objectTag] = typedArrayTags[regexpTag] =\ntypedArrayTags[setTag] = typedArrayTags[stringTag] =\ntypedArrayTags[weakMapTag] = false;\n\n/**\n * The base implementation of `_.isTypedArray` without Node.js optimizations.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a typed array, else `false`.\n */\nfunction baseIsTypedArray(value) {\n  return isObjectLike(value) &&\n    isLength(value.length) && !!typedArrayTags[baseGetTag(value)];\n}\n\nmodule.exports = baseIsTypedArray;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `exports`. */\nvar freeExports = typeof exports == 'object' && exports && !exports.nodeType && exports;\n\n/** Detect free variable `module`. */\nvar freeModule = freeExports && typeof module == 'object' && module && !module.nodeType && module;\n\n/** Detect the popular CommonJS extension `module.exports`. */\nvar moduleExports = freeModule && freeModule.exports === freeExports;\n\n/** Detect free variable `process` from Node.js. */\nvar freeProcess = moduleExports && freeGlobal.process;\n\n/** Used to access faster Node.js helpers. */\nvar nodeUtil = (function() {\n  try {\n    // Use `util.types` for Node.js 10+.\n    var types = freeModule && freeModule.require && freeModule.require('util').types;\n\n    if (types) {\n      return types;\n    }\n\n    // Legacy `process.binding('util')` for Node.js < 10.\n    return freeProcess && freeProcess.binding && freeProcess.binding('util');\n  } catch (e) {}\n}());\n\nmodule.exports = nodeUtil;\n","var isPrototype = require('./_isPrototype'),\n    nativeKeys = require('./_nativeKeys');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * The base implementation of `_.keys` which doesn't treat sparse arrays as dense.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names.\n */\nfunction baseKeys(object) {\n  if (!isPrototype(object)) {\n    return nativeKeys(object);\n  }\n  var result = [];\n  for (var key in Object(object)) {\n    if (hasOwnProperty.call(object, key) && key != 'constructor') {\n      result.push(key);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseKeys;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Checks if `value` is likely a prototype object.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a prototype, else `false`.\n */\nfunction isPrototype(value) {\n  var Ctor = value && value.constructor,\n      proto = (typeof Ctor == 'function' && Ctor.prototype) || objectProto;\n\n  return value === proto;\n}\n\nmodule.exports = isPrototype;\n","var overArg = require('./_overArg');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeKeys = overArg(Object.keys, Object);\n\nmodule.exports = nativeKeys;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var baseIsMatch = require('./_baseIsMatch'),\n    getMatchData = require('./_getMatchData'),\n    matchesStrictComparable = require('./_matchesStrictComparable');\n\n/**\n * The base implementation of `_.matches` which doesn't clone `source`.\n *\n * @private\n * @param {Object} source The object of property values to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatches(source) {\n  var matchData = getMatchData(source);\n  if (matchData.length == 1 && matchData[0][2]) {\n    return matchesStrictComparable(matchData[0][0], matchData[0][1]);\n  }\n  return function(object) {\n    return object === source || baseIsMatch(object, source, matchData);\n  };\n}\n\nmodule.exports = baseMatches;\n","var Stack = require('./_Stack'),\n    baseIsEqual = require('./_baseIsEqual');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.isMatch` without support for iteratee shorthands.\n *\n * @private\n * @param {Object} object The object to inspect.\n * @param {Object} source The object of property values to match.\n * @param {Array} matchData The property names, values, and compare flags to match.\n * @param {Function} [customizer] The function to customize comparisons.\n * @returns {boolean} Returns `true` if `object` is a match, else `false`.\n */\nfunction baseIsMatch(object, source, matchData, customizer) {\n  var index = matchData.length,\n      length = index,\n      noCustomizer = !customizer;\n\n  if (object == null) {\n    return !length;\n  }\n  object = Object(object);\n  while (index--) {\n    var data = matchData[index];\n    if ((noCustomizer && data[2])\n          ? data[1] !== object[data[0]]\n          : !(data[0] in object)\n        ) {\n      return false;\n    }\n  }\n  while (++index < length) {\n    data = matchData[index];\n    var key = data[0],\n        objValue = object[key],\n        srcValue = data[1];\n\n    if (noCustomizer && data[2]) {\n      if (objValue === undefined && !(key in object)) {\n        return false;\n      }\n    } else {\n      var stack = new Stack;\n      if (customizer) {\n        var result = customizer(objValue, srcValue, key, object, source, stack);\n      }\n      if (!(result === undefined\n            ? baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG, customizer, stack)\n            : result\n          )) {\n        return false;\n      }\n    }\n  }\n  return true;\n}\n\nmodule.exports = baseIsMatch;\n","var ListCache = require('./_ListCache');\n\n/**\n * Removes all key-value entries from the stack.\n *\n * @private\n * @name clear\n * @memberOf Stack\n */\nfunction stackClear() {\n  this.__data__ = new ListCache;\n  this.size = 0;\n}\n\nmodule.exports = stackClear;\n","/**\n * Removes `key` and its value from the stack.\n *\n * @private\n * @name delete\n * @memberOf Stack\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction stackDelete(key) {\n  var data = this.__data__,\n      result = data['delete'](key);\n\n  this.size = data.size;\n  return result;\n}\n\nmodule.exports = stackDelete;\n","/**\n * Gets the stack value for `key`.\n *\n * @private\n * @name get\n * @memberOf Stack\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction stackGet(key) {\n  return this.__data__.get(key);\n}\n\nmodule.exports = stackGet;\n","/**\n * Checks if a stack value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Stack\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction stackHas(key) {\n  return this.__data__.has(key);\n}\n\nmodule.exports = stackHas;\n","var ListCache = require('./_ListCache'),\n    Map = require('./_Map'),\n    MapCache = require('./_MapCache');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * Sets the stack `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Stack\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the stack cache instance.\n */\nfunction stackSet(key, value) {\n  var data = this.__data__;\n  if (data instanceof ListCache) {\n    var pairs = data.__data__;\n    if (!Map || (pairs.length < LARGE_ARRAY_SIZE - 1)) {\n      pairs.push([key, value]);\n      this.size = ++data.size;\n      return this;\n    }\n    data = this.__data__ = new MapCache(pairs);\n  }\n  data.set(key, value);\n  this.size = data.size;\n  return this;\n}\n\nmodule.exports = stackSet;\n","var Stack = require('./_Stack'),\n    equalArrays = require('./_equalArrays'),\n    equalByTag = require('./_equalByTag'),\n    equalObjects = require('./_equalObjects'),\n    getTag = require('./_getTag'),\n    isArray = require('./isArray'),\n    isBuffer = require('./isBuffer'),\n    isTypedArray = require('./isTypedArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]',\n    arrayTag = '[object Array]',\n    objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqual` for arrays and objects which performs\n * deep comparisons and tracks traversed objects enabling objects with circular\n * references to be compared.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} [stack] Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction baseIsEqualDeep(object, other, bitmask, customizer, equalFunc, stack) {\n  var objIsArr = isArray(object),\n      othIsArr = isArray(other),\n      objTag = objIsArr ? arrayTag : getTag(object),\n      othTag = othIsArr ? arrayTag : getTag(other);\n\n  objTag = objTag == argsTag ? objectTag : objTag;\n  othTag = othTag == argsTag ? objectTag : othTag;\n\n  var objIsObj = objTag == objectTag,\n      othIsObj = othTag == objectTag,\n      isSameTag = objTag == othTag;\n\n  if (isSameTag && isBuffer(object)) {\n    if (!isBuffer(other)) {\n      return false;\n    }\n    objIsArr = true;\n    objIsObj = false;\n  }\n  if (isSameTag && !objIsObj) {\n    stack || (stack = new Stack);\n    return (objIsArr || isTypedArray(object))\n      ? equalArrays(object, other, bitmask, customizer, equalFunc, stack)\n      : equalByTag(object, other, objTag, bitmask, customizer, equalFunc, stack);\n  }\n  if (!(bitmask & COMPARE_PARTIAL_FLAG)) {\n    var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\n        othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\n\n    if (objIsWrapped || othIsWrapped) {\n      var objUnwrapped = objIsWrapped ? object.value() : object,\n          othUnwrapped = othIsWrapped ? other.value() : other;\n\n      stack || (stack = new Stack);\n      return equalFunc(objUnwrapped, othUnwrapped, bitmask, customizer, stack);\n    }\n  }\n  if (!isSameTag) {\n    return false;\n  }\n  stack || (stack = new Stack);\n  return equalObjects(object, other, bitmask, customizer, equalFunc, stack);\n}\n\nmodule.exports = baseIsEqualDeep;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * A specialized version of `_.some` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {boolean} Returns `true` if any element passes the predicate check,\n *  else `false`.\n */\nfunction arraySome(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (predicate(array[index], index, array)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arraySome;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var Symbol = require('./_Symbol'),\n    Uint8Array = require('./_Uint8Array'),\n    eq = require('./eq'),\n    equalArrays = require('./_equalArrays'),\n    mapToArray = require('./_mapToArray'),\n    setToArray = require('./_setToArray');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/** `Object#toString` result references. */\nvar boolTag = '[object Boolean]',\n    dateTag = '[object Date]',\n    errorTag = '[object Error]',\n    mapTag = '[object Map]',\n    numberTag = '[object Number]',\n    regexpTag = '[object RegExp]',\n    setTag = '[object Set]',\n    stringTag = '[object String]',\n    symbolTag = '[object Symbol]';\n\nvar arrayBufferTag = '[object ArrayBuffer]',\n    dataViewTag = '[object DataView]';\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolValueOf = symbolProto ? symbolProto.valueOf : undefined;\n\n/**\n * A specialized version of `baseIsEqualDeep` for comparing objects of\n * the same `toStringTag`.\n *\n * **Note:** This function only supports comparing values with tags of\n * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {string} tag The `toStringTag` of the objects to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalByTag(object, other, tag, bitmask, customizer, equalFunc, stack) {\n  switch (tag) {\n    case dataViewTag:\n      if ((object.byteLength != other.byteLength) ||\n          (object.byteOffset != other.byteOffset)) {\n        return false;\n      }\n      object = object.buffer;\n      other = other.buffer;\n\n    case arrayBufferTag:\n      if ((object.byteLength != other.byteLength) ||\n          !equalFunc(new Uint8Array(object), new Uint8Array(other))) {\n        return false;\n      }\n      return true;\n\n    case boolTag:\n    case dateTag:\n    case numberTag:\n      // Coerce booleans to `1` or `0` and dates to milliseconds.\n      // Invalid dates are coerced to `NaN`.\n      return eq(+object, +other);\n\n    case errorTag:\n      return object.name == other.name && object.message == other.message;\n\n    case regexpTag:\n    case stringTag:\n      // Coerce regexes to strings and treat strings, primitives and objects,\n      // as equal. See http://www.ecma-international.org/ecma-262/7.0/#sec-regexp.prototype.tostring\n      // for more details.\n      return object == (other + '');\n\n    case mapTag:\n      var convert = mapToArray;\n\n    case setTag:\n      var isPartial = bitmask & COMPARE_PARTIAL_FLAG;\n      convert || (convert = setToArray);\n\n      if (object.size != other.size && !isPartial) {\n        return false;\n      }\n      // Assume cyclic values are equal.\n      var stacked = stack.get(object);\n      if (stacked) {\n        return stacked == other;\n      }\n      bitmask |= COMPARE_UNORDERED_FLAG;\n\n      // Recursively compare objects (susceptible to call stack limits).\n      stack.set(object, other);\n      var result = equalArrays(convert(object), convert(other), bitmask, customizer, equalFunc, stack);\n      stack['delete'](object);\n      return result;\n\n    case symbolTag:\n      if (symbolValueOf) {\n        return symbolValueOf.call(object) == symbolValueOf.call(other);\n      }\n  }\n  return false;\n}\n\nmodule.exports = equalByTag;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Uint8Array = root.Uint8Array;\n\nmodule.exports = Uint8Array;\n","/**\n * Converts `map` to its key-value pairs.\n *\n * @private\n * @param {Object} map The map to convert.\n * @returns {Array} Returns the key-value pairs.\n */\nfunction mapToArray(map) {\n  var index = -1,\n      result = Array(map.size);\n\n  map.forEach(function(value, key) {\n    result[++index] = [key, value];\n  });\n  return result;\n}\n\nmodule.exports = mapToArray;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var getAllKeys = require('./_getAllKeys');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1;\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * A specialized version of `baseIsEqualDeep` for objects with support for\n * partial deep comparisons.\n *\n * @private\n * @param {Object} object The object to compare.\n * @param {Object} other The other object to compare.\n * @param {number} bitmask The bitmask flags. See `baseIsEqual` for more details.\n * @param {Function} customizer The function to customize comparisons.\n * @param {Function} equalFunc The function to determine equivalents of values.\n * @param {Object} stack Tracks traversed `object` and `other` objects.\n * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\n */\nfunction equalObjects(object, other, bitmask, customizer, equalFunc, stack) {\n  var isPartial = bitmask & COMPARE_PARTIAL_FLAG,\n      objProps = getAllKeys(object),\n      objLength = objProps.length,\n      othProps = getAllKeys(other),\n      othLength = othProps.length;\n\n  if (objLength != othLength && !isPartial) {\n    return false;\n  }\n  var index = objLength;\n  while (index--) {\n    var key = objProps[index];\n    if (!(isPartial ? key in other : hasOwnProperty.call(other, key))) {\n      return false;\n    }\n  }\n  // Check that cyclic values are equal.\n  var objStacked = stack.get(object);\n  var othStacked = stack.get(other);\n  if (objStacked && othStacked) {\n    return objStacked == other && othStacked == object;\n  }\n  var result = true;\n  stack.set(object, other);\n  stack.set(other, object);\n\n  var skipCtor = isPartial;\n  while (++index < objLength) {\n    key = objProps[index];\n    var objValue = object[key],\n        othValue = other[key];\n\n    if (customizer) {\n      var compared = isPartial\n        ? customizer(othValue, objValue, key, other, object, stack)\n        : customizer(objValue, othValue, key, object, other, stack);\n    }\n    // Recursively compare objects (susceptible to call stack limits).\n    if (!(compared === undefined\n          ? (objValue === othValue || equalFunc(objValue, othValue, bitmask, customizer, stack))\n          : compared\n        )) {\n      result = false;\n      break;\n    }\n    skipCtor || (skipCtor = key == 'constructor');\n  }\n  if (result && !skipCtor) {\n    var objCtor = object.constructor,\n        othCtor = other.constructor;\n\n    // Non `Object` object instances with different constructors are not equal.\n    if (objCtor != othCtor &&\n        ('constructor' in object && 'constructor' in other) &&\n        !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\n          typeof othCtor == 'function' && othCtor instanceof othCtor)) {\n      result = false;\n    }\n  }\n  stack['delete'](object);\n  stack['delete'](other);\n  return result;\n}\n\nmodule.exports = equalObjects;\n","var baseGetAllKeys = require('./_baseGetAllKeys'),\n    getSymbols = require('./_getSymbols'),\n    keys = require('./keys');\n\n/**\n * Creates an array of own enumerable property names and symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction getAllKeys(object) {\n  return baseGetAllKeys(object, keys, getSymbols);\n}\n\nmodule.exports = getAllKeys;\n","var arrayPush = require('./_arrayPush'),\n    isArray = require('./isArray');\n\n/**\n * The base implementation of `getAllKeys` and `getAllKeysIn` which uses\n * `keysFunc` and `symbolsFunc` to get the enumerable property names and\n * symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Function} keysFunc The function to get the keys of `object`.\n * @param {Function} symbolsFunc The function to get the symbols of `object`.\n * @returns {Array} Returns the array of property names and symbols.\n */\nfunction baseGetAllKeys(object, keysFunc, symbolsFunc) {\n  var result = keysFunc(object);\n  return isArray(object) ? result : arrayPush(result, symbolsFunc(object));\n}\n\nmodule.exports = baseGetAllKeys;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var arrayFilter = require('./_arrayFilter'),\n    stubArray = require('./stubArray');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeGetSymbols = Object.getOwnPropertySymbols;\n\n/**\n * Creates an array of the own enumerable symbols of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the array of symbols.\n */\nvar getSymbols = !nativeGetSymbols ? stubArray : function(object) {\n  if (object == null) {\n    return [];\n  }\n  object = Object(object);\n  return arrayFilter(nativeGetSymbols(object), function(symbol) {\n    return propertyIsEnumerable.call(object, symbol);\n  });\n};\n\nmodule.exports = getSymbols;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","/**\n * This method returns a new empty array.\n *\n * @static\n * @memberOf _\n * @since 4.13.0\n * @category Util\n * @returns {Array} Returns the new empty array.\n * @example\n *\n * var arrays = _.times(2, _.stubArray);\n *\n * console.log(arrays);\n * // => [[], []]\n *\n * console.log(arrays[0] === arrays[1]);\n * // => false\n */\nfunction stubArray() {\n  return [];\n}\n\nmodule.exports = stubArray;\n","var DataView = require('./_DataView'),\n    Map = require('./_Map'),\n    Promise = require('./_Promise'),\n    Set = require('./_Set'),\n    WeakMap = require('./_WeakMap'),\n    baseGetTag = require('./_baseGetTag'),\n    toSource = require('./_toSource');\n\n/** `Object#toString` result references. */\nvar mapTag = '[object Map]',\n    objectTag = '[object Object]',\n    promiseTag = '[object Promise]',\n    setTag = '[object Set]',\n    weakMapTag = '[object WeakMap]';\n\nvar dataViewTag = '[object DataView]';\n\n/** Used to detect maps, sets, and weakmaps. */\nvar dataViewCtorString = toSource(DataView),\n    mapCtorString = toSource(Map),\n    promiseCtorString = toSource(Promise),\n    setCtorString = toSource(Set),\n    weakMapCtorString = toSource(WeakMap);\n\n/**\n * Gets the `toStringTag` of `value`.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nvar getTag = baseGetTag;\n\n// Fallback for data views, maps, sets, and weak maps in IE 11 and promises in Node.js < 6.\nif ((DataView && getTag(new DataView(new ArrayBuffer(1))) != dataViewTag) ||\n    (Map && getTag(new Map) != mapTag) ||\n    (Promise && getTag(Promise.resolve()) != promiseTag) ||\n    (Set && getTag(new Set) != setTag) ||\n    (WeakMap && getTag(new WeakMap) != weakMapTag)) {\n  getTag = function(value) {\n    var result = baseGetTag(value),\n        Ctor = result == objectTag ? value.constructor : undefined,\n        ctorString = Ctor ? toSource(Ctor) : '';\n\n    if (ctorString) {\n      switch (ctorString) {\n        case dataViewCtorString: return dataViewTag;\n        case mapCtorString: return mapTag;\n        case promiseCtorString: return promiseTag;\n        case setCtorString: return setTag;\n        case weakMapCtorString: return weakMapTag;\n      }\n    }\n    return result;\n  };\n}\n\nmodule.exports = getTag;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar DataView = getNative(root, 'DataView');\n\nmodule.exports = DataView;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Promise = getNative(root, 'Promise');\n\nmodule.exports = Promise;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar WeakMap = getNative(root, 'WeakMap');\n\nmodule.exports = WeakMap;\n","var isStrictComparable = require('./_isStrictComparable'),\n    keys = require('./keys');\n\n/**\n * Gets the property names, values, and compare flags of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Array} Returns the match data of `object`.\n */\nfunction getMatchData(object) {\n  var result = keys(object),\n      length = result.length;\n\n  while (length--) {\n    var key = result[length],\n        value = object[key];\n\n    result[length] = [key, value, isStrictComparable(value)];\n  }\n  return result;\n}\n\nmodule.exports = getMatchData;\n","var baseIsEqual = require('./_baseIsEqual'),\n    get = require('./get'),\n    hasIn = require('./hasIn'),\n    isKey = require('./_isKey'),\n    isStrictComparable = require('./_isStrictComparable'),\n    matchesStrictComparable = require('./_matchesStrictComparable'),\n    toKey = require('./_toKey');\n\n/** Used to compose bitmasks for value comparisons. */\nvar COMPARE_PARTIAL_FLAG = 1,\n    COMPARE_UNORDERED_FLAG = 2;\n\n/**\n * The base implementation of `_.matchesProperty` which doesn't clone `srcValue`.\n *\n * @private\n * @param {string} path The path of the property to get.\n * @param {*} srcValue The value to match.\n * @returns {Function} Returns the new spec function.\n */\nfunction baseMatchesProperty(path, srcValue) {\n  if (isKey(path) && isStrictComparable(srcValue)) {\n    return matchesStrictComparable(toKey(path), srcValue);\n  }\n  return function(object) {\n    var objValue = get(object, path);\n    return (objValue === undefined && objValue === srcValue)\n      ? hasIn(object, path)\n      : baseIsEqual(srcValue, objValue, COMPARE_PARTIAL_FLAG | COMPARE_UNORDERED_FLAG);\n  };\n}\n\nmodule.exports = baseMatchesProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","var baseHasIn = require('./_baseHasIn'),\n    hasPath = require('./_hasPath');\n\n/**\n * Checks if `path` is a direct or inherited property of `object`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path to check.\n * @returns {boolean} Returns `true` if `path` exists, else `false`.\n * @example\n *\n * var object = _.create({ 'a': _.create({ 'b': 2 }) });\n *\n * _.hasIn(object, 'a');\n * // => true\n *\n * _.hasIn(object, 'a.b');\n * // => true\n *\n * _.hasIn(object, ['a', 'b']);\n * // => true\n *\n * _.hasIn(object, 'b');\n * // => false\n */\nfunction hasIn(object, path) {\n  return object != null && hasPath(object, path, baseHasIn);\n}\n\nmodule.exports = hasIn;\n","/**\n * The base implementation of `_.hasIn` without support for deep paths.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {Array|string} key The key to check.\n * @returns {boolean} Returns `true` if `key` exists, else `false`.\n */\nfunction baseHasIn(object, key) {\n  return object != null && key in Object(object);\n}\n\nmodule.exports = baseHasIn;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var baseProperty = require('./_baseProperty'),\n    basePropertyDeep = require('./_basePropertyDeep'),\n    isKey = require('./_isKey'),\n    toKey = require('./_toKey');\n\n/**\n * Creates a function that returns the value at `path` of a given object.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n * @example\n *\n * var objects = [\n *   { 'a': { 'b': 2 } },\n *   { 'a': { 'b': 1 } }\n * ];\n *\n * _.map(objects, _.property('a.b'));\n * // => [2, 1]\n *\n * _.map(_.sortBy(objects, _.property(['a', 'b'])), 'a.b');\n * // => [1, 2]\n */\nfunction property(path) {\n  return isKey(path) ? baseProperty(toKey(path)) : basePropertyDeep(path);\n}\n\nmodule.exports = property;\n","/**\n * The base implementation of `_.property` without support for deep paths.\n *\n * @private\n * @param {string} key The key of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction baseProperty(key) {\n  return function(object) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = baseProperty;\n","var baseGet = require('./_baseGet');\n\n/**\n * A specialized version of `baseProperty` which supports deep paths.\n *\n * @private\n * @param {Array|string} path The path of the property to get.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyDeep(path) {\n  return function(object) {\n    return baseGet(object, path);\n  };\n}\n\nmodule.exports = basePropertyDeep;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [snake case](https://en.wikipedia.org/wiki/Snake_case).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the snake cased string.\n * @example\n *\n * _.snakeCase('Foo Bar');\n * // => 'foo_bar'\n *\n * _.snakeCase('fooBar');\n * // => 'foo_bar'\n *\n * _.snakeCase('--FOO-BAR--');\n * // => 'foo_bar'\n */\nvar snakeCase = createCompounder(function(result, word, index) {\n  return result + (index ? '_' : '') + word.toLowerCase();\n});\n\nmodule.exports = snakeCase;\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var capitalize = require('./capitalize'),\n    createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the camel cased string.\n * @example\n *\n * _.camelCase('Foo Bar');\n * // => 'fooBar'\n *\n * _.camelCase('--foo-bar--');\n * // => 'fooBar'\n *\n * _.camelCase('__FOO_BAR__');\n * // => 'fooBar'\n */\nvar camelCase = createCompounder(function(result, word, index) {\n  word = word.toLowerCase();\n  return result + (index ? capitalize(word) : word);\n});\n\nmodule.exports = camelCase;\n","var toString = require('./toString'),\n    upperFirst = require('./upperFirst');\n\n/**\n * Converts the first character of `string` to upper case and the remaining\n * to lower case.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to capitalize.\n * @returns {string} Returns the capitalized string.\n * @example\n *\n * _.capitalize('FRED');\n * // => 'Fred'\n */\nfunction capitalize(string) {\n  return upperFirst(toString(string).toLowerCase());\n}\n\nmodule.exports = capitalize;\n","var createCaseFirst = require('./_createCaseFirst');\n\n/**\n * Converts the first character of `string` to upper case.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.upperFirst('fred');\n * // => 'Fred'\n *\n * _.upperFirst('FRED');\n * // => 'FRED'\n */\nvar upperFirst = createCaseFirst('toUpperCase');\n\nmodule.exports = upperFirst;\n","var castSlice = require('./_castSlice'),\n    hasUnicode = require('./_hasUnicode'),\n    stringToArray = require('./_stringToArray'),\n    toString = require('./toString');\n\n/**\n * Creates a function like `_.lowerFirst`.\n *\n * @private\n * @param {string} methodName The name of the `String` case method to use.\n * @returns {Function} Returns the new case function.\n */\nfunction createCaseFirst(methodName) {\n  return function(string) {\n    string = toString(string);\n\n    var strSymbols = hasUnicode(string)\n      ? stringToArray(string)\n      : undefined;\n\n    var chr = strSymbols\n      ? strSymbols[0]\n      : string.charAt(0);\n\n    var trailing = strSymbols\n      ? castSlice(strSymbols, 1).join('')\n      : string.slice(1);\n\n    return chr[methodName]() + trailing;\n  };\n}\n\nmodule.exports = createCaseFirst;\n","var baseSlice = require('./_baseSlice');\n\n/**\n * Casts `array` to a slice if it's needed.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {number} start The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the cast slice.\n */\nfunction castSlice(array, start, end) {\n  var length = array.length;\n  end = end === undefined ? length : end;\n  return (!start && end >= length) ? array : baseSlice(array, start, end);\n}\n\nmodule.exports = castSlice;\n","/**\n * The base implementation of `_.slice` without an iteratee call guard.\n *\n * @private\n * @param {Array} array The array to slice.\n * @param {number} [start=0] The start position.\n * @param {number} [end=array.length] The end position.\n * @returns {Array} Returns the slice of `array`.\n */\nfunction baseSlice(array, start, end) {\n  var index = -1,\n      length = array.length;\n\n  if (start < 0) {\n    start = -start > length ? 0 : (length + start);\n  }\n  end = end > length ? length : end;\n  if (end < 0) {\n    end += length;\n  }\n  length = start > end ? 0 : ((end - start) >>> 0);\n  start >>>= 0;\n\n  var result = Array(length);\n  while (++index < length) {\n    result[index] = array[index + start];\n  }\n  return result;\n}\n\nmodule.exports = baseSlice;\n","var asciiToArray = require('./_asciiToArray'),\n    hasUnicode = require('./_hasUnicode'),\n    unicodeToArray = require('./_unicodeToArray');\n\n/**\n * Converts `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction stringToArray(string) {\n  return hasUnicode(string)\n    ? unicodeToArray(string)\n    : asciiToArray(string);\n}\n\nmodule.exports = stringToArray;\n","/**\n * Converts an ASCII `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction asciiToArray(string) {\n  return string.split('');\n}\n\nmodule.exports = asciiToArray;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsVarRange = '\\\\ufe0e\\\\ufe0f';\n\n/** Used to compose unicode capture groups. */\nvar rsAstral = '[' + rsAstralRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsSymbol = '(?:' + [rsNonAstral + rsCombo + '?', rsCombo, rsRegional, rsSurrPair, rsAstral].join('|') + ')';\n\n/** Used to match [string symbols](https://mathiasbynens.be/notes/javascript-unicode). */\nvar reUnicode = RegExp(rsFitz + '(?=' + rsFitz + ')|' + rsSymbol + rsSeq, 'g');\n\n/**\n * Converts a Unicode `string` to an array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the converted array.\n */\nfunction unicodeToArray(string) {\n  return string.match(reUnicode) || [];\n}\n\nmodule.exports = unicodeToArray;\n","var baseAssignValue = require('./_baseAssignValue'),\n    baseForOwn = require('./_baseForOwn'),\n    baseIteratee = require('./_baseIteratee');\n\n/**\n * The opposite of `_.mapValues`; this method creates an object with the\n * same values as `object` and keys generated by running each own enumerable\n * string keyed property of `object` thru `iteratee`. The iteratee is invoked\n * with three arguments: (value, key, object).\n *\n * @static\n * @memberOf _\n * @since 3.8.0\n * @category Object\n * @param {Object} object The object to iterate over.\n * @param {Function} [iteratee=_.identity] The function invoked per iteration.\n * @returns {Object} Returns the new mapped object.\n * @see _.mapValues\n * @example\n *\n * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\n *   return key + value;\n * });\n * // => { 'a1': 1, 'b2': 2 }\n */\nfunction mapKeys(object, iteratee) {\n  var result = {};\n  iteratee = baseIteratee(iteratee, 3);\n\n  baseForOwn(object, function(value, key, object) {\n    baseAssignValue(result, iteratee(value, key, object), value);\n  });\n  return result;\n}\n\nmodule.exports = mapKeys;\n","\n/**\n * Topological sorting function\n *\n * @param {Array} edges\n * @returns {Array}\n */\n\nmodule.exports = function(edges) {\n  return toposort(uniqueNodes(edges), edges)\n}\n\nmodule.exports.array = toposort\n\nfunction toposort(nodes, edges) {\n  var cursor = nodes.length\n    , sorted = new Array(cursor)\n    , visited = {}\n    , i = cursor\n    // Better data structures make algorithm much faster.\n    , outgoingEdges = makeOutgoingEdges(edges)\n    , nodesHash = makeNodesHash(nodes)\n\n  // check for unknown nodes\n  edges.forEach(function(edge) {\n    if (!nodesHash.has(edge[0]) || !nodesHash.has(edge[1])) {\n      throw new Error('Unknown node. There is an unknown node in the supplied edges.')\n    }\n  })\n\n  while (i--) {\n    if (!visited[i]) visit(nodes[i], i, new Set())\n  }\n\n  return sorted\n\n  function visit(node, i, predecessors) {\n    if(predecessors.has(node)) {\n      var nodeRep\n      try {\n        nodeRep = \", node was:\" + JSON.stringify(node)\n      } catch(e) {\n        nodeRep = \"\"\n      }\n      throw new Error('Cyclic dependency' + nodeRep)\n    }\n\n    if (!nodesHash.has(node)) {\n      throw new Error('Found unknown node. Make sure to provided all involved nodes. Unknown node: '+JSON.stringify(node))\n    }\n\n    if (visited[i]) return;\n    visited[i] = true\n\n    var outgoing = outgoingEdges.get(node) || new Set()\n    outgoing = Array.from(outgoing)\n\n    if (i = outgoing.length) {\n      predecessors.add(node)\n      do {\n        var child = outgoing[--i]\n        visit(child, nodesHash.get(child), predecessors)\n      } while (i)\n      predecessors.delete(node)\n    }\n\n    sorted[--cursor] = node\n  }\n}\n\nfunction uniqueNodes(arr){\n  var res = new Set()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    res.add(edge[0])\n    res.add(edge[1])\n  }\n  return Array.from(res)\n}\n\nfunction makeOutgoingEdges(arr){\n  var edges = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    var edge = arr[i]\n    if (!edges.has(edge[0])) edges.set(edge[0], new Set())\n    if (!edges.has(edge[1])) edges.set(edge[1], new Set())\n    edges.get(edge[0]).add(edge[1])\n  }\n  return edges\n}\n\nfunction makeNodesHash(arr){\n  var res = new Map()\n  for (var i = 0, len = arr.length; i < len; i++) {\n    res.set(arr[i], i)\n  }\n  return res\n}\n","import { replace } from \"lodash\";\nimport numeral from \"numeral\";\n\nexport function fCurrency(number: string | number): string {\n  return numeral(number).format(Number.isInteger(number) ? \"¥0,0\" : \"¥0,0.00\");\n}\n\nexport function fPercent(number: number): string {\n  return numeral(number / 100).format(\"0.0%\");\n}\n\nexport function fNumber(number: string | number): string {\n  return numeral(number).format();\n}\n\nexport function fShortenNumber(number: string | number): string {\n  return replace(numeral(number).format(\"0.00a\"), \".00\", \"\");\n}\n\nexport function fData(number: string | number): string {\n  return numeral(number).format(\"0.0 b\");\n}\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCardUtilityClass(slot) {\n  return generateUtilityClass('MuiCard', slot);\n}\nconst cardClasses = generateUtilityClasses('MuiCard', ['root']);\nexport default cardClasses;","import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nconst _excluded = [\"className\", \"raised\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport styled from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport Paper from '../Paper';\nimport { getCardUtilityClass } from './cardClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root']\n  };\n  return composeClasses(slots, getCardUtilityClass, classes);\n};\n\nconst CardRoot = styled(Paper, {\n  name: 'MuiCard',\n  slot: 'Root',\n  overridesResolver: (props, styles) => styles.root\n})(() => {\n  return {\n    overflow: 'hidden'\n  };\n});\nconst Card = /*#__PURE__*/React.forwardRef(function Card(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCard'\n  });\n\n  const {\n    className,\n    raised = false\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    raised\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(CardRoot, _extends({\n    className: clsx(classes.root, className),\n    elevation: raised ? 8 : undefined,\n    ref: ref,\n    ownerState: ownerState\n  }, other));\n});\nprocess.env.NODE_ENV !== \"production\" ? Card.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the card will use raised styling.\n   * @default false\n   */\n  raised: chainPropTypes(PropTypes.bool, props => {\n    if (props.raised && props.variant === 'outlined') {\n      return new Error('MUI: Combining `raised={true}` with `variant=\"outlined\"` has no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default Card;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getCircularProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiCircularProgress', slot);\n}\nconst circularProgressClasses = generateUtilityClasses('MuiCircularProgress', ['root', 'determinate', 'indeterminate', 'colorPrimary', 'colorSecondary', 'svg', 'circle', 'circleDeterminate', 'circleIndeterminate', 'circleDisableShrink']);\nexport default circularProgressClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"];\n\nlet _ = t => t,\n    _t,\n    _t2,\n    _t3,\n    _t4;\n\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { keyframes, css } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCircularProgressUtilityClass } from './circularProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nconst SIZE = 44;\nconst circularRotateKeyframe = keyframes(_t || (_t = _`\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n`));\nconst circularDashKeyframe = keyframes(_t2 || (_t2 = _`\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n`));\n\nconst useUtilityClasses = ownerState => {\n  const {\n    classes,\n    variant,\n    color,\n    disableShrink\n  } = ownerState;\n  const slots = {\n    root: ['root', variant, `color${capitalize(color)}`],\n    svg: ['svg'],\n    circle: ['circle', `circle${capitalize(variant)}`, disableShrink && 'circleDisableShrink']\n  };\n  return composeClasses(slots, getCircularProgressUtilityClass, classes);\n};\n\nconst CircularProgressRoot = styled('span', {\n  name: 'MuiCircularProgress',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.root, styles[ownerState.variant], styles[`color${capitalize(ownerState.color)}`]];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  display: 'inline-block'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('transform')\n}, ownerState.color !== 'inherit' && {\n  color: theme.palette[ownerState.color].main\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && css(_t3 || (_t3 = _`\n      animation: ${0} 1.4s linear infinite;\n    `), circularRotateKeyframe));\nconst CircularProgressSVG = styled('svg', {\n  name: 'MuiCircularProgress',\n  slot: 'Svg',\n  overridesResolver: (props, styles) => styles.svg\n})({\n  display: 'block' // Keeps the progress centered\n\n});\nconst CircularProgressCircle = styled('circle', {\n  name: 'MuiCircularProgress',\n  slot: 'Circle',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.circle, styles[`circle${capitalize(ownerState.variant)}`], ownerState.disableShrink && styles.circleDisableShrink];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  stroke: 'currentColor'\n}, ownerState.variant === 'determinate' && {\n  transition: theme.transitions.create('stroke-dashoffset')\n}, ownerState.variant === 'indeterminate' && {\n  // Some default value that looks fine waiting for the animation to kicks in.\n  strokeDasharray: '80px, 200px',\n  strokeDashoffset: 0 // Add the unit to fix a Edge 16 and below bug.\n\n}), ({\n  ownerState\n}) => ownerState.variant === 'indeterminate' && !ownerState.disableShrink && css(_t4 || (_t4 = _`\n      animation: ${0} 1.4s ease-in-out infinite;\n    `), circularDashKeyframe));\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nconst CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiCircularProgress'\n  });\n\n  const {\n    className,\n    color = 'primary',\n    disableShrink = false,\n    size = 40,\n    style,\n    thickness = 3.6,\n    value = 0,\n    variant = 'indeterminate'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    color,\n    disableShrink,\n    size,\n    thickness,\n    value,\n    variant\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  const circleStyle = {};\n  const rootStyle = {};\n  const rootProps = {};\n\n  if (variant === 'determinate') {\n    const circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = `${((100 - value) / 100 * circumference).toFixed(3)}px`;\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n\n  return /*#__PURE__*/_jsx(CircularProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ownerState: ownerState,\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other, {\n    children: /*#__PURE__*/_jsx(CircularProgressSVG, {\n      className: classes.svg,\n      ownerState: ownerState,\n      viewBox: `${SIZE / 2} ${SIZE / 2} ${SIZE} ${SIZE}`,\n      children: /*#__PURE__*/_jsx(CircularProgressCircle, {\n        className: classes.circle,\n        style: circleStyle,\n        ownerState: ownerState,\n        cx: SIZE,\n        cy: SIZE,\n        r: (SIZE - thickness) / 2,\n        fill: \"none\",\n        strokeWidth: thickness\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? CircularProgress.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * The color of the component. It supports those theme colors that make sense for this component.\n   * @default 'primary'\n   */\n  color: PropTypes\n  /* @typescript-to-proptypes-ignore */\n  .oneOfType([PropTypes.oneOf(['inherit', 'primary', 'secondary', 'error', 'info', 'success', 'warning']), PropTypes.string]),\n\n  /**\n   * If `true`, the shrink animation is disabled.\n   * This only works if variant is `indeterminate`.\n   * @default false\n   */\n  disableShrink: chainPropTypes(PropTypes.bool, props => {\n    if (props.disableShrink && props.variant && props.variant !== 'indeterminate') {\n      return new Error('MUI: You have provided the `disableShrink` prop ' + 'with a variant other than `indeterminate`. This will have no effect.');\n    }\n\n    return null;\n  }),\n\n  /**\n   * The size of the component.\n   * If using a number, the pixel unit is assumed.\n   * If using a string, you need to provide the CSS unit, e.g '3rem'.\n   * @default 40\n   */\n  size: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n\n  /**\n   * @ignore\n   */\n  style: PropTypes.object,\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object]),\n\n  /**\n   * The thickness of the circle.\n   * @default 3.6\n   */\n  thickness: PropTypes.number,\n\n  /**\n   * The value of the progress indicator for the determinate variant.\n   * Value between 0 and 100.\n   * @default 0\n   */\n  value: PropTypes.number,\n\n  /**\n   * The variant to use.\n   * Use indeterminate when there is no progress value.\n   * @default 'indeterminate'\n   */\n  variant: PropTypes.oneOf(['determinate', 'indeterminate'])\n} : void 0;\nexport default CircularProgress;","import { generateUtilityClass, generateUtilityClasses } from '@mui/core';\nexport function getLoadingButtonUtilityClass(slot) {\n  return generateUtilityClass('MuiLoadingButton', slot);\n}\nconst loadingButtonClasses = generateUtilityClasses('MuiLoadingButton', ['root', 'loading', 'loadingIndicator', 'loadingIndicatorCenter', 'loadingIndicatorStart', 'loadingIndicatorEnd', 'endIconLoadingEnd', 'startIconLoadingStart']);\nexport default loadingButtonClasses;","import _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nconst _excluded = [\"children\", \"disabled\", \"loading\", \"loadingIndicator\", \"loadingPosition\"];\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport { chainPropTypes } from '@mui/utils';\nimport { capitalize } from '@mui/material/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/core';\nimport { styled, useThemeProps } from '@mui/material/styles';\nimport Button from '@mui/material/Button';\nimport CircularProgress from '@mui/material/CircularProgress';\nimport loadingButtonClasses, { getLoadingButtonUtilityClass } from './loadingButtonClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nconst useUtilityClasses = ownerState => {\n  const {\n    loading,\n    loadingPosition,\n    classes\n  } = ownerState;\n  const slots = {\n    root: ['root', loading && 'loading'],\n    startIcon: [loading && `startIconLoading${capitalize(loadingPosition)}`],\n    endIcon: [loading && `endIconLoading${capitalize(loadingPosition)}`],\n    loadingIndicator: ['loadingIndicator', loading && `loadingIndicator${capitalize(loadingPosition)}`]\n  };\n  const composedClasses = composeClasses(slots, getLoadingButtonUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n}; // TODO use `import { rootShouldForwardProp } from '../styles/styled';` once move to core\n\n\nconst rootShouldForwardProp = prop => prop !== 'ownerState' && prop !== 'theme' && prop !== 'sx' && prop !== 'as' && prop !== 'classes';\n\nconst LoadingButtonRoot = styled(Button, {\n  shouldForwardProp: prop => rootShouldForwardProp(prop) || prop === 'classes',\n  name: 'MuiLoadingButton',\n  slot: 'Root',\n  overridesResolver: (props, styles) => {\n    return [styles.root, styles.startIconLoadingStart && {\n      [`& .${loadingButtonClasses.startIconLoadingStart}`]: styles.startIconLoadingStart\n    }, styles.endIconLoadingEnd && {\n      [`& .${loadingButtonClasses.endIconLoadingEnd}`]: styles.endIconLoadingEnd\n    }];\n  }\n})(({\n  ownerState,\n  theme\n}) => _extends({\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0\n  }\n}, ownerState.loadingPosition === 'center' && {\n  transition: theme.transitions.create(['background-color', 'box-shadow', 'border-color'], {\n    duration: theme.transitions.duration.short\n  }),\n  [`&.${loadingButtonClasses.loading}`]: {\n    color: 'transparent'\n  }\n}, ownerState.loadingPosition === 'start' && ownerState.fullWidth && {\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0,\n    marginRight: -8\n  }\n}, ownerState.loadingPosition === 'end' && ownerState.fullWidth && {\n  [`& .${loadingButtonClasses.startIconLoadingStart}, & .${loadingButtonClasses.endIconLoadingEnd}`]: {\n    transition: theme.transitions.create(['opacity'], {\n      duration: theme.transitions.duration.short\n    }),\n    opacity: 0,\n    marginLeft: -8\n  }\n}));\nconst LoadingButtonLoadingIndicator = styled('div', {\n  name: 'MuiLoadingButton',\n  slot: 'LoadingIndicator',\n  overridesResolver: (props, styles) => {\n    const {\n      ownerState\n    } = props;\n    return [styles.loadingIndicator, styles[`loadingIndicator${capitalize(ownerState.loadingPosition)}`]];\n  }\n})(({\n  theme,\n  ownerState\n}) => _extends({\n  position: 'absolute',\n  visibility: 'visible',\n  display: 'flex'\n}, ownerState.loadingPosition === 'start' && {\n  left: 14\n}, ownerState.loadingPosition === 'center' && {\n  left: '50%',\n  transform: 'translate(-50%)',\n  color: theme.palette.action.disabled\n}, ownerState.loadingPosition === 'end' && {\n  right: 14\n}, ownerState.loadingPosition === 'start' && ownerState.fullWidth && {\n  position: 'relative',\n  left: -10\n}, ownerState.loadingPosition === 'end' && ownerState.fullWidth && {\n  position: 'relative',\n  right: -10\n}));\n\nconst LoadingIndicator = /*#__PURE__*/_jsx(CircularProgress, {\n  color: \"inherit\",\n  size: 16\n});\n\nconst LoadingButton = /*#__PURE__*/React.forwardRef(function LoadingButton(inProps, ref) {\n  const props = useThemeProps({\n    props: inProps,\n    name: 'MuiLoadingButton'\n  });\n\n  const {\n    children,\n    disabled = false,\n    loading = false,\n    loadingIndicator = LoadingIndicator,\n    loadingPosition = 'center'\n  } = props,\n        other = _objectWithoutPropertiesLoose(props, _excluded);\n\n  const ownerState = _extends({}, props, {\n    disabled,\n    loading,\n    loadingIndicator,\n    loadingPosition\n  });\n\n  const classes = useUtilityClasses(ownerState);\n  return /*#__PURE__*/_jsx(LoadingButtonRoot, _extends({\n    disabled: disabled || loading,\n    ref: ref\n  }, other, {\n    classes: classes,\n    ownerState: ownerState,\n    children: ownerState.loadingPosition === 'end' ? /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [children, loading && /*#__PURE__*/_jsx(LoadingButtonLoadingIndicator, {\n        className: classes.loadingIndicator,\n        ownerState: ownerState,\n        children: loadingIndicator\n      })]\n    }) : /*#__PURE__*/_jsxs(React.Fragment, {\n      children: [loading && /*#__PURE__*/_jsx(LoadingButtonLoadingIndicator, {\n        className: classes.loadingIndicator,\n        ownerState: ownerState,\n        children: loadingIndicator\n      }), children]\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? LoadingButton.propTypes\n/* remove-proptypes */\n= {\n  // ----------------------------- Warning --------------------------------\n  // | These PropTypes are generated from the TypeScript type definitions |\n  // |     To update them edit the d.ts file and run \"yarn proptypes\"     |\n  // ----------------------------------------------------------------------\n\n  /**\n   * The content of the component.\n   */\n  children: PropTypes.node,\n\n  /**\n   * Override or extend the styles applied to the component.\n   */\n  classes: PropTypes.object,\n\n  /**\n   * If `true`, the component is disabled.\n   * @default false\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the loading indicator is shown.\n   * @default false\n   */\n  loading: PropTypes.bool,\n\n  /**\n   * Element placed before the children if the button is in loading state.\n   * @default <CircularProgress color=\"inherit\" size={16} />\n   */\n  loadingIndicator: PropTypes.node,\n\n  /**\n   * The loading indicator can be positioned on the start, end, or the center of the button.\n   * @default 'center'\n   */\n  loadingPosition: chainPropTypes(PropTypes.oneOf(['start', 'end', 'center']), props => {\n    if (props.loadingPosition === 'start' && !props.startIcon) {\n      return new Error(`MUI: The loadingPosition=\"start\" should be used in combination with startIcon.`);\n    }\n\n    if (props.loadingPosition === 'end' && !props.endIcon) {\n      return new Error(`MUI: The loadingPosition=\"end\" should be used in combination with endIcon.`);\n    }\n\n    return null;\n  }),\n\n  /**\n   * The system prop that allows defining system overrides as well as additional CSS styles.\n   */\n  sx: PropTypes.oneOfType([PropTypes.func, PropTypes.object])\n} : void 0;\nexport default LoadingButton;","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nconst StepperContext = /*#__PURE__*/React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  StepperContext.displayName = 'StepperContext';\n}\n\nexport default StepperContext;","/*! @preserve\n * numeral.js\n * version : 2.0.6\n * author : Adam Draper\n * license : MIT\n * http://adamwdraper.github.com/Numeral-js/\n */\n\n(function (global, factory) {\n    if (typeof define === 'function' && define.amd) {\n        define(factory);\n    } else if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        global.numeral = factory();\n    }\n}(this, function () {\n    /************************************\n        Variables\n    ************************************/\n\n    var numeral,\n        _,\n        VERSION = '2.0.6',\n        formats = {},\n        locales = {},\n        defaults = {\n            currentLocale: 'en',\n            zeroFormat: null,\n            nullFormat: null,\n            defaultFormat: '0,0',\n            scalePercentBy100: true\n        },\n        options = {\n            currentLocale: defaults.currentLocale,\n            zeroFormat: defaults.zeroFormat,\n            nullFormat: defaults.nullFormat,\n            defaultFormat: defaults.defaultFormat,\n            scalePercentBy100: defaults.scalePercentBy100\n        };\n\n\n    /************************************\n        Constructors\n    ************************************/\n\n    // Numeral prototype object\n    function Numeral(input, number) {\n        this._input = input;\n\n        this._value = number;\n    }\n\n    numeral = function(input) {\n        var value,\n            kind,\n            unformatFunction,\n            regexp;\n\n        if (numeral.isNumeral(input)) {\n            value = input.value();\n        } else if (input === 0 || typeof input === 'undefined') {\n            value = 0;\n        } else if (input === null || _.isNaN(input)) {\n            value = null;\n        } else if (typeof input === 'string') {\n            if (options.zeroFormat && input === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && input === options.nullFormat || !input.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                for (kind in formats) {\n                    regexp = typeof formats[kind].regexps.unformat === 'function' ? formats[kind].regexps.unformat() : formats[kind].regexps.unformat;\n\n                    if (regexp && input.match(regexp)) {\n                        unformatFunction = formats[kind].unformat;\n\n                        break;\n                    }\n                }\n\n                unformatFunction = unformatFunction || numeral._.stringToNumber;\n\n                value = unformatFunction(input);\n            }\n        } else {\n            value = Number(input)|| null;\n        }\n\n        return new Numeral(input, value);\n    };\n\n    // version number\n    numeral.version = VERSION;\n\n    // compare numeral object\n    numeral.isNumeral = function(obj) {\n        return obj instanceof Numeral;\n    };\n\n    // helper functions\n    numeral._ = _ = {\n        // formats numbers separators, decimals places, signs, abbreviations\n        numberToFormat: function(value, format, roundingFunction) {\n            var locale = locales[numeral.options.currentLocale],\n                negP = false,\n                optDec = false,\n                leadingCount = 0,\n                abbr = '',\n                trillion = 1000000000000,\n                billion = 1000000000,\n                million = 1000000,\n                thousand = 1000,\n                decimal = '',\n                neg = false,\n                abbrForce, // force abbreviation\n                abs,\n                min,\n                max,\n                power,\n                int,\n                precision,\n                signed,\n                thousands,\n                output;\n\n            // make sure we never format a null value\n            value = value || 0;\n\n            abs = Math.abs(value);\n\n            // see if we should use parentheses for negative number or if we should prefix with a sign\n            // if both are present we default to parentheses\n            if (numeral._.includes(format, '(')) {\n                negP = true;\n                format = format.replace(/[\\(|\\)]/g, '');\n            } else if (numeral._.includes(format, '+') || numeral._.includes(format, '-')) {\n                signed = numeral._.includes(format, '+') ? format.indexOf('+') : value < 0 ? format.indexOf('-') : -1;\n                format = format.replace(/[\\+|\\-]/g, '');\n            }\n\n            // see if abbreviation is wanted\n            if (numeral._.includes(format, 'a')) {\n                abbrForce = format.match(/a(k|m|b|t)?/);\n\n                abbrForce = abbrForce ? abbrForce[1] : false;\n\n                // check for space before abbreviation\n                if (numeral._.includes(format, ' a')) {\n                    abbr = ' ';\n                }\n\n                format = format.replace(new RegExp(abbr + 'a[kmbt]?'), '');\n\n                if (abs >= trillion && !abbrForce || abbrForce === 't') {\n                    // trillion\n                    abbr += locale.abbreviations.trillion;\n                    value = value / trillion;\n                } else if (abs < trillion && abs >= billion && !abbrForce || abbrForce === 'b') {\n                    // billion\n                    abbr += locale.abbreviations.billion;\n                    value = value / billion;\n                } else if (abs < billion && abs >= million && !abbrForce || abbrForce === 'm') {\n                    // million\n                    abbr += locale.abbreviations.million;\n                    value = value / million;\n                } else if (abs < million && abs >= thousand && !abbrForce || abbrForce === 'k') {\n                    // thousand\n                    abbr += locale.abbreviations.thousand;\n                    value = value / thousand;\n                }\n            }\n\n            // check for optional decimals\n            if (numeral._.includes(format, '[.]')) {\n                optDec = true;\n                format = format.replace('[.]', '.');\n            }\n\n            // break number and format\n            int = value.toString().split('.')[0];\n            precision = format.split('.')[1];\n            thousands = format.indexOf(',');\n            leadingCount = (format.split('.')[0].split(',')[0].match(/0/g) || []).length;\n\n            if (precision) {\n                if (numeral._.includes(precision, '[')) {\n                    precision = precision.replace(']', '');\n                    precision = precision.split('[');\n                    decimal = numeral._.toFixed(value, (precision[0].length + precision[1].length), roundingFunction, precision[1].length);\n                } else {\n                    decimal = numeral._.toFixed(value, precision.length, roundingFunction);\n                }\n\n                int = decimal.split('.')[0];\n\n                if (numeral._.includes(decimal, '.')) {\n                    decimal = locale.delimiters.decimal + decimal.split('.')[1];\n                } else {\n                    decimal = '';\n                }\n\n                if (optDec && Number(decimal.slice(1)) === 0) {\n                    decimal = '';\n                }\n            } else {\n                int = numeral._.toFixed(value, 0, roundingFunction);\n            }\n\n            // check abbreviation again after rounding\n            if (abbr && !abbrForce && Number(int) >= 1000 && abbr !== locale.abbreviations.trillion) {\n                int = String(Number(int) / 1000);\n\n                switch (abbr) {\n                    case locale.abbreviations.thousand:\n                        abbr = locale.abbreviations.million;\n                        break;\n                    case locale.abbreviations.million:\n                        abbr = locale.abbreviations.billion;\n                        break;\n                    case locale.abbreviations.billion:\n                        abbr = locale.abbreviations.trillion;\n                        break;\n                }\n            }\n\n\n            // format number\n            if (numeral._.includes(int, '-')) {\n                int = int.slice(1);\n                neg = true;\n            }\n\n            if (int.length < leadingCount) {\n                for (var i = leadingCount - int.length; i > 0; i--) {\n                    int = '0' + int;\n                }\n            }\n\n            if (thousands > -1) {\n                int = int.toString().replace(/(\\d)(?=(\\d{3})+(?!\\d))/g, '$1' + locale.delimiters.thousands);\n            }\n\n            if (format.indexOf('.') === 0) {\n                int = '';\n            }\n\n            output = int + decimal + (abbr ? abbr : '');\n\n            if (negP) {\n                output = (negP && neg ? '(' : '') + output + (negP && neg ? ')' : '');\n            } else {\n                if (signed >= 0) {\n                    output = signed === 0 ? (neg ? '-' : '+') + output : output + (neg ? '-' : '+');\n                } else if (neg) {\n                    output = '-' + output;\n                }\n            }\n\n            return output;\n        },\n        // unformats numbers separators, decimals places, signs, abbreviations\n        stringToNumber: function(string) {\n            var locale = locales[options.currentLocale],\n                stringOriginal = string,\n                abbreviations = {\n                    thousand: 3,\n                    million: 6,\n                    billion: 9,\n                    trillion: 12\n                },\n                abbreviation,\n                value,\n                i,\n                regexp;\n\n            if (options.zeroFormat && string === options.zeroFormat) {\n                value = 0;\n            } else if (options.nullFormat && string === options.nullFormat || !string.replace(/[^0-9]+/g, '').length) {\n                value = null;\n            } else {\n                value = 1;\n\n                if (locale.delimiters.decimal !== '.') {\n                    string = string.replace(/\\./g, '').replace(locale.delimiters.decimal, '.');\n                }\n\n                for (abbreviation in abbreviations) {\n                    regexp = new RegExp('[^a-zA-Z]' + locale.abbreviations[abbreviation] + '(?:\\\\)|(\\\\' + locale.currency.symbol + ')?(?:\\\\))?)?$');\n\n                    if (stringOriginal.match(regexp)) {\n                        value *= Math.pow(10, abbreviations[abbreviation]);\n                        break;\n                    }\n                }\n\n                // check for negative number\n                value *= (string.split('-').length + Math.min(string.split('(').length - 1, string.split(')').length - 1)) % 2 ? 1 : -1;\n\n                // remove non numbers\n                string = string.replace(/[^0-9\\.]+/g, '');\n\n                value *= Number(string);\n            }\n\n            return value;\n        },\n        isNaN: function(value) {\n            return typeof value === 'number' && isNaN(value);\n        },\n        includes: function(string, search) {\n            return string.indexOf(search) !== -1;\n        },\n        insert: function(string, subString, start) {\n            return string.slice(0, start) + subString + string.slice(start);\n        },\n        reduce: function(array, callback /*, initialValue*/) {\n            if (this === null) {\n                throw new TypeError('Array.prototype.reduce called on null or undefined');\n            }\n\n            if (typeof callback !== 'function') {\n                throw new TypeError(callback + ' is not a function');\n            }\n\n            var t = Object(array),\n                len = t.length >>> 0,\n                k = 0,\n                value;\n\n            if (arguments.length === 3) {\n                value = arguments[2];\n            } else {\n                while (k < len && !(k in t)) {\n                    k++;\n                }\n\n                if (k >= len) {\n                    throw new TypeError('Reduce of empty array with no initial value');\n                }\n\n                value = t[k++];\n            }\n            for (; k < len; k++) {\n                if (k in t) {\n                    value = callback(value, t[k], k, t);\n                }\n            }\n            return value;\n        },\n        /**\n         * Computes the multiplier necessary to make x >= 1,\n         * effectively eliminating miscalculations caused by\n         * finite precision.\n         */\n        multiplier: function (x) {\n            var parts = x.toString().split('.');\n\n            return parts.length < 2 ? 1 : Math.pow(10, parts[1].length);\n        },\n        /**\n         * Given a variable number of arguments, returns the maximum\n         * multiplier that must be used to normalize an operation involving\n         * all of them.\n         */\n        correctionFactor: function () {\n            var args = Array.prototype.slice.call(arguments);\n\n            return args.reduce(function(accum, next) {\n                var mn = _.multiplier(next);\n                return accum > mn ? accum : mn;\n            }, 1);\n        },\n        /**\n         * Implementation of toFixed() that treats floats more like decimals\n         *\n         * Fixes binary rounding issues (eg. (0.615).toFixed(2) === '0.61') that present\n         * problems for accounting- and finance-related software.\n         */\n        toFixed: function(value, maxDecimals, roundingFunction, optionals) {\n            var splitValue = value.toString().split('.'),\n                minDecimals = maxDecimals - (optionals || 0),\n                boundedPrecision,\n                optionalsRegExp,\n                power,\n                output;\n\n            // Use the smallest precision value possible to avoid errors from floating point representation\n            if (splitValue.length === 2) {\n              boundedPrecision = Math.min(Math.max(splitValue[1].length, minDecimals), maxDecimals);\n            } else {\n              boundedPrecision = minDecimals;\n            }\n\n            power = Math.pow(10, boundedPrecision);\n\n            // Multiply up by precision, round accurately, then divide and use native toFixed():\n            output = (roundingFunction(value + 'e+' + boundedPrecision) / power).toFixed(boundedPrecision);\n\n            if (optionals > maxDecimals - boundedPrecision) {\n                optionalsRegExp = new RegExp('\\\\.?0{1,' + (optionals - (maxDecimals - boundedPrecision)) + '}$');\n                output = output.replace(optionalsRegExp, '');\n            }\n\n            return output;\n        }\n    };\n\n    // avaliable options\n    numeral.options = options;\n\n    // avaliable formats\n    numeral.formats = formats;\n\n    // avaliable formats\n    numeral.locales = locales;\n\n    // This function sets the current locale.  If\n    // no arguments are passed in, it will simply return the current global\n    // locale key.\n    numeral.locale = function(key) {\n        if (key) {\n            options.currentLocale = key.toLowerCase();\n        }\n\n        return options.currentLocale;\n    };\n\n    // This function provides access to the loaded locale data.  If\n    // no arguments are passed in, it will simply return the current\n    // global locale object.\n    numeral.localeData = function(key) {\n        if (!key) {\n            return locales[options.currentLocale];\n        }\n\n        key = key.toLowerCase();\n\n        if (!locales[key]) {\n            throw new Error('Unknown locale : ' + key);\n        }\n\n        return locales[key];\n    };\n\n    numeral.reset = function() {\n        for (var property in defaults) {\n            options[property] = defaults[property];\n        }\n    };\n\n    numeral.zeroFormat = function(format) {\n        options.zeroFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.nullFormat = function (format) {\n        options.nullFormat = typeof(format) === 'string' ? format : null;\n    };\n\n    numeral.defaultFormat = function(format) {\n        options.defaultFormat = typeof(format) === 'string' ? format : '0.0';\n    };\n\n    numeral.register = function(type, name, format) {\n        name = name.toLowerCase();\n\n        if (this[type + 's'][name]) {\n            throw new TypeError(name + ' ' + type + ' already registered.');\n        }\n\n        this[type + 's'][name] = format;\n\n        return format;\n    };\n\n\n    numeral.validate = function(val, culture) {\n        var _decimalSep,\n            _thousandSep,\n            _currSymbol,\n            _valArray,\n            _abbrObj,\n            _thousandRegEx,\n            localeData,\n            temp;\n\n        //coerce val to string\n        if (typeof val !== 'string') {\n            val += '';\n\n            if (console.warn) {\n                console.warn('Numeral.js: Value is not string. It has been co-erced to: ', val);\n            }\n        }\n\n        //trim whitespaces from either sides\n        val = val.trim();\n\n        //if val is just digits return true\n        if (!!val.match(/^\\d+$/)) {\n            return true;\n        }\n\n        //if val is empty return false\n        if (val === '') {\n            return false;\n        }\n\n        //get the decimal and thousands separator from numeral.localeData\n        try {\n            //check if the culture is understood by numeral. if not, default it to current locale\n            localeData = numeral.localeData(culture);\n        } catch (e) {\n            localeData = numeral.localeData(numeral.locale());\n        }\n\n        //setup the delimiters and currency symbol based on culture/locale\n        _currSymbol = localeData.currency.symbol;\n        _abbrObj = localeData.abbreviations;\n        _decimalSep = localeData.delimiters.decimal;\n        if (localeData.delimiters.thousands === '.') {\n            _thousandSep = '\\\\.';\n        } else {\n            _thousandSep = localeData.delimiters.thousands;\n        }\n\n        // validating currency symbol\n        temp = val.match(/^[^\\d]+/);\n        if (temp !== null) {\n            val = val.substr(1);\n            if (temp[0] !== _currSymbol) {\n                return false;\n            }\n        }\n\n        //validating abbreviation symbol\n        temp = val.match(/[^\\d]+$/);\n        if (temp !== null) {\n            val = val.slice(0, -1);\n            if (temp[0] !== _abbrObj.thousand && temp[0] !== _abbrObj.million && temp[0] !== _abbrObj.billion && temp[0] !== _abbrObj.trillion) {\n                return false;\n            }\n        }\n\n        _thousandRegEx = new RegExp(_thousandSep + '{2}');\n\n        if (!val.match(/[^\\d.,]/g)) {\n            _valArray = val.split(_decimalSep);\n            if (_valArray.length > 2) {\n                return false;\n            } else {\n                if (_valArray.length < 2) {\n                    return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx));\n                } else {\n                    if (_valArray[0].length === 1) {\n                        return ( !! _valArray[0].match(/^\\d+$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    } else {\n                        return ( !! _valArray[0].match(/^\\d+.*\\d$/) && !_valArray[0].match(_thousandRegEx) && !! _valArray[1].match(/^\\d+$/));\n                    }\n                }\n            }\n        }\n\n        return false;\n    };\n\n\n    /************************************\n        Numeral Prototype\n    ************************************/\n\n    numeral.fn = Numeral.prototype = {\n        clone: function() {\n            return numeral(this);\n        },\n        format: function(inputString, roundingFunction) {\n            var value = this._value,\n                format = inputString || options.defaultFormat,\n                kind,\n                output,\n                formatFunction;\n\n            // make sure we have a roundingFunction\n            roundingFunction = roundingFunction || Math.round;\n\n            // format based on value\n            if (value === 0 && options.zeroFormat !== null) {\n                output = options.zeroFormat;\n            } else if (value === null && options.nullFormat !== null) {\n                output = options.nullFormat;\n            } else {\n                for (kind in formats) {\n                    if (format.match(formats[kind].regexps.format)) {\n                        formatFunction = formats[kind].format;\n\n                        break;\n                    }\n                }\n\n                formatFunction = formatFunction || numeral._.numberToFormat;\n\n                output = formatFunction(value, format, roundingFunction);\n            }\n\n            return output;\n        },\n        value: function() {\n            return this._value;\n        },\n        input: function() {\n            return this._input;\n        },\n        set: function(value) {\n            this._value = Number(value);\n\n            return this;\n        },\n        add: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum + Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 0) / corrFactor;\n\n            return this;\n        },\n        subtract: function(value) {\n            var corrFactor = _.correctionFactor.call(null, this._value, value);\n\n            function cback(accum, curr, currI, O) {\n                return accum - Math.round(corrFactor * curr);\n            }\n\n            this._value = _.reduce([value], cback, Math.round(this._value * corrFactor)) / corrFactor;\n\n            return this;\n        },\n        multiply: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) * Math.round(curr * corrFactor) / Math.round(corrFactor * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback, 1);\n\n            return this;\n        },\n        divide: function(value) {\n            function cback(accum, curr, currI, O) {\n                var corrFactor = _.correctionFactor(accum, curr);\n                return Math.round(accum * corrFactor) / Math.round(curr * corrFactor);\n            }\n\n            this._value = _.reduce([this._value, value], cback);\n\n            return this;\n        },\n        difference: function(value) {\n            return Math.abs(numeral(this._value).subtract(value).value());\n        }\n    };\n\n    /************************************\n        Default Locale && Format\n    ************************************/\n\n    numeral.register('locale', 'en', {\n        delimiters: {\n            thousands: ',',\n            decimal: '.'\n        },\n        abbreviations: {\n            thousand: 'k',\n            million: 'm',\n            billion: 'b',\n            trillion: 't'\n        },\n        ordinal: function(number) {\n            var b = number % 10;\n            return (~~(number % 100 / 10) === 1) ? 'th' :\n                (b === 1) ? 'st' :\n                (b === 2) ? 'nd' :\n                (b === 3) ? 'rd' : 'th';\n        },\n        currency: {\n            symbol: '$'\n        }\n    });\n\n    \n\n(function() {\n        numeral.register('format', 'bps', {\n            regexps: {\n                format: /(BPS)/,\n                unformat: /(BPS)/\n            },\n            format: function(value, format, roundingFunction) {\n                var space = numeral._.includes(format, ' BPS') ? ' ' : '',\n                    output;\n\n                value = value * 10000;\n\n                // check for space before BPS\n                format = format.replace(/\\s?BPS/, '');\n\n                output = numeral._.numberToFormat(value, format, roundingFunction);\n\n                if (numeral._.includes(output, ')')) {\n                    output = output.split('');\n\n                    output.splice(-1, 0, space + 'BPS');\n\n                    output = output.join('');\n                } else {\n                    output = output + space + 'BPS';\n                }\n\n                return output;\n            },\n            unformat: function(string) {\n                return +(numeral._.stringToNumber(string) * 0.0001).toFixed(15);\n            }\n        });\n})();\n\n\n(function() {\n        var decimal = {\n            base: 1000,\n            suffixes: ['B', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB']\n        },\n        binary = {\n            base: 1024,\n            suffixes: ['B', 'KiB', 'MiB', 'GiB', 'TiB', 'PiB', 'EiB', 'ZiB', 'YiB']\n        };\n\n    var allSuffixes =  decimal.suffixes.concat(binary.suffixes.filter(function (item) {\n            return decimal.suffixes.indexOf(item) < 0;\n        }));\n        var unformatRegex = allSuffixes.join('|');\n        // Allow support for BPS (http://www.investopedia.com/terms/b/basispoint.asp)\n        unformatRegex = '(' + unformatRegex.replace('B', 'B(?!PS)') + ')';\n\n    numeral.register('format', 'bytes', {\n        regexps: {\n            format: /([0\\s]i?b)/,\n            unformat: new RegExp(unformatRegex)\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                bytes = numeral._.includes(format, 'ib') ? binary : decimal,\n                suffix = numeral._.includes(format, ' b') || numeral._.includes(format, ' ib') ? ' ' : '',\n                power,\n                min,\n                max;\n\n            // check for space before\n            format = format.replace(/\\s?i?b/, '');\n\n            for (power = 0; power <= bytes.suffixes.length; power++) {\n                min = Math.pow(bytes.base, power);\n                max = Math.pow(bytes.base, power + 1);\n\n                if (value === null || value === 0 || value >= min && value < max) {\n                    suffix += bytes.suffixes[power];\n\n                    if (min > 0) {\n                        value = value / min;\n                    }\n\n                    break;\n                }\n            }\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + suffix;\n        },\n        unformat: function(string) {\n            var value = numeral._.stringToNumber(string),\n                power,\n                bytesMultiplier;\n\n            if (value) {\n                for (power = decimal.suffixes.length - 1; power >= 0; power--) {\n                    if (numeral._.includes(string, decimal.suffixes[power])) {\n                        bytesMultiplier = Math.pow(decimal.base, power);\n\n                        break;\n                    }\n\n                    if (numeral._.includes(string, binary.suffixes[power])) {\n                        bytesMultiplier = Math.pow(binary.base, power);\n\n                        break;\n                    }\n                }\n\n                value *= (bytesMultiplier || 1);\n            }\n\n            return value;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'currency', {\n        regexps: {\n            format: /(\\$)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                symbols = {\n                    before: format.match(/^([\\+|\\-|\\(|\\s|\\$]*)/)[0],\n                    after: format.match(/([\\+|\\-|\\)|\\s|\\$]*)$/)[0]\n                },\n                output,\n                symbol,\n                i;\n\n            // strip format of spaces and $\n            format = format.replace(/\\s?\\$\\s?/, '');\n\n            // format the number\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            // update the before and after based on value\n            if (value >= 0) {\n                symbols.before = symbols.before.replace(/[\\-\\(]/, '');\n                symbols.after = symbols.after.replace(/[\\-\\)]/, '');\n            } else if (value < 0 && (!numeral._.includes(symbols.before, '-') && !numeral._.includes(symbols.before, '('))) {\n                symbols.before = '-' + symbols.before;\n            }\n\n            // loop through each before symbol\n            for (i = 0; i < symbols.before.length; i++) {\n                symbol = symbols.before[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = numeral._.insert(output, locale.currency.symbol, i);\n                        break;\n                    case ' ':\n                        output = numeral._.insert(output, ' ', i + locale.currency.symbol.length - 1);\n                        break;\n                }\n            }\n\n            // loop through each after symbol\n            for (i = symbols.after.length - 1; i >= 0; i--) {\n                symbol = symbols.after[i];\n\n                switch (symbol) {\n                    case '$':\n                        output = i === symbols.after.length - 1 ? output + locale.currency.symbol : numeral._.insert(output, locale.currency.symbol, -(symbols.after.length - (1 + i)));\n                        break;\n                    case ' ':\n                        output = i === symbols.after.length - 1 ? output + ' ' : numeral._.insert(output, ' ', -(symbols.after.length - (1 + i) + locale.currency.symbol.length - 1));\n                        break;\n                }\n            }\n\n\n            return output;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'exponential', {\n        regexps: {\n            format: /(e\\+|e-)/,\n            unformat: /(e\\+|e-)/\n        },\n        format: function(value, format, roundingFunction) {\n            var output,\n                exponential = typeof value === 'number' && !numeral._.isNaN(value) ? value.toExponential() : '0e+0',\n                parts = exponential.split('e');\n\n            format = format.replace(/e[\\+|\\-]{1}0/, '');\n\n            output = numeral._.numberToFormat(Number(parts[0]), format, roundingFunction);\n\n            return output + 'e' + parts[1];\n        },\n        unformat: function(string) {\n            var parts = numeral._.includes(string, 'e+') ? string.split('e+') : string.split('e-'),\n                value = Number(parts[0]),\n                power = Number(parts[1]);\n\n            power = numeral._.includes(string, 'e-') ? power *= -1 : power;\n\n            function cback(accum, curr, currI, O) {\n                var corrFactor = numeral._.correctionFactor(accum, curr),\n                    num = (accum * corrFactor) * (curr * corrFactor) / (corrFactor * corrFactor);\n                return num;\n            }\n\n            return numeral._.reduce([value, Math.pow(10, power)], cback, 1);\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'ordinal', {\n        regexps: {\n            format: /(o)/\n        },\n        format: function(value, format, roundingFunction) {\n            var locale = numeral.locales[numeral.options.currentLocale],\n                output,\n                ordinal = numeral._.includes(format, ' o') ? ' ' : '';\n\n            // check for space before\n            format = format.replace(/\\s?o/, '');\n\n            ordinal += locale.ordinal(value);\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            return output + ordinal;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'percentage', {\n        regexps: {\n            format: /(%)/,\n            unformat: /(%)/\n        },\n        format: function(value, format, roundingFunction) {\n            var space = numeral._.includes(format, ' %') ? ' ' : '',\n                output;\n\n            if (numeral.options.scalePercentBy100) {\n                value = value * 100;\n            }\n\n            // check for space before %\n            format = format.replace(/\\s?\\%/, '');\n\n            output = numeral._.numberToFormat(value, format, roundingFunction);\n\n            if (numeral._.includes(output, ')')) {\n                output = output.split('');\n\n                output.splice(-1, 0, space + '%');\n\n                output = output.join('');\n            } else {\n                output = output + space + '%';\n            }\n\n            return output;\n        },\n        unformat: function(string) {\n            var number = numeral._.stringToNumber(string);\n            if (numeral.options.scalePercentBy100) {\n                return number * 0.01;\n            }\n            return number;\n        }\n    });\n})();\n\n\n(function() {\n        numeral.register('format', 'time', {\n        regexps: {\n            format: /(:)/,\n            unformat: /(:)/\n        },\n        format: function(value, format, roundingFunction) {\n            var hours = Math.floor(value / 60 / 60),\n                minutes = Math.floor((value - (hours * 60 * 60)) / 60),\n                seconds = Math.round(value - (hours * 60 * 60) - (minutes * 60));\n\n            return hours + ':' + (minutes < 10 ? '0' + minutes : minutes) + ':' + (seconds < 10 ? '0' + seconds : seconds);\n        },\n        unformat: function(string) {\n            var timeArray = string.split(':'),\n                seconds = 0;\n\n            // turn hours and minutes into seconds and add them all up\n            if (timeArray.length === 3) {\n                // hours\n                seconds = seconds + (Number(timeArray[0]) * 60 * 60);\n                // minutes\n                seconds = seconds + (Number(timeArray[1]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[2]);\n            } else if (timeArray.length === 2) {\n                // minutes\n                seconds = seconds + (Number(timeArray[0]) * 60);\n                // seconds\n                seconds = seconds + Number(timeArray[1]);\n            }\n            return Number(seconds);\n        }\n    });\n})();\n\nreturn numeral;\n}));\n","import * as React from 'react';\n/**\n * @ignore - internal component.\n */\n\nconst StepContext = /*#__PURE__*/React.createContext({});\n\nif (process.env.NODE_ENV !== 'production') {\n  StepContext.displayName = 'StepContext';\n}\n\nexport default StepContext;","var data = {\n\t\"body\": \"<path fill=\\\"currentColor\\\" d=\\\"M9.86 18a1 1 0 0 1-.73-.32l-4.86-5.17a1 1 0 1 1 1.46-1.37l4.12 4.39l8.41-9.2a1 1 0 1 1 1.48 1.34l-9.14 10a1 1 0 0 1-.73.33z\\\"/>\",\n\t\"width\": 24,\n\t\"height\": 24\n};\nexports.__esModule = true;\nexports.default = data;\n","import axios from \"axios\";\nimport { useEffect, useState } from \"react\";\nimport { PATH_API_USER, PATH_AVATAR_LOADING } from \"../../routes/paths\";\nimport { ApiResponse } from \"../../types/ApiResponse\";\nimport { Profile } from \"../../types/user/Profile\";\n\nconst initialState: Profile = {\n  username: \"加载中...\",\n  avatar: PATH_AVATAR_LOADING,\n  email: \"加载中...\",\n  location: \"加载中...\",\n  contacts: {\n    wechat: null,\n    weibo: null,\n  },\n  respondentProfile: {\n    description: \"加载中...\",\n    specialities: [],\n    rating: 0,\n    answerCount: 0,\n    fee: 0,\n    detail: \"加载中...\",\n    pinnedAnswers: [],\n  },\n};\n\nconst useProfile = (username: string): Profile => {\n  const [profile, setProfile] = useState(initialState);\n\n  useEffect(() => {\n    axios\n      .get(PATH_API_USER.profile(username))\n      .then(response => {\n        const data = response.data as ApiResponse<Profile>;\n        setProfile(data.data);\n      })\n      .catch(exception => {\n        console.log(exception);\n        throw exception;\n      });\n  }, [username]);\n\n  return profile;\n};\nexport default useProfile;\n","import { useEffect, useState } from \"react\";\nimport Vditor from \"vditor\";\nimport \"vditor/dist/index.css\";\nimport useAppearance from \"../../../hooks/useAppearance\";\nimport { Resource } from \"../../../hooks/useFileUpload\";\nimport useAuth from \"../../../hooks/user/useAuth\";\nimport { ApiResponse } from \"../../../types/ApiResponse\";\n\nexport type MarkdownEditorProps = {\n  height: number;\n  value: string;\n  onChange: (value: string) => void;\n};\n\nconst MarkdownEditor = ({\n  height,\n  value,\n  onChange,\n}: MarkdownEditorProps): JSX.Element => {\n  const appearance = useAppearance();\n  const auth = useAuth();\n  const [, setVditor] = useState<Vditor | null>(null);\n\n  useEffect(() => {\n    const vditor = new Vditor(\"markdown-editor\", {\n      height,\n      placeholder: \"TODO 这里填什么啊？\",\n      toolbar: [\n        \"headings\",\n        \"bold\",\n        \"italic\",\n        \"strike\",\n        \"|\",\n        \"line\",\n        \"quote\",\n        \"link\",\n        \"inline-code\",\n        \"code\",\n        \"table\",\n        \"emoji\",\n        \"upload\",\n        \"|\",\n        \"list\",\n        \"ordered-list\",\n        \"check\",\n        \"outdent\",\n        \"indent\",\n        \"|\",\n        \"edit-mode\",\n        \"undo\",\n        \"redo\",\n        \"export\",\n        \"fullscreen\",\n        \"|\",\n        \"info\",\n        \"help\",\n      ],\n      counter: { enable: true },\n      cache: { enable: false },\n      mode: \"ir\",\n      preview: {\n        hljs: {\n          lineNumber: true,\n          style: appearance.getThemeMode() === \"light\" ? \"github\" : \"dracula\",\n        },\n        math: { inlineDigit: true },\n        theme: { current: appearance.getThemeMode() },\n      },\n      theme: appearance.getThemeMode() === \"light\" ? \"classic\" : \"dark\",\n      icon: \"material\",\n      upload: {\n        url: \"/api/upload\",\n        headers: (() => {\n          const accessToken = auth.getAccessToken();\n          return accessToken === null\n            ? undefined\n            : { Authorization: accessToken };\n        })(),\n        fieldName: \"files\",\n        filename: filename => filename,\n        format(files, response_) {\n          const response = JSON.parse(response_) as ApiResponse<Resource[]>;\n          const failed: string[] = [];\n          const success: Record<string, string> = {};\n          response.data.forEach(({ filename, url }) => {\n            if (url === undefined) {\n              failed.push(filename);\n            } else {\n              success[filename] = url;\n            }\n          });\n          return JSON.stringify({\n            msg: \"\",\n            code: 0,\n            data: {\n              errFiles: failed,\n              succMap: success,\n            },\n          });\n        },\n      },\n      tab: \"  \",\n      input() {\n        onChange(vditor.getValue()); // TODO 在空内容的时候切主题貌似还是有问题\n      },\n      value,\n    });\n    setVditor(vditor);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [appearance, auth, height, onChange]);\n  return <div id=\"markdown-editor\" />;\n};\nexport default MarkdownEditor;\n","/*!\n * Vditor v3.8.7 - A markdown editor written in TypeScript.\n *\n * MIT License\n *\n * Copyright (c) 2018-present B3log 开源, b3log.org\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the \"Software\"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n *\n */\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Vditor\"] = factory();\n\telse\n\t\troot[\"Vditor\"] = factory();\n})(this, function() {\nreturn /******/ (() => { // webpackBootstrap\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ 694:\n/***/ ((module) => {\n\n/**\n * Diff Match and Patch\n * Copyright 2018 The diff-match-patch Authors.\n * https://github.com/google/diff-match-patch\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/**\n * @fileoverview Computes the difference between two texts to create a patch.\n * Applies the patch onto another text, allowing for errors.\n * @author fraser@google.com (Neil Fraser)\n */\n\n/**\n * Class containing the diff, match and patch methods.\n * @constructor\n */\nvar diff_match_patch = function () {\n  // Defaults.\n  // Redefine these in your program to override the defaults.\n  // Number of seconds to map a diff before giving up (0 for infinity).\n  this.Diff_Timeout = 1.0; // Cost of an empty edit operation in terms of edit characters.\n\n  this.Diff_EditCost = 4; // At what point is no match declared (0.0 = perfection, 1.0 = very loose).\n\n  this.Match_Threshold = 0.5; // How far to search for a match (0 = exact location, 1000+ = broad match).\n  // A match this many characters away from the expected location will add\n  // 1.0 to the score (0.0 is a perfect match).\n\n  this.Match_Distance = 1000; // When deleting a large block of text (over ~64 characters), how close do\n  // the contents have to be to match the expected contents. (0.0 = perfection,\n  // 1.0 = very loose).  Note that Match_Threshold controls how closely the\n  // end points of a delete need to match.\n\n  this.Patch_DeleteThreshold = 0.5; // Chunk size for context length.\n\n  this.Patch_Margin = 4; // The number of bits in an int.\n\n  this.Match_MaxBits = 32;\n}; //  DIFF FUNCTIONS\n\n/**\n * The data structure representing a diff is an array of tuples:\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\n */\n\n\nvar DIFF_DELETE = -1;\nvar DIFF_INSERT = 1;\nvar DIFF_EQUAL = 0;\n/**\n * Class representing one diff tuple.\n * ~Attempts to look like a two-element array (which is what this used to be).~\n * Constructor returns an actual two-element array, to allow destructing @JackuB\n * See https://github.com/JackuB/diff-match-patch/issues/14 for details\n * @param {number} op Operation, one of: DIFF_DELETE, DIFF_INSERT, DIFF_EQUAL.\n * @param {string} text Text to be deleted, inserted, or retained.\n * @constructor\n */\n\ndiff_match_patch.Diff = function (op, text) {\n  return [op, text];\n};\n/**\n * Find the differences between two texts.  Simplifies the problem by stripping\n * any common prefix or suffix off the texts before diffing.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean=} opt_checklines Optional speedup flag. If present and false,\n *     then don't run a line-level diff first to identify the changed areas.\n *     Defaults to true, which does a faster, slightly less optimal diff.\n * @param {number=} opt_deadline Optional time when the diff should be complete\n *     by.  Used internally for recursive calls.  Users should set DiffTimeout\n *     instead.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_main = function (text1, text2, opt_checklines, opt_deadline) {\n  // Set a deadline by which time the diff must be complete.\n  if (typeof opt_deadline == 'undefined') {\n    if (this.Diff_Timeout <= 0) {\n      opt_deadline = Number.MAX_VALUE;\n    } else {\n      opt_deadline = new Date().getTime() + this.Diff_Timeout * 1000;\n    }\n  }\n\n  var deadline = opt_deadline; // Check for null inputs.\n\n  if (text1 == null || text2 == null) {\n    throw new Error('Null input. (diff_main)');\n  } // Check for equality (speedup).\n\n\n  if (text1 == text2) {\n    if (text1) {\n      return [new diff_match_patch.Diff(DIFF_EQUAL, text1)];\n    }\n\n    return [];\n  }\n\n  if (typeof opt_checklines == 'undefined') {\n    opt_checklines = true;\n  }\n\n  var checklines = opt_checklines; // Trim off common prefix (speedup).\n\n  var commonlength = this.diff_commonPrefix(text1, text2);\n  var commonprefix = text1.substring(0, commonlength);\n  text1 = text1.substring(commonlength);\n  text2 = text2.substring(commonlength); // Trim off common suffix (speedup).\n\n  commonlength = this.diff_commonSuffix(text1, text2);\n  var commonsuffix = text1.substring(text1.length - commonlength);\n  text1 = text1.substring(0, text1.length - commonlength);\n  text2 = text2.substring(0, text2.length - commonlength); // Compute the diff on the middle block.\n\n  var diffs = this.diff_compute_(text1, text2, checklines, deadline); // Restore the prefix and suffix.\n\n  if (commonprefix) {\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, commonprefix));\n  }\n\n  if (commonsuffix) {\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, commonsuffix));\n  }\n\n  this.diff_cleanupMerge(diffs);\n  return diffs;\n};\n/**\n * Find the differences between two texts.  Assumes that the texts do not\n * have any common prefix or suffix.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {boolean} checklines Speedup flag.  If false, then don't run a\n *     line-level diff first to identify the changed areas.\n *     If true, then run a faster, slightly less optimal diff.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_compute_ = function (text1, text2, checklines, deadline) {\n  var diffs;\n\n  if (!text1) {\n    // Just add some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  }\n\n  if (!text2) {\n    // Just delete some text (speedup).\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1)];\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n  var i = longtext.indexOf(shorttext);\n\n  if (i != -1) {\n    // Shorter text is inside the longer text (speedup).\n    diffs = [new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(0, i)), new diff_match_patch.Diff(DIFF_EQUAL, shorttext), new diff_match_patch.Diff(DIFF_INSERT, longtext.substring(i + shorttext.length))]; // Swap insertions for deletions if diff is reversed.\n\n    if (text1.length > text2.length) {\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\n    }\n\n    return diffs;\n  }\n\n  if (shorttext.length == 1) {\n    // Single character string.\n    // After the previous speedup, the character can't be an equality.\n    return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n  } // Check to see if the problem can be split in two.\n\n\n  var hm = this.diff_halfMatch_(text1, text2);\n\n  if (hm) {\n    // A half-match was found, sort out the return data.\n    var text1_a = hm[0];\n    var text1_b = hm[1];\n    var text2_a = hm[2];\n    var text2_b = hm[3];\n    var mid_common = hm[4]; // Send both pairs off for separate processing.\n\n    var diffs_a = this.diff_main(text1_a, text2_a, checklines, deadline);\n    var diffs_b = this.diff_main(text1_b, text2_b, checklines, deadline); // Merge the results.\n\n    return diffs_a.concat([new diff_match_patch.Diff(DIFF_EQUAL, mid_common)], diffs_b);\n  }\n\n  if (checklines && text1.length > 100 && text2.length > 100) {\n    return this.diff_lineMode_(text1, text2, deadline);\n  }\n\n  return this.diff_bisect_(text1, text2, deadline);\n};\n/**\n * Do a quick line-level diff on both strings, then rediff the parts for\n * greater accuracy.\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time when the diff should be complete by.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_lineMode_ = function (text1, text2, deadline) {\n  // Scan the text on a line-by-line basis first.\n  var a = this.diff_linesToChars_(text1, text2);\n  text1 = a.chars1;\n  text2 = a.chars2;\n  var linearray = a.lineArray;\n  var diffs = this.diff_main(text1, text2, false, deadline); // Convert the diff back to original text.\n\n  this.diff_charsToLines_(diffs, linearray); // Eliminate freak matches (e.g. blank lines)\n\n  this.diff_cleanupSemantic(diffs); // Rediff any replacement blocks, this time character-by-character.\n  // Add a dummy entry at the end.\n\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        break;\n\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        break;\n\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete >= 1 && count_insert >= 1) {\n          // Delete the offending records and add the merged ones.\n          diffs.splice(pointer - count_delete - count_insert, count_delete + count_insert);\n          pointer = pointer - count_delete - count_insert;\n          var subDiff = this.diff_main(text_delete, text_insert, false, deadline);\n\n          for (var j = subDiff.length - 1; j >= 0; j--) {\n            diffs.splice(pointer, 0, subDiff[j]);\n          }\n\n          pointer = pointer + subDiff.length;\n        }\n\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n\n    pointer++;\n  }\n\n  diffs.pop(); // Remove the dummy entry at the end.\n\n  return diffs;\n};\n/**\n * Find the 'middle snake' of a diff, split the problem in two\n * and return the recursively constructed diff.\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_bisect_ = function (text1, text2, deadline) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length;\n  var max_d = Math.ceil((text1_length + text2_length) / 2);\n  var v_offset = max_d;\n  var v_length = 2 * max_d;\n  var v1 = new Array(v_length);\n  var v2 = new Array(v_length); // Setting all elements to -1 is faster in Chrome & Firefox than mixing\n  // integers and undefined.\n\n  for (var x = 0; x < v_length; x++) {\n    v1[x] = -1;\n    v2[x] = -1;\n  }\n\n  v1[v_offset + 1] = 0;\n  v2[v_offset + 1] = 0;\n  var delta = text1_length - text2_length; // If the total number of characters is odd, then the front path will collide\n  // with the reverse path.\n\n  var front = delta % 2 != 0; // Offsets for start and end of k loop.\n  // Prevents mapping of space beyond the grid.\n\n  var k1start = 0;\n  var k1end = 0;\n  var k2start = 0;\n  var k2end = 0;\n\n  for (var d = 0; d < max_d; d++) {\n    // Bail out if deadline is reached.\n    if (new Date().getTime() > deadline) {\n      break;\n    } // Walk the front path one step.\n\n\n    for (var k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\n      var k1_offset = v_offset + k1;\n      var x1;\n\n      if (k1 == -d || k1 != d && v1[k1_offset - 1] < v1[k1_offset + 1]) {\n        x1 = v1[k1_offset + 1];\n      } else {\n        x1 = v1[k1_offset - 1] + 1;\n      }\n\n      var y1 = x1 - k1;\n\n      while (x1 < text1_length && y1 < text2_length && text1.charAt(x1) == text2.charAt(y1)) {\n        x1++;\n        y1++;\n      }\n\n      v1[k1_offset] = x1;\n\n      if (x1 > text1_length) {\n        // Ran off the right of the graph.\n        k1end += 2;\n      } else if (y1 > text2_length) {\n        // Ran off the bottom of the graph.\n        k1start += 2;\n      } else if (front) {\n        var k2_offset = v_offset + delta - k1;\n\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] != -1) {\n          // Mirror x2 onto top-left coordinate system.\n          var x2 = text1_length - v2[k2_offset];\n\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    } // Walk the reverse path one step.\n\n\n    for (var k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\n      var k2_offset = v_offset + k2;\n      var x2;\n\n      if (k2 == -d || k2 != d && v2[k2_offset - 1] < v2[k2_offset + 1]) {\n        x2 = v2[k2_offset + 1];\n      } else {\n        x2 = v2[k2_offset - 1] + 1;\n      }\n\n      var y2 = x2 - k2;\n\n      while (x2 < text1_length && y2 < text2_length && text1.charAt(text1_length - x2 - 1) == text2.charAt(text2_length - y2 - 1)) {\n        x2++;\n        y2++;\n      }\n\n      v2[k2_offset] = x2;\n\n      if (x2 > text1_length) {\n        // Ran off the left of the graph.\n        k2end += 2;\n      } else if (y2 > text2_length) {\n        // Ran off the top of the graph.\n        k2start += 2;\n      } else if (!front) {\n        var k1_offset = v_offset + delta - k2;\n\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] != -1) {\n          var x1 = v1[k1_offset];\n          var y1 = v_offset + x1 - k1_offset; // Mirror x2 onto top-left coordinate system.\n\n          x2 = text1_length - x2;\n\n          if (x1 >= x2) {\n            // Overlap detected.\n            return this.diff_bisectSplit_(text1, text2, x1, y1, deadline);\n          }\n        }\n      }\n    }\n  } // Diff took too long and hit the deadline or\n  // number of diffs equals number of characters, no commonality at all.\n\n\n  return [new diff_match_patch.Diff(DIFF_DELETE, text1), new diff_match_patch.Diff(DIFF_INSERT, text2)];\n};\n/**\n * Given the location of the 'middle snake', split the diff in two parts\n * and recurse.\n * @param {string} text1 Old string to be diffed.\n * @param {string} text2 New string to be diffed.\n * @param {number} x Index of split point in text1.\n * @param {number} y Index of split point in text2.\n * @param {number} deadline Time at which to bail if not yet complete.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_bisectSplit_ = function (text1, text2, x, y, deadline) {\n  var text1a = text1.substring(0, x);\n  var text2a = text2.substring(0, y);\n  var text1b = text1.substring(x);\n  var text2b = text2.substring(y); // Compute both diffs serially.\n\n  var diffs = this.diff_main(text1a, text2a, false, deadline);\n  var diffsb = this.diff_main(text1b, text2b, false, deadline);\n  return diffs.concat(diffsb);\n};\n/**\n * Split two texts into an array of strings.  Reduce the texts to a string of\n * hashes where each Unicode character represents one line.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {{chars1: string, chars2: string, lineArray: !Array.<string>}}\n *     An object containing the encoded text1, the encoded text2 and\n *     the array of unique strings.\n *     The zeroth element of the array of unique strings is intentionally blank.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_linesToChars_ = function (text1, text2) {\n  var lineArray = []; // e.g. lineArray[4] == 'Hello\\n'\n\n  var lineHash = {}; // e.g. lineHash['Hello\\n'] == 4\n  // '\\x00' is a valid character, but various debuggers don't like it.\n  // So we'll insert a junk entry to avoid generating a null character.\n\n  lineArray[0] = '';\n  /**\n   * Split a text into an array of strings.  Reduce the texts to a string of\n   * hashes where each Unicode character represents one line.\n   * Modifies linearray and linehash through being a closure.\n   * @param {string} text String to encode.\n   * @return {string} Encoded string.\n   * @private\n   */\n\n  function diff_linesToCharsMunge_(text) {\n    var chars = ''; // Walk the text, pulling out a substring for each line.\n    // text.split('\\n') would would temporarily double our memory footprint.\n    // Modifying text would create many large strings to garbage collect.\n\n    var lineStart = 0;\n    var lineEnd = -1; // Keeping our own length variable is faster than looking it up.\n\n    var lineArrayLength = lineArray.length;\n\n    while (lineEnd < text.length - 1) {\n      lineEnd = text.indexOf('\\n', lineStart);\n\n      if (lineEnd == -1) {\n        lineEnd = text.length - 1;\n      }\n\n      var line = text.substring(lineStart, lineEnd + 1);\n\n      if (lineHash.hasOwnProperty ? lineHash.hasOwnProperty(line) : lineHash[line] !== undefined) {\n        chars += String.fromCharCode(lineHash[line]);\n      } else {\n        if (lineArrayLength == maxLines) {\n          // Bail out at 65535 because\n          // String.fromCharCode(65536) == String.fromCharCode(0)\n          line = text.substring(lineStart);\n          lineEnd = text.length;\n        }\n\n        chars += String.fromCharCode(lineArrayLength);\n        lineHash[line] = lineArrayLength;\n        lineArray[lineArrayLength++] = line;\n      }\n\n      lineStart = lineEnd + 1;\n    }\n\n    return chars;\n  } // Allocate 2/3rds of the space for text1, the rest for text2.\n\n\n  var maxLines = 40000;\n  var chars1 = diff_linesToCharsMunge_(text1);\n  maxLines = 65535;\n  var chars2 = diff_linesToCharsMunge_(text2);\n  return {\n    chars1: chars1,\n    chars2: chars2,\n    lineArray: lineArray\n  };\n};\n/**\n * Rehydrate the text in a diff from a string of line hashes to real lines of\n * text.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {!Array.<string>} lineArray Array of unique strings.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_charsToLines_ = function (diffs, lineArray) {\n  for (var i = 0; i < diffs.length; i++) {\n    var chars = diffs[i][1];\n    var text = [];\n\n    for (var j = 0; j < chars.length; j++) {\n      text[j] = lineArray[chars.charCodeAt(j)];\n    }\n\n    diffs[i][1] = text.join('');\n  }\n};\n/**\n * Determine the common prefix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the start of each\n *     string.\n */\n\n\ndiff_match_patch.prototype.diff_commonPrefix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(0) != text2.charAt(0)) {\n    return 0;\n  } // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\n\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerstart = 0;\n\n  while (pointermin < pointermid) {\n    if (text1.substring(pointerstart, pointermid) == text2.substring(pointerstart, pointermid)) {\n      pointermin = pointermid;\n      pointerstart = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  return pointermid;\n};\n/**\n * Determine the common suffix of two strings.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of each string.\n */\n\n\ndiff_match_patch.prototype.diff_commonSuffix = function (text1, text2) {\n  // Quick check for common null cases.\n  if (!text1 || !text2 || text1.charAt(text1.length - 1) != text2.charAt(text2.length - 1)) {\n    return 0;\n  } // Binary search.\n  // Performance analysis: https://neil.fraser.name/news/2007/10/09/\n\n\n  var pointermin = 0;\n  var pointermax = Math.min(text1.length, text2.length);\n  var pointermid = pointermax;\n  var pointerend = 0;\n\n  while (pointermin < pointermid) {\n    if (text1.substring(text1.length - pointermid, text1.length - pointerend) == text2.substring(text2.length - pointermid, text2.length - pointerend)) {\n      pointermin = pointermid;\n      pointerend = pointermin;\n    } else {\n      pointermax = pointermid;\n    }\n\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\n  }\n\n  return pointermid;\n};\n/**\n * Determine if the suffix of one string is the prefix of another.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {number} The number of characters common to the end of the first\n *     string and the start of the second string.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_commonOverlap_ = function (text1, text2) {\n  // Cache the text lengths to prevent multiple calls.\n  var text1_length = text1.length;\n  var text2_length = text2.length; // Eliminate the null case.\n\n  if (text1_length == 0 || text2_length == 0) {\n    return 0;\n  } // Truncate the longer string.\n\n\n  if (text1_length > text2_length) {\n    text1 = text1.substring(text1_length - text2_length);\n  } else if (text1_length < text2_length) {\n    text2 = text2.substring(0, text1_length);\n  }\n\n  var text_length = Math.min(text1_length, text2_length); // Quick check for the worst case.\n\n  if (text1 == text2) {\n    return text_length;\n  } // Start by looking for a single character match\n  // and increase length until no match is found.\n  // Performance analysis: https://neil.fraser.name/news/2010/11/04/\n\n\n  var best = 0;\n  var length = 1;\n\n  while (true) {\n    var pattern = text1.substring(text_length - length);\n    var found = text2.indexOf(pattern);\n\n    if (found == -1) {\n      return best;\n    }\n\n    length += found;\n\n    if (found == 0 || text1.substring(text_length - length) == text2.substring(0, length)) {\n      best = length;\n      length++;\n    }\n  }\n};\n/**\n * Do the two texts share a substring which is at least half the length of the\n * longer text?\n * This speedup can produce non-minimal diffs.\n * @param {string} text1 First string.\n * @param {string} text2 Second string.\n * @return {Array.<string>} Five element Array, containing the prefix of\n *     text1, the suffix of text1, the prefix of text2, the suffix of\n *     text2 and the common middle.  Or null if there was no match.\n * @private\n */\n\n\ndiff_match_patch.prototype.diff_halfMatch_ = function (text1, text2) {\n  if (this.Diff_Timeout <= 0) {\n    // Don't risk returning a non-optimal diff if we have unlimited time.\n    return null;\n  }\n\n  var longtext = text1.length > text2.length ? text1 : text2;\n  var shorttext = text1.length > text2.length ? text2 : text1;\n\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\n    return null; // Pointless.\n  }\n\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Does a substring of shorttext exist within longtext such that the substring\n   * is at least half the length of longtext?\n   * Closure, but does not reference any external variables.\n   * @param {string} longtext Longer string.\n   * @param {string} shorttext Shorter string.\n   * @param {number} i Start index of quarter length substring within longtext.\n   * @return {Array.<string>} Five element Array, containing the prefix of\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\n   *     of shorttext and the common middle.  Or null if there was no match.\n   * @private\n   */\n\n  function diff_halfMatchI_(longtext, shorttext, i) {\n    // Start with a 1/4 length substring at position i as a seed.\n    var seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\n    var j = -1;\n    var best_common = '';\n    var best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\n\n    while ((j = shorttext.indexOf(seed, j + 1)) != -1) {\n      var prefixLength = dmp.diff_commonPrefix(longtext.substring(i), shorttext.substring(j));\n      var suffixLength = dmp.diff_commonSuffix(longtext.substring(0, i), shorttext.substring(0, j));\n\n      if (best_common.length < suffixLength + prefixLength) {\n        best_common = shorttext.substring(j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\n        best_longtext_a = longtext.substring(0, i - suffixLength);\n        best_longtext_b = longtext.substring(i + prefixLength);\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\n        best_shorttext_b = shorttext.substring(j + prefixLength);\n      }\n    }\n\n    if (best_common.length * 2 >= longtext.length) {\n      return [best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b, best_common];\n    } else {\n      return null;\n    }\n  } // First check if the second quarter is the seed for a half-match.\n\n\n  var hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4)); // Check again based on the third quarter.\n\n  var hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\n  var hm;\n\n  if (!hm1 && !hm2) {\n    return null;\n  } else if (!hm2) {\n    hm = hm1;\n  } else if (!hm1) {\n    hm = hm2;\n  } else {\n    // Both matched.  Select the longest.\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\n  } // A half-match was found, sort out the return data.\n\n\n  var text1_a, text1_b, text2_a, text2_b;\n\n  if (text1.length > text2.length) {\n    text1_a = hm[0];\n    text1_b = hm[1];\n    text2_a = hm[2];\n    text2_b = hm[3];\n  } else {\n    text2_a = hm[0];\n    text2_b = hm[1];\n    text1_a = hm[2];\n    text1_b = hm[3];\n  }\n\n  var mid_common = hm[4];\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\n};\n/**\n * Reduce the number of edits by eliminating semantically trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupSemantic = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n\n  /** @type {?string} */\n\n  var lastEquality = null; // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\n  var pointer = 0; // Index of current position.\n  // Number of characters that changed prior to the equality.\n\n  var length_insertions1 = 0;\n  var length_deletions1 = 0; // Number of characters that changed after the equality.\n\n  var length_insertions2 = 0;\n  var length_deletions2 = 0;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      equalities[equalitiesLength++] = pointer;\n      length_insertions1 = length_insertions2;\n      length_deletions1 = length_deletions2;\n      length_insertions2 = 0;\n      length_deletions2 = 0;\n      lastEquality = diffs[pointer][1];\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_INSERT) {\n        length_insertions2 += diffs[pointer][1].length;\n      } else {\n        length_deletions2 += diffs[pointer][1].length;\n      } // Eliminate an equality that is smaller or equal to the edits on both\n      // sides of it.\n\n\n      if (lastEquality && lastEquality.length <= Math.max(length_insertions1, length_deletions1) && lastEquality.length <= Math.max(length_insertions2, length_deletions2)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality)); // Change second copy to insert.\n\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT; // Throw away the equality we just deleted.\n\n        equalitiesLength--; // Throw away the previous equality (it needs to be reevaluated).\n\n        equalitiesLength--;\n        pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n        length_insertions1 = 0; // Reset the counters.\n\n        length_deletions1 = 0;\n        length_insertions2 = 0;\n        length_deletions2 = 0;\n        lastEquality = null;\n        changes = true;\n      }\n    }\n\n    pointer++;\n  } // Normalize the diff.\n\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n\n  this.diff_cleanupSemanticLossless(diffs); // Find any overlaps between deletions and insertions.\n  // e.g: <del>abcxxx</del><ins>xxxdef</ins>\n  //   -> <del>abc</del>xxx<ins>def</ins>\n  // e.g: <del>xxxabc</del><ins>defxxx</ins>\n  //   -> <ins>def</ins>xxx<del>abc</del>\n  // Only extract an overlap if it is as big as the edit ahead or behind it.\n\n  pointer = 1;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer - 1][0] == DIFF_DELETE && diffs[pointer][0] == DIFF_INSERT) {\n      var deletion = diffs[pointer - 1][1];\n      var insertion = diffs[pointer][1];\n      var overlap_length1 = this.diff_commonOverlap_(deletion, insertion);\n      var overlap_length2 = this.diff_commonOverlap_(insertion, deletion);\n\n      if (overlap_length1 >= overlap_length2) {\n        if (overlap_length1 >= deletion.length / 2 || overlap_length1 >= insertion.length / 2) {\n          // Overlap found.  Insert an equality and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, insertion.substring(0, overlap_length1)));\n          diffs[pointer - 1][1] = deletion.substring(0, deletion.length - overlap_length1);\n          diffs[pointer + 1][1] = insertion.substring(overlap_length1);\n          pointer++;\n        }\n      } else {\n        if (overlap_length2 >= deletion.length / 2 || overlap_length2 >= insertion.length / 2) {\n          // Reverse overlap found.\n          // Insert an equality and swap and trim the surrounding edits.\n          diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_EQUAL, deletion.substring(0, overlap_length2)));\n          diffs[pointer - 1][0] = DIFF_INSERT;\n          diffs[pointer - 1][1] = insertion.substring(0, insertion.length - overlap_length2);\n          diffs[pointer + 1][0] = DIFF_DELETE;\n          diffs[pointer + 1][1] = deletion.substring(overlap_length2);\n          pointer++;\n        }\n      }\n\n      pointer++;\n    }\n\n    pointer++;\n  }\n};\n/**\n * Look for single edits surrounded on both sides by equalities\n * which can be shifted sideways to align the edit to a word boundary.\n * e.g: The c<ins>at c</ins>ame. -> The <ins>cat </ins>came.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupSemanticLossless = function (diffs) {\n  /**\n   * Given two strings, compute a score representing whether the internal\n   * boundary falls on logical boundaries.\n   * Scores range from 6 (best) to 0 (worst).\n   * Closure, but does not reference any external variables.\n   * @param {string} one First string.\n   * @param {string} two Second string.\n   * @return {number} The score.\n   * @private\n   */\n  function diff_cleanupSemanticScore_(one, two) {\n    if (!one || !two) {\n      // Edges are the best.\n      return 6;\n    } // Each port of this function behaves slightly differently due to\n    // subtle differences in each language's definition of things like\n    // 'whitespace'.  Since this function's purpose is largely cosmetic,\n    // the choice has been made to use each language's native features\n    // rather than force total conformity.\n\n\n    var char1 = one.charAt(one.length - 1);\n    var char2 = two.charAt(0);\n    var nonAlphaNumeric1 = char1.match(diff_match_patch.nonAlphaNumericRegex_);\n    var nonAlphaNumeric2 = char2.match(diff_match_patch.nonAlphaNumericRegex_);\n    var whitespace1 = nonAlphaNumeric1 && char1.match(diff_match_patch.whitespaceRegex_);\n    var whitespace2 = nonAlphaNumeric2 && char2.match(diff_match_patch.whitespaceRegex_);\n    var lineBreak1 = whitespace1 && char1.match(diff_match_patch.linebreakRegex_);\n    var lineBreak2 = whitespace2 && char2.match(diff_match_patch.linebreakRegex_);\n    var blankLine1 = lineBreak1 && one.match(diff_match_patch.blanklineEndRegex_);\n    var blankLine2 = lineBreak2 && two.match(diff_match_patch.blanklineStartRegex_);\n\n    if (blankLine1 || blankLine2) {\n      // Five points for blank lines.\n      return 5;\n    } else if (lineBreak1 || lineBreak2) {\n      // Four points for line breaks.\n      return 4;\n    } else if (nonAlphaNumeric1 && !whitespace1 && whitespace2) {\n      // Three points for end of sentences.\n      return 3;\n    } else if (whitespace1 || whitespace2) {\n      // Two points for whitespace.\n      return 2;\n    } else if (nonAlphaNumeric1 || nonAlphaNumeric2) {\n      // One point for non-alphanumeric.\n      return 1;\n    }\n\n    return 0;\n  }\n\n  var pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      var equality1 = diffs[pointer - 1][1];\n      var edit = diffs[pointer][1];\n      var equality2 = diffs[pointer + 1][1]; // First, shift the edit as far left as possible.\n\n      var commonOffset = this.diff_commonSuffix(equality1, edit);\n\n      if (commonOffset) {\n        var commonString = edit.substring(edit.length - commonOffset);\n        equality1 = equality1.substring(0, equality1.length - commonOffset);\n        edit = commonString + edit.substring(0, edit.length - commonOffset);\n        equality2 = commonString + equality2;\n      } // Second, step character by character right, looking for the best fit.\n\n\n      var bestEquality1 = equality1;\n      var bestEdit = edit;\n      var bestEquality2 = equality2;\n      var bestScore = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2);\n\n      while (edit.charAt(0) === equality2.charAt(0)) {\n        equality1 += edit.charAt(0);\n        edit = edit.substring(1) + equality2.charAt(0);\n        equality2 = equality2.substring(1);\n        var score = diff_cleanupSemanticScore_(equality1, edit) + diff_cleanupSemanticScore_(edit, equality2); // The >= encourages trailing rather than leading whitespace on edits.\n\n        if (score >= bestScore) {\n          bestScore = score;\n          bestEquality1 = equality1;\n          bestEdit = edit;\n          bestEquality2 = equality2;\n        }\n      }\n\n      if (diffs[pointer - 1][1] != bestEquality1) {\n        // We have an improvement, save it back to the diff.\n        if (bestEquality1) {\n          diffs[pointer - 1][1] = bestEquality1;\n        } else {\n          diffs.splice(pointer - 1, 1);\n          pointer--;\n        }\n\n        diffs[pointer][1] = bestEdit;\n\n        if (bestEquality2) {\n          diffs[pointer + 1][1] = bestEquality2;\n        } else {\n          diffs.splice(pointer + 1, 1);\n          pointer--;\n        }\n      }\n    }\n\n    pointer++;\n  }\n}; // Define some regex patterns for matching boundaries.\n\n\ndiff_match_patch.nonAlphaNumericRegex_ = /[^a-zA-Z0-9]/;\ndiff_match_patch.whitespaceRegex_ = /\\s/;\ndiff_match_patch.linebreakRegex_ = /[\\r\\n]/;\ndiff_match_patch.blanklineEndRegex_ = /\\n\\r?\\n$/;\ndiff_match_patch.blanklineStartRegex_ = /^\\r?\\n\\r?\\n/;\n/**\n * Reduce the number of edits by eliminating operationally trivial equalities.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\ndiff_match_patch.prototype.diff_cleanupEfficiency = function (diffs) {\n  var changes = false;\n  var equalities = []; // Stack of indices where equalities are found.\n\n  var equalitiesLength = 0; // Keeping our own length var is faster in JS.\n\n  /** @type {?string} */\n\n  var lastEquality = null; // Always equal to diffs[equalities[equalitiesLength - 1]][1]\n\n  var pointer = 0; // Index of current position.\n  // Is there an insertion operation before the last equality.\n\n  var pre_ins = false; // Is there a deletion operation before the last equality.\n\n  var pre_del = false; // Is there an insertion operation after the last equality.\n\n  var post_ins = false; // Is there a deletion operation after the last equality.\n\n  var post_del = false;\n\n  while (pointer < diffs.length) {\n    if (diffs[pointer][0] == DIFF_EQUAL) {\n      // Equality found.\n      if (diffs[pointer][1].length < this.Diff_EditCost && (post_ins || post_del)) {\n        // Candidate found.\n        equalities[equalitiesLength++] = pointer;\n        pre_ins = post_ins;\n        pre_del = post_del;\n        lastEquality = diffs[pointer][1];\n      } else {\n        // Not a candidate, and can never become one.\n        equalitiesLength = 0;\n        lastEquality = null;\n      }\n\n      post_ins = post_del = false;\n    } else {\n      // An insertion or deletion.\n      if (diffs[pointer][0] == DIFF_DELETE) {\n        post_del = true;\n      } else {\n        post_ins = true;\n      }\n      /*\n       * Five types to be split:\n       * <ins>A</ins><del>B</del>XY<ins>C</ins><del>D</del>\n       * <ins>A</ins>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<ins>C</ins>\n       * <ins>A</del>X<ins>C</ins><del>D</del>\n       * <ins>A</ins><del>B</del>X<del>C</del>\n       */\n\n\n      if (lastEquality && (pre_ins && pre_del && post_ins && post_del || lastEquality.length < this.Diff_EditCost / 2 && pre_ins + pre_del + post_ins + post_del == 3)) {\n        // Duplicate record.\n        diffs.splice(equalities[equalitiesLength - 1], 0, new diff_match_patch.Diff(DIFF_DELETE, lastEquality)); // Change second copy to insert.\n\n        diffs[equalities[equalitiesLength - 1] + 1][0] = DIFF_INSERT;\n        equalitiesLength--; // Throw away the equality we just deleted;\n\n        lastEquality = null;\n\n        if (pre_ins && pre_del) {\n          // No changes made which could affect previous entry, keep going.\n          post_ins = post_del = true;\n          equalitiesLength = 0;\n        } else {\n          equalitiesLength--; // Throw away the previous equality.\n\n          pointer = equalitiesLength > 0 ? equalities[equalitiesLength - 1] : -1;\n          post_ins = post_del = false;\n        }\n\n        changes = true;\n      }\n    }\n\n    pointer++;\n  }\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n/**\n * Reorder and merge like edit sections.  Merge equalities.\n * Any edit section can move as long as it doesn't cross an equality.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n */\n\n\ndiff_match_patch.prototype.diff_cleanupMerge = function (diffs) {\n  // Add a dummy entry at the end.\n  diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, ''));\n  var pointer = 0;\n  var count_delete = 0;\n  var count_insert = 0;\n  var text_delete = '';\n  var text_insert = '';\n  var commonlength;\n\n  while (pointer < diffs.length) {\n    switch (diffs[pointer][0]) {\n      case DIFF_INSERT:\n        count_insert++;\n        text_insert += diffs[pointer][1];\n        pointer++;\n        break;\n\n      case DIFF_DELETE:\n        count_delete++;\n        text_delete += diffs[pointer][1];\n        pointer++;\n        break;\n\n      case DIFF_EQUAL:\n        // Upon reaching an equality, check for prior redundancies.\n        if (count_delete + count_insert > 1) {\n          if (count_delete !== 0 && count_insert !== 0) {\n            // Factor out any common prefixies.\n            commonlength = this.diff_commonPrefix(text_insert, text_delete);\n\n            if (commonlength !== 0) {\n              if (pointer - count_delete - count_insert > 0 && diffs[pointer - count_delete - count_insert - 1][0] == DIFF_EQUAL) {\n                diffs[pointer - count_delete - count_insert - 1][1] += text_insert.substring(0, commonlength);\n              } else {\n                diffs.splice(0, 0, new diff_match_patch.Diff(DIFF_EQUAL, text_insert.substring(0, commonlength)));\n                pointer++;\n              }\n\n              text_insert = text_insert.substring(commonlength);\n              text_delete = text_delete.substring(commonlength);\n            } // Factor out any common suffixies.\n\n\n            commonlength = this.diff_commonSuffix(text_insert, text_delete);\n\n            if (commonlength !== 0) {\n              diffs[pointer][1] = text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\n            }\n          } // Delete the offending records and add the merged ones.\n\n\n          pointer -= count_delete + count_insert;\n          diffs.splice(pointer, count_delete + count_insert);\n\n          if (text_delete.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_DELETE, text_delete));\n            pointer++;\n          }\n\n          if (text_insert.length) {\n            diffs.splice(pointer, 0, new diff_match_patch.Diff(DIFF_INSERT, text_insert));\n            pointer++;\n          }\n\n          pointer++;\n        } else if (pointer !== 0 && diffs[pointer - 1][0] == DIFF_EQUAL) {\n          // Merge this equality with the previous one.\n          diffs[pointer - 1][1] += diffs[pointer][1];\n          diffs.splice(pointer, 1);\n        } else {\n          pointer++;\n        }\n\n        count_insert = 0;\n        count_delete = 0;\n        text_delete = '';\n        text_insert = '';\n        break;\n    }\n  }\n\n  if (diffs[diffs.length - 1][1] === '') {\n    diffs.pop(); // Remove the dummy entry at the end.\n  } // Second pass: look for single edits surrounded on both sides by equalities\n  // which can be shifted sideways to eliminate an equality.\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\n\n\n  var changes = false;\n  pointer = 1; // Intentionally ignore the first and last element (don't need checking).\n\n  while (pointer < diffs.length - 1) {\n    if (diffs[pointer - 1][0] == DIFF_EQUAL && diffs[pointer + 1][0] == DIFF_EQUAL) {\n      // This is a single edit surrounded by equalities.\n      if (diffs[pointer][1].substring(diffs[pointer][1].length - diffs[pointer - 1][1].length) == diffs[pointer - 1][1]) {\n        // Shift the edit over the previous equality.\n        diffs[pointer][1] = diffs[pointer - 1][1] + diffs[pointer][1].substring(0, diffs[pointer][1].length - diffs[pointer - 1][1].length);\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\n        diffs.splice(pointer - 1, 1);\n        changes = true;\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) == diffs[pointer + 1][1]) {\n        // Shift the edit over the next equality.\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\n        diffs[pointer][1] = diffs[pointer][1].substring(diffs[pointer + 1][1].length) + diffs[pointer + 1][1];\n        diffs.splice(pointer + 1, 1);\n        changes = true;\n      }\n    }\n\n    pointer++;\n  } // If shifts were made, the diff needs reordering and another shift sweep.\n\n\n  if (changes) {\n    this.diff_cleanupMerge(diffs);\n  }\n};\n/**\n * loc is a location in text1, compute and return the equivalent location in\n * text2.\n * e.g. 'The cat' vs 'The big cat', 1->1, 5->8\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @param {number} loc Location within text1.\n * @return {number} Location within text2.\n */\n\n\ndiff_match_patch.prototype.diff_xIndex = function (diffs, loc) {\n  var chars1 = 0;\n  var chars2 = 0;\n  var last_chars1 = 0;\n  var last_chars2 = 0;\n  var x;\n\n  for (x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      // Equality or deletion.\n      chars1 += diffs[x][1].length;\n    }\n\n    if (diffs[x][0] !== DIFF_DELETE) {\n      // Equality or insertion.\n      chars2 += diffs[x][1].length;\n    }\n\n    if (chars1 > loc) {\n      // Overshot the location.\n      break;\n    }\n\n    last_chars1 = chars1;\n    last_chars2 = chars2;\n  } // Was the location was deleted?\n\n\n  if (diffs.length != x && diffs[x][0] === DIFF_DELETE) {\n    return last_chars2;\n  } // Add the remaining character length.\n\n\n  return last_chars2 + (loc - last_chars1);\n};\n/**\n * Convert a diff array into a pretty HTML report.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} HTML representation.\n */\n\n\ndiff_match_patch.prototype.diff_prettyHtml = function (diffs) {\n  var html = [];\n  var pattern_amp = /&/g;\n  var pattern_lt = /</g;\n  var pattern_gt = />/g;\n  var pattern_para = /\\n/g;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0]; // Operation (insert, delete, equal)\n\n    var data = diffs[x][1]; // Text of change.\n\n    var text = data.replace(pattern_amp, '&amp;').replace(pattern_lt, '&lt;').replace(pattern_gt, '&gt;').replace(pattern_para, '&para;<br>');\n\n    switch (op) {\n      case DIFF_INSERT:\n        html[x] = '<ins style=\"background:#e6ffe6;\">' + text + '</ins>';\n        break;\n\n      case DIFF_DELETE:\n        html[x] = '<del style=\"background:#ffe6e6;\">' + text + '</del>';\n        break;\n\n      case DIFF_EQUAL:\n        html[x] = '<span>' + text + '</span>';\n        break;\n    }\n  }\n\n  return html.join('');\n};\n/**\n * Compute and return the source text (all equalities and deletions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Source text.\n */\n\n\ndiff_match_patch.prototype.diff_text1 = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_INSERT) {\n      text[x] = diffs[x][1];\n    }\n  }\n\n  return text.join('');\n};\n/**\n * Compute and return the destination text (all equalities and insertions).\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Destination text.\n */\n\n\ndiff_match_patch.prototype.diff_text2 = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    if (diffs[x][0] !== DIFF_DELETE) {\n      text[x] = diffs[x][1];\n    }\n  }\n\n  return text.join('');\n};\n/**\n * Compute the Levenshtein distance; the number of inserted, deleted or\n * substituted characters.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {number} Number of changes.\n */\n\n\ndiff_match_patch.prototype.diff_levenshtein = function (diffs) {\n  var levenshtein = 0;\n  var insertions = 0;\n  var deletions = 0;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var op = diffs[x][0];\n    var data = diffs[x][1];\n\n    switch (op) {\n      case DIFF_INSERT:\n        insertions += data.length;\n        break;\n\n      case DIFF_DELETE:\n        deletions += data.length;\n        break;\n\n      case DIFF_EQUAL:\n        // A deletion and an insertion is one substitution.\n        levenshtein += Math.max(insertions, deletions);\n        insertions = 0;\n        deletions = 0;\n        break;\n    }\n  }\n\n  levenshtein += Math.max(insertions, deletions);\n  return levenshtein;\n};\n/**\n * Crush the diff into an encoded string which describes the operations\n * required to transform text1 into text2.\n * E.g. =3\\t-2\\t+ing  -> Keep 3 chars, delete 2 chars, insert 'ing'.\n * Operations are tab-separated.  Inserted text is escaped using %xx notation.\n * @param {!Array.<!diff_match_patch.Diff>} diffs Array of diff tuples.\n * @return {string} Delta text.\n */\n\n\ndiff_match_patch.prototype.diff_toDelta = function (diffs) {\n  var text = [];\n\n  for (var x = 0; x < diffs.length; x++) {\n    switch (diffs[x][0]) {\n      case DIFF_INSERT:\n        text[x] = '+' + encodeURI(diffs[x][1]);\n        break;\n\n      case DIFF_DELETE:\n        text[x] = '-' + diffs[x][1].length;\n        break;\n\n      case DIFF_EQUAL:\n        text[x] = '=' + diffs[x][1].length;\n        break;\n    }\n  }\n\n  return text.join('\\t').replace(/%20/g, ' ');\n};\n/**\n * Given the original text1, and an encoded string which describes the\n * operations required to transform text1 into text2, compute the full diff.\n * @param {string} text1 Source string for the diff.\n * @param {string} delta Delta text.\n * @return {!Array.<!diff_match_patch.Diff>} Array of diff tuples.\n * @throws {!Error} If invalid input.\n */\n\n\ndiff_match_patch.prototype.diff_fromDelta = function (text1, delta) {\n  var diffs = [];\n  var diffsLength = 0; // Keeping our own length var is faster in JS.\n\n  var pointer = 0; // Cursor in text1\n\n  var tokens = delta.split(/\\t/g);\n\n  for (var x = 0; x < tokens.length; x++) {\n    // Each token begins with a one character parameter which specifies the\n    // operation of this token (delete, insert, equality).\n    var param = tokens[x].substring(1);\n\n    switch (tokens[x].charAt(0)) {\n      case '+':\n        try {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_INSERT, decodeURI(param));\n        } catch (ex) {\n          // Malformed URI sequence.\n          throw new Error('Illegal escape in diff_fromDelta: ' + param);\n        }\n\n        break;\n\n      case '-': // Fall through.\n\n      case '=':\n        var n = parseInt(param, 10);\n\n        if (isNaN(n) || n < 0) {\n          throw new Error('Invalid number in diff_fromDelta: ' + param);\n        }\n\n        var text = text1.substring(pointer, pointer += n);\n\n        if (tokens[x].charAt(0) == '=') {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_EQUAL, text);\n        } else {\n          diffs[diffsLength++] = new diff_match_patch.Diff(DIFF_DELETE, text);\n        }\n\n        break;\n\n      default:\n        // Blank tokens are ok (from a trailing \\t).\n        // Anything else is an error.\n        if (tokens[x]) {\n          throw new Error('Invalid diff operation in diff_fromDelta: ' + tokens[x]);\n        }\n\n    }\n  }\n\n  if (pointer != text1.length) {\n    throw new Error('Delta length (' + pointer + ') does not equal source text length (' + text1.length + ').');\n  }\n\n  return diffs;\n}; //  MATCH FUNCTIONS\n\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc'.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n */\n\n\ndiff_match_patch.prototype.match_main = function (text, pattern, loc) {\n  // Check for null inputs.\n  if (text == null || pattern == null || loc == null) {\n    throw new Error('Null input. (match_main)');\n  }\n\n  loc = Math.max(0, Math.min(loc, text.length));\n\n  if (text == pattern) {\n    // Shortcut (potentially not guaranteed by the algorithm)\n    return 0;\n  } else if (!text.length) {\n    // Nothing to match.\n    return -1;\n  } else if (text.substring(loc, loc + pattern.length) == pattern) {\n    // Perfect match at the perfect spot!  (Includes case of null pattern)\n    return loc;\n  } else {\n    // Do a fuzzy compare.\n    return this.match_bitap_(text, pattern, loc);\n  }\n};\n/**\n * Locate the best instance of 'pattern' in 'text' near 'loc' using the\n * Bitap algorithm.\n * @param {string} text The text to search.\n * @param {string} pattern The pattern to search for.\n * @param {number} loc The location to search around.\n * @return {number} Best match index or -1.\n * @private\n */\n\n\ndiff_match_patch.prototype.match_bitap_ = function (text, pattern, loc) {\n  if (pattern.length > this.Match_MaxBits) {\n    throw new Error('Pattern too long for this browser.');\n  } // Initialise the alphabet.\n\n\n  var s = this.match_alphabet_(pattern);\n  var dmp = this; // 'this' becomes 'window' in a closure.\n\n  /**\n   * Compute and return the score for a match with e errors and x location.\n   * Accesses loc and pattern through being a closure.\n   * @param {number} e Number of errors in match.\n   * @param {number} x Location of match.\n   * @return {number} Overall score for match (0.0 = good, 1.0 = bad).\n   * @private\n   */\n\n  function match_bitapScore_(e, x) {\n    var accuracy = e / pattern.length;\n    var proximity = Math.abs(loc - x);\n\n    if (!dmp.Match_Distance) {\n      // Dodge divide by zero error.\n      return proximity ? 1.0 : accuracy;\n    }\n\n    return accuracy + proximity / dmp.Match_Distance;\n  } // Highest score beyond which we give up.\n\n\n  var score_threshold = this.Match_Threshold; // Is there a nearby exact match? (speedup)\n\n  var best_loc = text.indexOf(pattern, loc);\n\n  if (best_loc != -1) {\n    score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold); // What about in the other direction? (speedup)\n\n    best_loc = text.lastIndexOf(pattern, loc + pattern.length);\n\n    if (best_loc != -1) {\n      score_threshold = Math.min(match_bitapScore_(0, best_loc), score_threshold);\n    }\n  } // Initialise the bit arrays.\n\n\n  var matchmask = 1 << pattern.length - 1;\n  best_loc = -1;\n  var bin_min, bin_mid;\n  var bin_max = pattern.length + text.length;\n  var last_rd;\n\n  for (var d = 0; d < pattern.length; d++) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from 'loc' we can stray at this\n    // error level.\n    bin_min = 0;\n    bin_mid = bin_max;\n\n    while (bin_min < bin_mid) {\n      if (match_bitapScore_(d, loc + bin_mid) <= score_threshold) {\n        bin_min = bin_mid;\n      } else {\n        bin_max = bin_mid;\n      }\n\n      bin_mid = Math.floor((bin_max - bin_min) / 2 + bin_min);\n    } // Use the result from this iteration as the maximum for the next.\n\n\n    bin_max = bin_mid;\n    var start = Math.max(1, loc - bin_mid + 1);\n    var finish = Math.min(loc + bin_mid, text.length) + pattern.length;\n    var rd = Array(finish + 2);\n    rd[finish + 1] = (1 << d) - 1;\n\n    for (var j = finish; j >= start; j--) {\n      // The alphabet (s) is a sparse hash, so the following line generates\n      // warnings.\n      var charMatch = s[text.charAt(j - 1)];\n\n      if (d === 0) {\n        // First pass: exact match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch;\n      } else {\n        // Subsequent passes: fuzzy match.\n        rd[j] = (rd[j + 1] << 1 | 1) & charMatch | ((last_rd[j + 1] | last_rd[j]) << 1 | 1) | last_rd[j + 1];\n      }\n\n      if (rd[j] & matchmask) {\n        var score = match_bitapScore_(d, j - 1); // This match will almost certainly be better than any existing match.\n        // But check anyway.\n\n        if (score <= score_threshold) {\n          // Told you so.\n          score_threshold = score;\n          best_loc = j - 1;\n\n          if (best_loc > loc) {\n            // When passing loc, don't exceed our current distance from loc.\n            start = Math.max(1, 2 * loc - best_loc);\n          } else {\n            // Already passed loc, downhill from here on in.\n            break;\n          }\n        }\n      }\n    } // No hope for a (better) match at greater error levels.\n\n\n    if (match_bitapScore_(d + 1, loc) > score_threshold) {\n      break;\n    }\n\n    last_rd = rd;\n  }\n\n  return best_loc;\n};\n/**\n * Initialise the alphabet for the Bitap algorithm.\n * @param {string} pattern The text to encode.\n * @return {!Object} Hash of character locations.\n * @private\n */\n\n\ndiff_match_patch.prototype.match_alphabet_ = function (pattern) {\n  var s = {};\n\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] = 0;\n  }\n\n  for (var i = 0; i < pattern.length; i++) {\n    s[pattern.charAt(i)] |= 1 << pattern.length - i - 1;\n  }\n\n  return s;\n}; //  PATCH FUNCTIONS\n\n/**\n * Increase the context until it is unique,\n * but don't let the pattern expand beyond Match_MaxBits.\n * @param {!diff_match_patch.patch_obj} patch The patch to grow.\n * @param {string} text Source text.\n * @private\n */\n\n\ndiff_match_patch.prototype.patch_addContext_ = function (patch, text) {\n  if (text.length == 0) {\n    return;\n  }\n\n  if (patch.start2 === null) {\n    throw Error('patch not initialized');\n  }\n\n  var pattern = text.substring(patch.start2, patch.start2 + patch.length1);\n  var padding = 0; // Look for the first and last matches of pattern in text.  If two different\n  // matches are found, increase the pattern length.\n\n  while (text.indexOf(pattern) != text.lastIndexOf(pattern) && pattern.length < this.Match_MaxBits - this.Patch_Margin - this.Patch_Margin) {\n    padding += this.Patch_Margin;\n    pattern = text.substring(patch.start2 - padding, patch.start2 + patch.length1 + padding);\n  } // Add one chunk for good luck.\n\n\n  padding += this.Patch_Margin; // Add the prefix.\n\n  var prefix = text.substring(patch.start2 - padding, patch.start2);\n\n  if (prefix) {\n    patch.diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, prefix));\n  } // Add the suffix.\n\n\n  var suffix = text.substring(patch.start2 + patch.length1, patch.start2 + patch.length1 + padding);\n\n  if (suffix) {\n    patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, suffix));\n  } // Roll back the start points.\n\n\n  patch.start1 -= prefix.length;\n  patch.start2 -= prefix.length; // Extend the lengths.\n\n  patch.length1 += prefix.length + suffix.length;\n  patch.length2 += prefix.length + suffix.length;\n};\n/**\n * Compute a list of patches to turn text1 into text2.\n * Use diffs if provided, otherwise compute it ourselves.\n * There are four ways to call this function, depending on what data is\n * available to the caller:\n * Method 1:\n * a = text1, b = text2\n * Method 2:\n * a = diffs\n * Method 3 (optimal):\n * a = text1, b = diffs\n * Method 4 (deprecated, use method 3):\n * a = text1, b = text2, c = diffs\n *\n * @param {string|!Array.<!diff_match_patch.Diff>} a text1 (methods 1,3,4) or\n * Array of diff tuples for text1 to text2 (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_b text2 (methods 1,4) or\n * Array of diff tuples for text1 to text2 (method 3) or undefined (method 2).\n * @param {string|!Array.<!diff_match_patch.Diff>=} opt_c Array of diff tuples\n * for text1 to text2 (method 4) or undefined (methods 1,2,3).\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_make = function (a, opt_b, opt_c) {\n  var text1, diffs;\n\n  if (typeof a == 'string' && typeof opt_b == 'string' && typeof opt_c == 'undefined') {\n    // Method 1: text1, text2\n    // Compute diffs from text1 and text2.\n    text1 = a;\n    diffs = this.diff_main(text1, opt_b, true);\n\n    if (diffs.length > 2) {\n      this.diff_cleanupSemantic(diffs);\n      this.diff_cleanupEfficiency(diffs);\n    }\n  } else if (a && typeof a == 'object' && typeof opt_b == 'undefined' && typeof opt_c == 'undefined') {\n    // Method 2: diffs\n    // Compute text1 from diffs.\n    diffs = a;\n    text1 = this.diff_text1(diffs);\n  } else if (typeof a == 'string' && opt_b && typeof opt_b == 'object' && typeof opt_c == 'undefined') {\n    // Method 3: text1, diffs\n    text1 = a;\n    diffs = opt_b;\n  } else if (typeof a == 'string' && typeof opt_b == 'string' && opt_c && typeof opt_c == 'object') {\n    // Method 4: text1, text2, diffs\n    // text2 is not used.\n    text1 = a;\n    diffs = opt_c;\n  } else {\n    throw new Error('Unknown call format to patch_make.');\n  }\n\n  if (diffs.length === 0) {\n    return []; // Get rid of the null case.\n  }\n\n  var patches = [];\n  var patch = new diff_match_patch.patch_obj();\n  var patchDiffLength = 0; // Keeping our own length var is faster in JS.\n\n  var char_count1 = 0; // Number of characters into the text1 string.\n\n  var char_count2 = 0; // Number of characters into the text2 string.\n  // Start with text1 (prepatch_text) and apply the diffs until we arrive at\n  // text2 (postpatch_text).  We recreate the patches one by one to determine\n  // context info.\n\n  var prepatch_text = text1;\n  var postpatch_text = text1;\n\n  for (var x = 0; x < diffs.length; x++) {\n    var diff_type = diffs[x][0];\n    var diff_text = diffs[x][1];\n\n    if (!patchDiffLength && diff_type !== DIFF_EQUAL) {\n      // A new patch starts here.\n      patch.start1 = char_count1;\n      patch.start2 = char_count2;\n    }\n\n    switch (diff_type) {\n      case DIFF_INSERT:\n        patch.diffs[patchDiffLength++] = diffs[x];\n        patch.length2 += diff_text.length;\n        postpatch_text = postpatch_text.substring(0, char_count2) + diff_text + postpatch_text.substring(char_count2);\n        break;\n\n      case DIFF_DELETE:\n        patch.length1 += diff_text.length;\n        patch.diffs[patchDiffLength++] = diffs[x];\n        postpatch_text = postpatch_text.substring(0, char_count2) + postpatch_text.substring(char_count2 + diff_text.length);\n        break;\n\n      case DIFF_EQUAL:\n        if (diff_text.length <= 2 * this.Patch_Margin && patchDiffLength && diffs.length != x + 1) {\n          // Small equality inside a patch.\n          patch.diffs[patchDiffLength++] = diffs[x];\n          patch.length1 += diff_text.length;\n          patch.length2 += diff_text.length;\n        } else if (diff_text.length >= 2 * this.Patch_Margin) {\n          // Time for a new patch.\n          if (patchDiffLength) {\n            this.patch_addContext_(patch, prepatch_text);\n            patches.push(patch);\n            patch = new diff_match_patch.patch_obj();\n            patchDiffLength = 0; // Unlike Unidiff, our patch lists have a rolling context.\n            // https://github.com/google/diff-match-patch/wiki/Unidiff\n            // Update prepatch text & pos to reflect the application of the\n            // just completed patch.\n\n            prepatch_text = postpatch_text;\n            char_count1 = char_count2;\n          }\n        }\n\n        break;\n    } // Update the current character count.\n\n\n    if (diff_type !== DIFF_INSERT) {\n      char_count1 += diff_text.length;\n    }\n\n    if (diff_type !== DIFF_DELETE) {\n      char_count2 += diff_text.length;\n    }\n  } // Pick up the leftover patch if not empty.\n\n\n  if (patchDiffLength) {\n    this.patch_addContext_(patch, prepatch_text);\n    patches.push(patch);\n  }\n\n  return patches;\n};\n/**\n * Given an array of patches, return another array that is identical.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_deepCopy = function (patches) {\n  // Making deep copies is hard in JavaScript.\n  var patchesCopy = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    var patch = patches[x];\n    var patchCopy = new diff_match_patch.patch_obj();\n    patchCopy.diffs = [];\n\n    for (var y = 0; y < patch.diffs.length; y++) {\n      patchCopy.diffs[y] = new diff_match_patch.Diff(patch.diffs[y][0], patch.diffs[y][1]);\n    }\n\n    patchCopy.start1 = patch.start1;\n    patchCopy.start2 = patch.start2;\n    patchCopy.length1 = patch.length1;\n    patchCopy.length2 = patch.length2;\n    patchesCopy[x] = patchCopy;\n  }\n\n  return patchesCopy;\n};\n/**\n * Merge a set of patches onto the text.  Return a patched text, as well\n * as a list of true/false values indicating which patches were applied.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @param {string} text Old text.\n * @return {!Array.<string|!Array.<boolean>>} Two element Array, containing the\n *      new text and an array of boolean values.\n */\n\n\ndiff_match_patch.prototype.patch_apply = function (patches, text) {\n  if (patches.length == 0) {\n    return [text, []];\n  } // Deep copy the patches so that no changes are made to originals.\n\n\n  patches = this.patch_deepCopy(patches);\n  var nullPadding = this.patch_addPadding(patches);\n  text = nullPadding + text + nullPadding;\n  this.patch_splitMax(patches); // delta keeps track of the offset between the expected and actual location\n  // of the previous patch.  If there are patches expected at positions 10 and\n  // 20, but the first patch was found at 12, delta is 2 and the second patch\n  // has an effective expected position of 22.\n\n  var delta = 0;\n  var results = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    var expected_loc = patches[x].start2 + delta;\n    var text1 = this.diff_text1(patches[x].diffs);\n    var start_loc;\n    var end_loc = -1;\n\n    if (text1.length > this.Match_MaxBits) {\n      // patch_splitMax will only provide an oversized pattern in the case of\n      // a monster delete.\n      start_loc = this.match_main(text, text1.substring(0, this.Match_MaxBits), expected_loc);\n\n      if (start_loc != -1) {\n        end_loc = this.match_main(text, text1.substring(text1.length - this.Match_MaxBits), expected_loc + text1.length - this.Match_MaxBits);\n\n        if (end_loc == -1 || start_loc >= end_loc) {\n          // Can't find valid trailing context.  Drop this patch.\n          start_loc = -1;\n        }\n      }\n    } else {\n      start_loc = this.match_main(text, text1, expected_loc);\n    }\n\n    if (start_loc == -1) {\n      // No match found.  :(\n      results[x] = false; // Subtract the delta for this failed patch from subsequent patches.\n\n      delta -= patches[x].length2 - patches[x].length1;\n    } else {\n      // Found a match.  :)\n      results[x] = true;\n      delta = start_loc - expected_loc;\n      var text2;\n\n      if (end_loc == -1) {\n        text2 = text.substring(start_loc, start_loc + text1.length);\n      } else {\n        text2 = text.substring(start_loc, end_loc + this.Match_MaxBits);\n      }\n\n      if (text1 == text2) {\n        // Perfect match, just shove the replacement text in.\n        text = text.substring(0, start_loc) + this.diff_text2(patches[x].diffs) + text.substring(start_loc + text1.length);\n      } else {\n        // Imperfect match.  Run a diff to get a framework of equivalent\n        // indices.\n        var diffs = this.diff_main(text1, text2, false);\n\n        if (text1.length > this.Match_MaxBits && this.diff_levenshtein(diffs) / text1.length > this.Patch_DeleteThreshold) {\n          // The end points match, but the content is unacceptably bad.\n          results[x] = false;\n        } else {\n          this.diff_cleanupSemanticLossless(diffs);\n          var index1 = 0;\n          var index2;\n\n          for (var y = 0; y < patches[x].diffs.length; y++) {\n            var mod = patches[x].diffs[y];\n\n            if (mod[0] !== DIFF_EQUAL) {\n              index2 = this.diff_xIndex(diffs, index1);\n            }\n\n            if (mod[0] === DIFF_INSERT) {\n              // Insertion\n              text = text.substring(0, start_loc + index2) + mod[1] + text.substring(start_loc + index2);\n            } else if (mod[0] === DIFF_DELETE) {\n              // Deletion\n              text = text.substring(0, start_loc + index2) + text.substring(start_loc + this.diff_xIndex(diffs, index1 + mod[1].length));\n            }\n\n            if (mod[0] !== DIFF_DELETE) {\n              index1 += mod[1].length;\n            }\n          }\n        }\n      }\n    }\n  } // Strip the padding off.\n\n\n  text = text.substring(nullPadding.length, text.length - nullPadding.length);\n  return [text, results];\n};\n/**\n * Add some padding on text start and end so that edges can match something.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} The padding string added to each side.\n */\n\n\ndiff_match_patch.prototype.patch_addPadding = function (patches) {\n  var paddingLength = this.Patch_Margin;\n  var nullPadding = '';\n\n  for (var x = 1; x <= paddingLength; x++) {\n    nullPadding += String.fromCharCode(x);\n  } // Bump all the patches forward.\n\n\n  for (var x = 0; x < patches.length; x++) {\n    patches[x].start1 += paddingLength;\n    patches[x].start2 += paddingLength;\n  } // Add some padding on start of first diff.\n\n\n  var patch = patches[0];\n  var diffs = patch.diffs;\n\n  if (diffs.length == 0 || diffs[0][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.unshift(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.start1 -= paddingLength; // Should be 0.\n\n    patch.start2 -= paddingLength; // Should be 0.\n\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[0][1].length) {\n    // Grow first equality.\n    var extraLength = paddingLength - diffs[0][1].length;\n    diffs[0][1] = nullPadding.substring(diffs[0][1].length) + diffs[0][1];\n    patch.start1 -= extraLength;\n    patch.start2 -= extraLength;\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  } // Add some padding on end of last diff.\n\n\n  patch = patches[patches.length - 1];\n  diffs = patch.diffs;\n\n  if (diffs.length == 0 || diffs[diffs.length - 1][0] != DIFF_EQUAL) {\n    // Add nullPadding equality.\n    diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, nullPadding));\n    patch.length1 += paddingLength;\n    patch.length2 += paddingLength;\n  } else if (paddingLength > diffs[diffs.length - 1][1].length) {\n    // Grow last equality.\n    var extraLength = paddingLength - diffs[diffs.length - 1][1].length;\n    diffs[diffs.length - 1][1] += nullPadding.substring(0, extraLength);\n    patch.length1 += extraLength;\n    patch.length2 += extraLength;\n  }\n\n  return nullPadding;\n};\n/**\n * Look through the patches and break up any which are longer than the maximum\n * limit of the match algorithm.\n * Intended to be called only from within patch_apply.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n */\n\n\ndiff_match_patch.prototype.patch_splitMax = function (patches) {\n  var patch_size = this.Match_MaxBits;\n\n  for (var x = 0; x < patches.length; x++) {\n    if (patches[x].length1 <= patch_size) {\n      continue;\n    }\n\n    var bigpatch = patches[x]; // Remove the big old patch.\n\n    patches.splice(x--, 1);\n    var start1 = bigpatch.start1;\n    var start2 = bigpatch.start2;\n    var precontext = '';\n\n    while (bigpatch.diffs.length !== 0) {\n      // Create one of several smaller patches.\n      var patch = new diff_match_patch.patch_obj();\n      var empty = true;\n      patch.start1 = start1 - precontext.length;\n      patch.start2 = start2 - precontext.length;\n\n      if (precontext !== '') {\n        patch.length1 = patch.length2 = precontext.length;\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, precontext));\n      }\n\n      while (bigpatch.diffs.length !== 0 && patch.length1 < patch_size - this.Patch_Margin) {\n        var diff_type = bigpatch.diffs[0][0];\n        var diff_text = bigpatch.diffs[0][1];\n\n        if (diff_type === DIFF_INSERT) {\n          // Insertions are harmless.\n          patch.length2 += diff_text.length;\n          start2 += diff_text.length;\n          patch.diffs.push(bigpatch.diffs.shift());\n          empty = false;\n        } else if (diff_type === DIFF_DELETE && patch.diffs.length == 1 && patch.diffs[0][0] == DIFF_EQUAL && diff_text.length > 2 * patch_size) {\n          // This is a large deletion.  Let it pass in one chunk.\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n          empty = false;\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n          bigpatch.diffs.shift();\n        } else {\n          // Deletion or equality.  Only take as much as we can stomach.\n          diff_text = diff_text.substring(0, patch_size - patch.length1 - this.Patch_Margin);\n          patch.length1 += diff_text.length;\n          start1 += diff_text.length;\n\n          if (diff_type === DIFF_EQUAL) {\n            patch.length2 += diff_text.length;\n            start2 += diff_text.length;\n          } else {\n            empty = false;\n          }\n\n          patch.diffs.push(new diff_match_patch.Diff(diff_type, diff_text));\n\n          if (diff_text == bigpatch.diffs[0][1]) {\n            bigpatch.diffs.shift();\n          } else {\n            bigpatch.diffs[0][1] = bigpatch.diffs[0][1].substring(diff_text.length);\n          }\n        }\n      } // Compute the head context for the next patch.\n\n\n      precontext = this.diff_text2(patch.diffs);\n      precontext = precontext.substring(precontext.length - this.Patch_Margin); // Append the end context for this patch.\n\n      var postcontext = this.diff_text1(bigpatch.diffs).substring(0, this.Patch_Margin);\n\n      if (postcontext !== '') {\n        patch.length1 += postcontext.length;\n        patch.length2 += postcontext.length;\n\n        if (patch.diffs.length !== 0 && patch.diffs[patch.diffs.length - 1][0] === DIFF_EQUAL) {\n          patch.diffs[patch.diffs.length - 1][1] += postcontext;\n        } else {\n          patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, postcontext));\n        }\n      }\n\n      if (!empty) {\n        patches.splice(++x, 0, patch);\n      }\n    }\n  }\n};\n/**\n * Take a list of patches and return a textual representation.\n * @param {!Array.<!diff_match_patch.patch_obj>} patches Array of Patch objects.\n * @return {string} Text representation of patches.\n */\n\n\ndiff_match_patch.prototype.patch_toText = function (patches) {\n  var text = [];\n\n  for (var x = 0; x < patches.length; x++) {\n    text[x] = patches[x];\n  }\n\n  return text.join('');\n};\n/**\n * Parse a textual representation of patches and return a list of Patch objects.\n * @param {string} textline Text representation of patches.\n * @return {!Array.<!diff_match_patch.patch_obj>} Array of Patch objects.\n * @throws {!Error} If invalid input.\n */\n\n\ndiff_match_patch.prototype.patch_fromText = function (textline) {\n  var patches = [];\n\n  if (!textline) {\n    return patches;\n  }\n\n  var text = textline.split('\\n');\n  var textPointer = 0;\n  var patchHeader = /^@@ -(\\d+),?(\\d*) \\+(\\d+),?(\\d*) @@$/;\n\n  while (textPointer < text.length) {\n    var m = text[textPointer].match(patchHeader);\n\n    if (!m) {\n      throw new Error('Invalid patch string: ' + text[textPointer]);\n    }\n\n    var patch = new diff_match_patch.patch_obj();\n    patches.push(patch);\n    patch.start1 = parseInt(m[1], 10);\n\n    if (m[2] === '') {\n      patch.start1--;\n      patch.length1 = 1;\n    } else if (m[2] == '0') {\n      patch.length1 = 0;\n    } else {\n      patch.start1--;\n      patch.length1 = parseInt(m[2], 10);\n    }\n\n    patch.start2 = parseInt(m[3], 10);\n\n    if (m[4] === '') {\n      patch.start2--;\n      patch.length2 = 1;\n    } else if (m[4] == '0') {\n      patch.length2 = 0;\n    } else {\n      patch.start2--;\n      patch.length2 = parseInt(m[4], 10);\n    }\n\n    textPointer++;\n\n    while (textPointer < text.length) {\n      var sign = text[textPointer].charAt(0);\n\n      try {\n        var line = decodeURI(text[textPointer].substring(1));\n      } catch (ex) {\n        // Malformed URI sequence.\n        throw new Error('Illegal escape in patch_fromText: ' + line);\n      }\n\n      if (sign == '-') {\n        // Deletion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_DELETE, line));\n      } else if (sign == '+') {\n        // Insertion.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_INSERT, line));\n      } else if (sign == ' ') {\n        // Minor equality.\n        patch.diffs.push(new diff_match_patch.Diff(DIFF_EQUAL, line));\n      } else if (sign == '@') {\n        // Start of next patch.\n        break;\n      } else if (sign === '') {// Blank line?  Whatever.\n      } else {\n        // WTF?\n        throw new Error('Invalid patch mode \"' + sign + '\" in: ' + line);\n      }\n\n      textPointer++;\n    }\n  }\n\n  return patches;\n};\n/**\n * Class representing one patch operation.\n * @constructor\n */\n\n\ndiff_match_patch.patch_obj = function () {\n  /** @type {!Array.<!diff_match_patch.Diff>} */\n  this.diffs = [];\n  /** @type {?number} */\n\n  this.start1 = null;\n  /** @type {?number} */\n\n  this.start2 = null;\n  /** @type {number} */\n\n  this.length1 = 0;\n  /** @type {number} */\n\n  this.length2 = 0;\n};\n/**\n * Emulate GNU diff's format.\n * Header: @@ -382,8 +481,9 @@\n * Indices are printed as 1-based, not 0-based.\n * @return {string} The GNU diff string.\n */\n\n\ndiff_match_patch.patch_obj.prototype.toString = function () {\n  var coords1, coords2;\n\n  if (this.length1 === 0) {\n    coords1 = this.start1 + ',0';\n  } else if (this.length1 == 1) {\n    coords1 = this.start1 + 1;\n  } else {\n    coords1 = this.start1 + 1 + ',' + this.length1;\n  }\n\n  if (this.length2 === 0) {\n    coords2 = this.start2 + ',0';\n  } else if (this.length2 == 1) {\n    coords2 = this.start2 + 1;\n  } else {\n    coords2 = this.start2 + 1 + ',' + this.length2;\n  }\n\n  var text = ['@@ -' + coords1 + ' +' + coords2 + ' @@\\n'];\n  var op; // Escape the body of the patch with %xx notation.\n\n  for (var x = 0; x < this.diffs.length; x++) {\n    switch (this.diffs[x][0]) {\n      case DIFF_INSERT:\n        op = '+';\n        break;\n\n      case DIFF_DELETE:\n        op = '-';\n        break;\n\n      case DIFF_EQUAL:\n        op = ' ';\n        break;\n    }\n\n    text[x + 1] = op + encodeURI(this.diffs[x][1]) + '\\n';\n  }\n\n  return text.join('').replace(/%20/g, ' ');\n}; // The following export code was added by @ForbesLindesay\n\n\nmodule.exports = diff_match_patch;\nmodule.exports.diff_match_patch = diff_match_patch;\nmodule.exports.DIFF_DELETE = DIFF_DELETE;\nmodule.exports.DIFF_INSERT = DIFF_INSERT;\nmodule.exports.DIFF_EQUAL = DIFF_EQUAL;\n\n/***/ }),\n\n/***/ 157:\n/***/ (() => {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 857:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ method)\n});\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(369);\n// EXTERNAL MODULE: ./src/ts/markdown/adapterRender.ts\nvar adapterRender = __webpack_require__(46);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(726);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(23);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(383);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(890);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(93);\n;// CONCATENATED MODULE: ./src/ts/markdown/lazyLoadImageRender.ts\nvar lazyLoadImageRender = function (element) {\n    if (element === void 0) { element = document; }\n    var loadImg = function (it) {\n        var testImage = document.createElement(\"img\");\n        testImage.src = it.getAttribute(\"data-src\");\n        testImage.addEventListener(\"load\", function () {\n            if (!it.getAttribute(\"style\") && !it.getAttribute(\"class\") &&\n                !it.getAttribute(\"width\") && !it.getAttribute(\"height\")) {\n                if (testImage.naturalHeight > testImage.naturalWidth &&\n                    testImage.naturalWidth / testImage.naturalHeight <\n                        document.querySelector(\".vditor-reset\").clientWidth / (window.innerHeight - 40) &&\n                    testImage.naturalHeight > (window.innerHeight - 40)) {\n                    it.style.height = (window.innerHeight - 40) + \"px\";\n                }\n            }\n            it.src = testImage.src;\n        });\n        it.removeAttribute(\"data-src\");\n    };\n    if (!(\"IntersectionObserver\" in window)) {\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            if (imgElement.getAttribute(\"data-src\")) {\n                loadImg(imgElement);\n            }\n        });\n        return false;\n    }\n    if (window.vditorImageIntersectionObserver) {\n        window.vditorImageIntersectionObserver.disconnect();\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n    else {\n        window.vditorImageIntersectionObserver = new IntersectionObserver(function (entries) {\n            entries.forEach(function (entrie) {\n                if ((typeof entrie.isIntersecting === \"undefined\"\n                    ? entrie.intersectionRatio !== 0\n                    : entrie.isIntersecting)\n                    && entrie.target.getAttribute(\"data-src\")) {\n                    loadImg(entrie.target);\n                }\n            });\n        });\n        element.querySelectorAll(\"img\").forEach(function (imgElement) {\n            window.vditorImageIntersectionObserver.observe(imgElement);\n        });\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(323);\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(207);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(765);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(894);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(198);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(583);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(260);\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(958);\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(228);\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(713);\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(224);\n;// CONCATENATED MODULE: ./src/ts/markdown/anchorRender.ts\nvar anchorRender = function (type) {\n    document.querySelectorAll(\".vditor-anchor\").forEach(function (anchor) {\n        if (type === 1) {\n            anchor.classList.add(\"vditor-anchor--left\");\n        }\n        anchor.onclick = function () {\n            var id = anchor.getAttribute(\"href\").substr(1);\n            var top = document.getElementById(\"vditorAnchor-\" + id).offsetTop;\n            document.querySelector(\"html\").scrollTop = top;\n        };\n    });\n    window.onhashchange = function () {\n        var element = document.getElementById(\"vditorAnchor-\" + decodeURIComponent(window.location.hash.substr(1)));\n        if (element) {\n            document.querySelector(\"html\").scrollTop = element.offsetTop;\n        }\n    };\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(792);\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/ts/markdown/speechRender.ts\n\nvar speechRender = function (element, lang) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (typeof speechSynthesis === \"undefined\" || typeof SpeechSynthesisUtterance === \"undefined\") {\n        return;\n    }\n    var playSVG = '<svg><use xlink:href=\"#vditor-icon-play\"></use></svg>';\n    var pauseSVG = '<svg><use xlink:href=\"#vditor-icon-pause\"></use></svg>';\n    var speechDom = document.querySelector(\".vditor-speech\");\n    if (!speechDom) {\n        speechDom = document.createElement(\"div\");\n        speechDom.className = \"vditor-speech\";\n        document.body.insertAdjacentElement(\"beforeend\", speechDom);\n        var getVoice = function () {\n            var voices = speechSynthesis.getVoices();\n            var currentVoice;\n            var defaultVoice;\n            voices.forEach(function (item) {\n                if (item.lang === lang.replace(\"_\", \"-\")) {\n                    currentVoice = item;\n                }\n                if (item.default) {\n                    defaultVoice = item;\n                }\n            });\n            if (!currentVoice) {\n                currentVoice = defaultVoice;\n            }\n            return currentVoice;\n        };\n        if (speechSynthesis.onvoiceschanged !== undefined) {\n            speechSynthesis.onvoiceschanged = getVoice;\n        }\n        var voice_1 = getVoice();\n        speechDom.onclick = function () {\n            if (speechDom.className === \"vditor-speech\") {\n                var utterThis = new SpeechSynthesisUtterance(speechDom.getAttribute(\"data-text\"));\n                utterThis.voice = voice_1;\n                utterThis.onend = function () {\n                    speechDom.className = \"vditor-speech\";\n                    speechSynthesis.cancel();\n                    speechDom.innerHTML = playSVG;\n                };\n                speechSynthesis.speak(utterThis);\n                speechDom.className = \"vditor-speech vditor-speech--current\";\n                speechDom.innerHTML = pauseSVG;\n            }\n            else {\n                if (speechSynthesis.speaking) {\n                    if (speechSynthesis.paused) {\n                        speechSynthesis.resume();\n                        speechDom.innerHTML = pauseSVG;\n                    }\n                    else {\n                        speechSynthesis.pause();\n                        speechDom.innerHTML = playSVG;\n                    }\n                }\n            }\n            (0,selection/* setSelectionFocus */.Hc)(window.vditorSpeechRange);\n        };\n        document.body.addEventListener(\"click\", function () {\n            if (getSelection().toString().trim() === \"\" && speechDom.style.display === \"block\") {\n                speechDom.className = \"vditor-speech\";\n                speechSynthesis.cancel();\n                speechDom.style.display = \"none\";\n            }\n        });\n    }\n    element.addEventListener(\"mouseup\", function (event) {\n        var text = getSelection().toString().trim();\n        speechSynthesis.cancel();\n        if (getSelection().toString().trim() === \"\") {\n            if (speechDom.style.display === \"block\") {\n                speechDom.className = \"vditor-speech\";\n                speechDom.style.display = \"none\";\n            }\n            return;\n        }\n        window.vditorSpeechRange = getSelection().getRangeAt(0).cloneRange();\n        var rect = getSelection().getRangeAt(0).getBoundingClientRect();\n        speechDom.innerHTML = playSVG;\n        speechDom.style.display = \"block\";\n        speechDom.style.top = (rect.top + rect.height + document.querySelector(\"html\").scrollTop - 20) + \"px\";\n        speechDom.style.left = (event.screenX + 2) + \"px\";\n        speechDom.setAttribute(\"data-text\", text);\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/markdown/previewRender.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar mergeOptions = function (options) {\n    var defaultOption = {\n        anchor: 0,\n        cdn: constants/* Constants.CDN */.g.CDN,\n        customEmoji: {},\n        emojiPath: ((options && options.emojiPath) || constants/* Constants.CDN */.g.CDN) + \"/dist/images/emoji\",\n        hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n        icon: \"ant\",\n        lang: \"zh_CN\",\n        markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n        math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n        mode: \"light\",\n        speech: {\n            enable: false,\n        },\n        theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n    };\n    return (0,merge/* merge */.T)(defaultOption, options);\n};\nvar md2html = function (mdText, options) {\n    var mergedOptions = mergeOptions(options);\n    return (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/lute/lute.min.js\", \"vditorLuteScript\").then(function () {\n        var lute = (0,setLute/* setLute */.X)({\n            autoSpace: mergedOptions.markdown.autoSpace,\n            codeBlockPreview: mergedOptions.markdown.codeBlockPreview,\n            emojiSite: mergedOptions.emojiPath,\n            emojis: mergedOptions.customEmoji,\n            fixTermTypo: mergedOptions.markdown.fixTermTypo,\n            footnotes: mergedOptions.markdown.footnotes,\n            headingAnchor: mergedOptions.anchor !== 0,\n            inlineMathDigit: mergedOptions.math.inlineDigit,\n            lazyLoadImage: mergedOptions.lazyLoadImage,\n            linkBase: mergedOptions.markdown.linkBase,\n            linkPrefix: mergedOptions.markdown.linkPrefix,\n            listStyle: mergedOptions.markdown.listStyle,\n            mark: mergedOptions.markdown.mark,\n            mathBlockPreview: mergedOptions.markdown.mathBlockPreview,\n            paragraphBeginningSpace: mergedOptions.markdown.paragraphBeginningSpace,\n            sanitize: mergedOptions.markdown.sanitize,\n            toc: mergedOptions.markdown.toc,\n        });\n        if (options === null || options === void 0 ? void 0 : options.renderers) {\n            lute.SetJSRenderers({\n                renderers: {\n                    Md2HTML: options.renderers,\n                },\n            });\n        }\n        lute.SetHeadingID(true);\n        return lute.Md2HTML(mdText);\n    });\n};\nvar previewRender = function (previewElement, markdown, options) { return __awaiter(void 0, void 0, void 0, function () {\n    var mergedOptions, html;\n    return __generator(this, function (_a) {\n        switch (_a.label) {\n            case 0:\n                mergedOptions = mergeOptions(options);\n                return [4 /*yield*/, md2html(markdown, mergedOptions)];\n            case 1:\n                html = _a.sent();\n                if (mergedOptions.transform) {\n                    html = mergedOptions.transform(html);\n                }\n                previewElement.innerHTML = html;\n                previewElement.classList.add(\"vditor-reset\");\n                if (!mergedOptions.i18n) {\n                    if (![\"en_US\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                        throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n                    }\n                    else {\n                        (0,addScript/* addScriptSync */.J)(mergedOptions.cdn + \"/dist/js/i18n/\" + mergedOptions.lang + \".js\", \"vditorI18nScript\");\n                    }\n                }\n                else {\n                    window.VditorI18n = mergedOptions.i18n;\n                }\n                (0,setContentTheme/* setContentTheme */.Z)(mergedOptions.theme.current, mergedOptions.theme.path);\n                if (mergedOptions.anchor === 1) {\n                    previewElement.classList.add(\"vditor-reset--anchor\");\n                }\n                (0,codeRender/* codeRender */.O)(previewElement);\n                (0,highlightRender/* highlightRender */.s)(mergedOptions.hljs, previewElement, mergedOptions.cdn);\n                (0,mathRender/* mathRender */.H)(previewElement, {\n                    cdn: mergedOptions.cdn,\n                    math: mergedOptions.math,\n                });\n                (0,mermaidRender/* mermaidRender */.i)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,flowchartRender/* flowchartRender */.P)(previewElement, mergedOptions.cdn);\n                (0,graphvizRender/* graphvizRender */.v)(previewElement, mergedOptions.cdn);\n                (0,chartRender/* chartRender */.p)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,mindmapRender/* mindmapRender */.P)(previewElement, mergedOptions.cdn, mergedOptions.mode);\n                (0,plantumlRender/* plantumlRender */.B)(previewElement, mergedOptions.cdn);\n                (0,abcRender/* abcRender */.Q)(previewElement, mergedOptions.cdn);\n                (0,mediaRender/* mediaRender */.Y)(previewElement);\n                if (mergedOptions.speech.enable) {\n                    speechRender(previewElement);\n                }\n                if (mergedOptions.anchor !== 0) {\n                    anchorRender(mergedOptions.anchor);\n                }\n                if (mergedOptions.after) {\n                    mergedOptions.after();\n                }\n                if (mergedOptions.lazyLoadImage) {\n                    lazyLoadImageRender(previewElement);\n                }\n                if (mergedOptions.icon) {\n                    (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/icons/\" + mergedOptions.icon + \".js\", \"vditorIconScript\");\n                }\n                previewElement.addEventListener(\"click\", function (event) {\n                    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n                    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                        var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                        if (headingElement) {\n                            window.scrollTo(window.scrollX, headingElement.offsetTop);\n                        }\n                        return;\n                    }\n                });\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(264);\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(968);\n;// CONCATENATED MODULE: ./src/method.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function () {\n    function Vditor() {\n    }\n    /** 点击图片放大 */\n    Vditor.adapterRender = adapterRender;\n    /** 点击图片放大 */\n    Vditor.previewImage = preview_image/* previewImage */.E;\n    /** 为 element 中的代码块添加复制按钮 */\n    Vditor.codeRender = codeRender/* codeRender */.O;\n    /** 对 graphviz 进行渲染 */\n    Vditor.graphvizRender = graphvizRender/* graphvizRender */.v;\n    /** 为 element 中的代码块进行高亮渲染 */\n    Vditor.highlightRender = highlightRender/* highlightRender */.s;\n    /** 对数学公式进行渲染 */\n    Vditor.mathRender = mathRender/* mathRender */.H;\n    /** 流程图/时序图/甘特图渲染 */\n    Vditor.mermaidRender = mermaidRender/* mermaidRender */.i;\n    /** flowchart.js 渲染 */\n    Vditor.flowchartRender = flowchartRender/* flowchartRender */.P;\n    /** 图表渲染 */\n    Vditor.chartRender = chartRender/* chartRender */.p;\n    /** 五线谱渲染 */\n    Vditor.abcRender = abcRender/* abcRender */.Q;\n    /** 脑图渲染 */\n    Vditor.mindmapRender = mindmapRender/* mindmapRender */.P;\n    /** plantuml渲染 */\n    Vditor.plantumlRender = plantumlRender/* plantumlRender */.B;\n    /** 大纲渲染 */\n    Vditor.outlineRender = outlineRender/* outlineRender */.k;\n    /** 为[特定链接](https://github.com/Vanessa219/vditor/issues/7)分别渲染为视频、音频、嵌入的 iframe */\n    Vditor.mediaRender = mediaRender/* mediaRender */.Y;\n    /** 对选中的文字进行阅读 */\n    Vditor.speechRender = speechRender;\n    /** 对图片进行懒加载 */\n    Vditor.lazyLoadImageRender = lazyLoadImageRender;\n    /** Markdown 文本转换为 HTML，该方法需使用[异步编程](https://ld246.com/article/1546828434083?r=Vaness) */\n    Vditor.md2html = md2html;\n    /** 页面 Markdown 文章渲染 */\n    Vditor.preview = previewRender;\n    /** 设置代码主题 */\n    Vditor.setCodeTheme = setCodeTheme/* setCodeTheme */.Y;\n    /** 设置内容主题 */\n    Vditor.setContentTheme = setContentTheme/* setContentTheme */.Z;\n    return Vditor;\n}());\n/* harmony default export */ const method = (Vditor);\n\n\n/***/ }),\n\n/***/ 260:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ _VDITOR_VERSION),\n/* harmony export */   \"g\": () => (/* binding */ Constants)\n/* harmony export */ });\nvar _VDITOR_VERSION = \"3.8.7\";\n\nvar Constants = /** @class */ (function () {\n    function Constants() {\n    }\n    Constants.ZWSP = \"\\u200b\";\n    Constants.DROP_EDITOR = \"application/editor\";\n    Constants.MOBILE_WIDTH = 520;\n    Constants.CLASS_MENU_DISABLED = \"vditor-menu--disabled\";\n    Constants.EDIT_TOOLBARS = [\"emoji\", \"headings\", \"bold\", \"italic\", \"strike\", \"link\", \"list\",\n        \"ordered-list\", \"outdent\", \"indent\", \"check\", \"line\", \"quote\", \"code\", \"inline-code\", \"insert-after\",\n        \"insert-before\", \"upload\", \"record\", \"table\"];\n    Constants.CODE_THEME = [\"abap\", \"algol\", \"algol_nu\", \"arduino\", \"autumn\", \"borland\", \"bw\",\n        \"colorful\", \"dracula\", \"emacs\", \"friendly\", \"fruity\", \"github\", \"igor\", \"lovelace\", \"manni\", \"monokai\",\n        \"monokailight\", \"murphy\", \"native\", \"paraiso-dark\", \"paraiso-light\", \"pastie\", \"perldoc\", \"pygments\",\n        \"rainbow_dash\", \"rrt\", \"solarized-dark\", \"solarized-dark256\", \"solarized-light\", \"swapoff\", \"tango\", \"trac\",\n        \"vim\", \"vs\", \"xcode\", \"ant-design\"];\n    Constants.CODE_LANGUAGES = [\"mermaid\", \"echarts\", \"mindmap\", \"plantuml\", \"abc\", \"graphviz\", \"flowchart\", \"apache\",\n        \"js\", \"ts\", \"html\",\n        // common\n        \"properties\", \"apache\", \"bash\", \"c\", \"csharp\", \"cpp\", \"css\", \"coffeescript\", \"diff\", \"go\", \"xml\", \"http\",\n        \"json\", \"java\", \"javascript\", \"kotlin\", \"less\", \"lua\", \"makefile\", \"markdown\", \"nginx\", \"objectivec\", \"php\",\n        \"php-template\", \"perl\", \"plaintext\", \"python\", \"python-repl\", \"r\", \"ruby\", \"rust\", \"scss\", \"sql\", \"shell\",\n        \"swift\", \"ini\", \"typescript\", \"vbnet\", \"yaml\",\n        \"ada\", \"clojure\", \"dart\", \"erb\", \"fortran\", \"gradle\", \"haskell\", \"julia\", \"julia-repl\", \"lisp\", \"matlab\",\n        \"pgsql\", \"powershell\", \"sql_more\", \"stata\", \"cmake\", \"mathematica\"];\n    Constants.CDN = \"https://cdn.jsdelivr.net/npm/vditor@\" + \"3.8.7\";\n    Constants.MARKDOWN_OPTIONS = {\n        autoSpace: false,\n        codeBlockPreview: true,\n        fixTermTypo: false,\n        footnotes: true,\n        linkBase: \"\",\n        linkPrefix: \"\",\n        listStyle: false,\n        mark: false,\n        mathBlockPreview: true,\n        paragraphBeginningSpace: false,\n        sanitize: true,\n        toc: false,\n    };\n    Constants.HLJS_OPTIONS = {\n        enable: true,\n        lineNumber: false,\n        style: \"github\",\n    };\n    Constants.MATH_OPTIONS = {\n        engine: \"KaTeX\",\n        inlineDigit: false,\n        macros: {},\n    };\n    Constants.THEME_OPTIONS = {\n        current: \"light\",\n        list: {\n            \"ant-design\": \"Ant Design\",\n            \"dark\": \"Dark\",\n            \"light\": \"Light\",\n            \"wechat\": \"WeChat\",\n        },\n        path: Constants.CDN + \"/dist/css/content-theme\",\n    };\n    return Constants;\n}());\n\n\n\n/***/ }),\n\n/***/ 369:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Q\": () => (/* binding */ abcRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar abcRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var abcElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getElements(element);\n    if (abcElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/abcjs/abcjs_basic.min.js\", \"vditorAbcjsScript\").then(function () {\n            abcElements.forEach(function (item) {\n                if (item.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    item.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (item.getAttribute(\"data-processed\") === \"true\") {\n                    return;\n                }\n                ABCJS.renderAbc(item, _adapterRender__WEBPACK_IMPORTED_MODULE_1__.abcRenderAdapter.getCode(item).trim());\n                item.style.overflowX = \"auto\";\n                item.setAttribute(\"data-processed\", \"true\");\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 46:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"mathRenderAdapter\": () => (/* binding */ mathRenderAdapter),\n/* harmony export */   \"mermaidRenderAdapter\": () => (/* binding */ mermaidRenderAdapter),\n/* harmony export */   \"mindmapRenderAdapter\": () => (/* binding */ mindmapRenderAdapter),\n/* harmony export */   \"chartRenderAdapter\": () => (/* binding */ chartRenderAdapter),\n/* harmony export */   \"abcRenderAdapter\": () => (/* binding */ abcRenderAdapter),\n/* harmony export */   \"graphvizRenderAdapter\": () => (/* binding */ graphvizRenderAdapter),\n/* harmony export */   \"flowchartRenderAdapter\": () => (/* binding */ flowchartRenderAdapter),\n/* harmony export */   \"plantumlRenderAdapter\": () => (/* binding */ plantumlRenderAdapter)\n/* harmony export */ });\nvar mathRenderAdapter = {\n    getCode: function (mathElement) { return mathElement.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-math\"); },\n};\nvar mermaidRenderAdapter = {\n    /** 不仅要返回code，并且需要将 code 设置为 el 的 innerHTML */\n    getCode: function (el) { return el.textContent; },\n    getElements: function (element) { return element.querySelectorAll(\".language-mermaid\"); },\n};\nvar mindmapRenderAdapter = {\n    getCode: function (el) { return el.getAttribute(\"data-code\"); },\n    getElements: function (el) { return el.querySelectorAll(\".language-mindmap\"); },\n};\nvar chartRenderAdapter = {\n    getCode: function (el) { return el.innerText; },\n    getElements: function (el) { return el.querySelectorAll(\".language-echarts\"); },\n};\nvar abcRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-abc\"); },\n};\nvar graphvizRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-graphviz\"); },\n};\nvar flowchartRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-flowchart\"); },\n};\nvar plantumlRenderAdapter = {\n    getCode: function (el) { return el.textContent; },\n    getElements: function (el) { return el.querySelectorAll(\".language-plantuml\"); },\n};\n\n\n/***/ }),\n\n/***/ 726:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"p\": () => (/* binding */ chartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar chartRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var echartsElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getElements(element);\n    if (echartsElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            echartsElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.chartRenderAdapter.getCode(e).trim();\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    var option = JSON.parse(text);\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption(option);\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"echarts render error: <br>\" + error;\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 23:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"O\": () => (/* binding */ codeRender)\n/* harmony export */ });\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(769);\n\nvar codeRender = function (element) {\n    element.querySelectorAll(\"pre > code\").forEach(function (e, index) {\n        if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n            e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n            return;\n        }\n        if (e.classList.contains(\"language-mermaid\") || e.classList.contains(\"language-flowchart\") ||\n            e.classList.contains(\"language-echarts\") || e.classList.contains(\"language-mindmap\") ||\n            e.classList.contains(\"language-plantuml\") ||\n            e.classList.contains(\"language-abc\") || e.classList.contains(\"language-graphviz\") ||\n            e.classList.contains(\"language-math\")) {\n            return;\n        }\n        if (e.style.maxHeight.indexOf(\"px\") > -1) {\n            return;\n        }\n        // 避免预览区在渲染后由于代码块过多产生性能问题 https://github.com/b3log/vditor/issues/67\n        if (element.classList.contains(\"vditor-preview\") && index > 5) {\n            return;\n        }\n        var codeText = e.innerText;\n        if (e.classList.contains(\"highlight-chroma\")) {\n            var codeElement = document.createElement(\"code\");\n            codeElement.innerHTML = e.innerHTML;\n            codeElement.querySelectorAll(\".highlight-ln\").forEach(function (item) {\n                item.remove();\n            });\n            codeText = codeElement.innerText;\n        }\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-copy\";\n        divElement.innerHTML = \"<span aria-label=\\\"\" + window.VditorI18n.copy + \"\\\"\\nonmouseover=\\\"this.setAttribute('aria-label', '\" + window.VditorI18n.copy + \"')\\\"\\nclass=\\\"vditor-tooltipped vditor-tooltipped__w\\\"\\nonclick=\\\"this.previousElementSibling.select();document.execCommand('copy');\" +\n            (\"this.setAttribute('aria-label', '\" + window.VditorI18n.copied + \"')\\\"><svg><use xlink:href=\\\"#vditor-icon-copy\\\"></use></svg></span>\");\n        var textarea = document.createElement(\"textarea\");\n        textarea.value = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_0__/* .code160to32 */ .X)(codeText);\n        divElement.insertAdjacentElement(\"afterbegin\", textarea);\n        e.before(divElement);\n        e.style.maxHeight = (window.outerHeight - 40) + \"px\";\n    });\n};\n\n\n/***/ }),\n\n/***/ 383:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ flowchartRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar flowchartRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var flowchartElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getElements(element);\n    if (flowchartElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/flowchart.js/flowchart.min.js\", \"vditorFlowchartScript\").then(function () {\n        flowchartElements.forEach(function (item) {\n            if (item.getAttribute(\"data-processed\") === \"true\") {\n                return;\n            }\n            var flowchartObj = flowchart.parse(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.flowchartRenderAdapter.getCode(item));\n            item.innerHTML = \"\";\n            flowchartObj.drawSVG(item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 890:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"v\": () => (/* binding */ graphvizRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar graphvizRender = function (element, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var graphvizElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getElements(element);\n    if (graphvizElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/graphviz/viz.js\", \"vditorGraphVizScript\").then(function () {\n        graphvizElements.forEach(function (e) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.graphvizRenderAdapter.getCode(e);\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            if (e.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            try {\n                var blob = new Blob([\"importScripts('\" + document.getElementById(\"vditorGraphVizScript\").src.replace(\"viz.js\", \"full.render.js\") + \"');\"], { type: \"application/javascript\" });\n                var url = window.URL || window.webkitURL;\n                var blobUrl = url.createObjectURL(blob);\n                var worker = new Worker(blobUrl);\n                new Viz({ worker: worker })\n                    .renderSVGElement(code).then(function (result) {\n                    e.innerHTML = result.outerHTML;\n                }).catch(function (error) {\n                    e.innerHTML = \"graphviz render error: <br>\" + error;\n                    e.className = \"vditor-reset--error\";\n                });\n            }\n            catch (e) {\n                console.error(\"graphviz error\", e);\n            }\n            e.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 93:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"s\": () => (/* binding */ highlightRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n\n\n\nvar highlightRender = function (hljsOption, element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var style = hljsOption.style;\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(style)) {\n        style = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = cdn + \"/dist/js/highlight.js/styles/\" + style + \".css\";\n    if (vditorHljsStyle && vditorHljsStyle.href !== href) {\n        vditorHljsStyle.remove();\n    }\n    (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(cdn + \"/dist/js/highlight.js/styles/\" + style + \".css\", \"vditorHljsStyle\");\n    if (hljsOption.enable === false) {\n        return;\n    }\n    var codes = element.querySelectorAll(\"pre > code\");\n    if (codes.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/highlight.js/highlight.pack.js\", \"vditorHljsScript\").then(function () {\n        element.querySelectorAll(\"pre > code\").forEach(function (block) {\n            // ir & wysiwyg 区域不渲染\n            if (block.parentElement.classList.contains(\"vditor-ir__marker--pre\") ||\n                block.parentElement.classList.contains(\"vditor-wysiwyg__pre\")) {\n                return;\n            }\n            if (block.classList.contains(\"language-mermaid\") || block.classList.contains(\"language-flowchart\") ||\n                block.classList.contains(\"language-echarts\") || block.classList.contains(\"language-mindmap\") ||\n                block.classList.contains(\"language-plantuml\") ||\n                block.classList.contains(\"language-abc\") || block.classList.contains(\"language-graphviz\") ||\n                block.classList.contains(\"language-math\")) {\n                return;\n            }\n            hljs.highlightElement(block);\n            if (!hljsOption.lineNumber) {\n                return;\n            }\n            block.classList.add(\"vditor-linenumber\");\n            var linenNumberTemp = block.querySelector(\".vditor-linenumber__temp\");\n            if (!linenNumberTemp) {\n                linenNumberTemp = document.createElement(\"div\");\n                linenNumberTemp.className = \"vditor-linenumber__temp\";\n                block.insertAdjacentElement(\"beforeend\", linenNumberTemp);\n            }\n            var whiteSpace = getComputedStyle(block).whiteSpace;\n            var isSoftWrap = false;\n            if (whiteSpace === \"pre-wrap\" || whiteSpace === \"pre-line\") {\n                isSoftWrap = true;\n            }\n            var lineNumberHTML = \"\";\n            var lineList = block.textContent.split(/\\r\\n|\\r|\\n/g);\n            lineList.pop();\n            lineList.map(function (line) {\n                var lineHeight = \"\";\n                if (isSoftWrap) {\n                    linenNumberTemp.textContent = line || \"\\n\";\n                    lineHeight = \" style=\\\"height:\" + linenNumberTemp.getBoundingClientRect().height + \"px\\\"\";\n                }\n                lineNumberHTML += \"<span\" + lineHeight + \"></span>\";\n            });\n            linenNumberTemp.style.display = \"none\";\n            lineNumberHTML = \"<span class=\\\"vditor-linenumber__rows\\\">\" + lineNumberHTML + \"</span>\";\n            block.insertAdjacentHTML(\"beforeend\", lineNumberHTML);\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 323:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"H\": () => (/* binding */ mathRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(228);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(946);\n/* harmony import */ var _util_code160to32__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(769);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\n\n\nvar mathRender = function (element, options) {\n    var mathElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getElements(element);\n    if (mathElements.length === 0) {\n        return;\n    }\n    var defaultOptions = {\n        cdn: _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN,\n        math: {\n            engine: \"KaTeX\",\n            inlineDigit: false,\n            macros: {},\n        },\n    };\n    if (options && options.math) {\n        options.math =\n            Object.assign({}, defaultOptions.math, options.math);\n    }\n    options = Object.assign({}, defaultOptions, options);\n    if (options.math.engine === \"KaTeX\") {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_2__/* .addStyle */ .c)(options.cdn + \"/dist/js/katex/katex.min.css\", \"vditorKatexStyle\");\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScript */ .G)(options.cdn + \"/dist/js/katex/katex.min.js\", \"vditorKatexScript\").then(function () {\n            mathElements.forEach(function (mathElement) {\n                if (mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                if (mathElement.getAttribute(\"data-math\")) {\n                    return;\n                }\n                var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(_adapterRender__WEBPACK_IMPORTED_MODULE_1__.mathRenderAdapter.getCode(mathElement));\n                mathElement.setAttribute(\"data-math\", math);\n                try {\n                    mathElement.innerHTML = katex.renderToString(math, {\n                        displayMode: mathElement.tagName === \"DIV\",\n                        output: \"html\",\n                    });\n                }\n                catch (e) {\n                    mathElement.innerHTML = e.message;\n                    mathElement.className = \"language-math vditor-reset--error\";\n                }\n                mathElement.addEventListener(\"copy\", function (event) {\n                    event.stopPropagation();\n                    event.preventDefault();\n                    var vditorMathElement = event.currentTarget.closest(\".language-math\");\n                    event.clipboardData.setData(\"text/html\", vditorMathElement.innerHTML);\n                    event.clipboardData.setData(\"text/plain\", vditorMathElement.getAttribute(\"data-math\"));\n                });\n            });\n        });\n    }\n    else if (options.math.engine === \"MathJax\") {\n        var chainAsync_1 = function (fns) {\n            if (fns.length === 0) {\n                return;\n            }\n            var curr = 0;\n            var last = fns[fns.length - 1];\n            var next = function () {\n                var fn = fns[curr++];\n                fn === last ? fn() : fn(next);\n            };\n            next();\n        };\n        if (!window.MathJax) {\n            window.MathJax = {\n                loader: {\n                    paths: { mathjax: options.cdn + \"/dist/js/mathjax\" },\n                },\n                startup: {\n                    typeset: false,\n                },\n                tex: {\n                    macros: options.math.macros,\n                },\n            };\n        }\n        // 循环加载会抛异常\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_3__/* .addScriptSync */ .J)(options.cdn + \"/dist/js/mathjax/tex-svg-full.js\", \"protyleMathJaxScript\");\n        var renderMath_1 = function (mathElement, next) {\n            var math = (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim();\n            var mathOptions = window.MathJax.getMetricsFor(mathElement);\n            mathOptions.display = mathElement.tagName === \"DIV\";\n            window.MathJax.tex2svgPromise(math, mathOptions).then(function (node) {\n                mathElement.innerHTML = \"\";\n                mathElement.setAttribute(\"data-math\", math);\n                mathElement.append(node);\n                window.MathJax.startup.document.clear();\n                window.MathJax.startup.document.updateDocument();\n                var errorTextElement = node.querySelector('[data-mml-node=\"merror\"]');\n                if (errorTextElement && errorTextElement.textContent.trim() !== \"\") {\n                    mathElement.innerHTML = errorTextElement.textContent.trim();\n                    mathElement.className = \"vditor-reset--error\";\n                }\n                if (next) {\n                    next();\n                }\n            });\n        };\n        window.MathJax.startup.promise.then(function () {\n            var chains = [];\n            var _loop_1 = function (i) {\n                var mathElement = mathElements[i];\n                if (!mathElement.parentElement.classList.contains(\"vditor-wysiwyg__pre\") &&\n                    !mathElement.parentElement.classList.contains(\"vditor-ir__marker--pre\") &&\n                    !mathElement.getAttribute(\"data-math\") && (0,_util_code160to32__WEBPACK_IMPORTED_MODULE_4__/* .code160to32 */ .X)(mathElement.textContent).trim()) {\n                    chains.push(function (next) {\n                        if (i === mathElements.length - 1) {\n                            renderMath_1(mathElement);\n                        }\n                        else {\n                            renderMath_1(mathElement, next);\n                        }\n                    });\n                }\n            };\n            for (var i = 0; i < mathElements.length; i++) {\n                _loop_1(i);\n            }\n            chainAsync_1(chains);\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 207:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ mediaRender)\n/* harmony export */ });\nvar videoRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<video controls=\\\"controls\\\" src=\\\"\" + url + \"\\\"></video>\");\n    element.remove();\n};\nvar audioRender = function (element, url) {\n    element.insertAdjacentHTML(\"afterend\", \"<audio controls=\\\"controls\\\" src=\\\"\" + url + \"\\\"></audio>\");\n    element.remove();\n};\nvar iframeRender = function (element, url) {\n    var youtubeMatch = url.match(/\\/\\/(?:www\\.)?(?:youtu\\.be\\/|youtube\\.com\\/(?:embed\\/|v\\/|watch\\?v=|watch\\?.+&v=))([\\w|-]{11})(?:(?:[\\?&]t=)(\\S+))?/);\n    var youkuMatch = url.match(/\\/\\/v\\.youku\\.com\\/v_show\\/id_(\\w+)=*\\.html/);\n    var qqMatch = url.match(/\\/\\/v\\.qq\\.com\\/x\\/cover\\/.*\\/([^\\/]+)\\.html\\??.*/);\n    var coubMatch = url.match(/(?:www\\.|\\/\\/)coub\\.com\\/view\\/(\\w+)/);\n    var facebookMatch = url.match(/(?:www\\.|\\/\\/)facebook\\.com\\/([^\\/]+)\\/videos\\/([0-9]+)/);\n    var dailymotionMatch = url.match(/.+dailymotion.com\\/(video|hub)\\/(\\w+)\\?/);\n    var bilibiliMatch = url.match(/(?:www\\.|\\/\\/)bilibili\\.com\\/video\\/(\\w+)/);\n    var tedMatch = url.match(/(?:www\\.|\\/\\/)ted\\.com\\/talks\\/(\\w+)/);\n    if (youtubeMatch && youtubeMatch[1].length === 11) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//www.youtube.com/embed/\" + (youtubeMatch[1] +\n            (youtubeMatch[2] ? \"?start=\" + youtubeMatch[2] : \"\")) + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (youkuMatch && youkuMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//player.youku.com/embed/\" + youkuMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (qqMatch && qqMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"https://v.qq.com/txp/iframe/player.html?vid=\" + qqMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (coubMatch && coubMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//coub.com/embed/\" + coubMatch[1] + \"?muted=false&autostart=false&originalSize=true&startWithHD=true\\\"></iframe>\");\n        element.remove();\n    }\n    else if (facebookMatch && facebookMatch[0]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.facebook.com/plugins/video.php?href=\" + encodeURIComponent(facebookMatch[0]) + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (dailymotionMatch && dailymotionMatch[2]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"https://www.dailymotion.com/embed/video/\" + dailymotionMatch[2] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (bilibiliMatch && bilibiliMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\"\\n src=\\\"//player.bilibili.com/player.html?bvid=\" + bilibiliMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n    else if (tedMatch && tedMatch[1]) {\n        element.insertAdjacentHTML(\"afterend\", \"<iframe class=\\\"iframe__video\\\" src=\\\"//embed.ted.com/talks/\" + tedMatch[1] + \"\\\"></iframe>\");\n        element.remove();\n    }\n};\nvar mediaRender = function (element) {\n    if (!element) {\n        return;\n    }\n    element.querySelectorAll(\"a\").forEach(function (aElement) {\n        var url = aElement.getAttribute(\"href\");\n        if (!url) {\n            return;\n        }\n        if (url.match(/^.+.(mp4|m4v|ogg|ogv|webm)$/)) {\n            videoRender(aElement, url);\n        }\n        else if (url.match(/^.+.(mp3|wav|flac)$/)) {\n            audioRender(aElement, url);\n        }\n        else {\n            iframeRender(aElement, url);\n        }\n    });\n};\n\n\n/***/ }),\n\n/***/ 765:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"i\": () => (/* binding */ mermaidRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar mermaidRender = function (element, cdn, theme) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mermaidElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getElements(element);\n    if (mermaidElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/mermaid/mermaid.min.js\", \"vditorMermaidScript\").then(function () {\n        var config = {\n            altFontFamily: \"sans-serif\",\n            flowchart: {\n                htmlLabels: true,\n                useMaxWidth: true,\n            },\n            fontFamily: \"sans-serif\",\n            gantt: {\n                leftPadding: 75,\n                rightPadding: 20,\n            },\n            securityLevel: \"loose\",\n            sequence: {\n                boxMargin: 8,\n                diagramMarginX: 8,\n                diagramMarginY: 8,\n                useMaxWidth: true,\n            },\n            startOnLoad: false,\n        };\n        if (theme === \"dark\") {\n            config.theme = \"dark\";\n            config.themeVariables = {\n                activationBkgColor: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                activationBorderColor: \"#81B1DB\",\n                activeTaskBkgColor: \"#81B1DB\",\n                activeTaskBorderColor: \"#ffffff\",\n                actorBkg: \"#1f2020\",\n                actorBorder: \"#81B1DB\",\n                actorLineColor: \"lightgrey\",\n                actorTextColor: \"lightgrey\",\n                altBackground: \"hsl(0, 0%, 40%)\",\n                altSectionBkgColor: \"#333\",\n                arrowheadColor: \"lightgrey\",\n                background: \"#333\",\n                border1: \"#81B1DB\",\n                border2: \"rgba(255, 255, 255, 0.25)\",\n                classText: \"#e0dfdf\",\n                clusterBkg: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                clusterBorder: \"rgba(255, 255, 255, 0.25)\",\n                critBkgColor: \"#E83737\",\n                critBorderColor: \"#E83737\",\n                darkTextColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                defaultLinkColor: \"lightgrey\",\n                doneTaskBkgColor: \"lightgrey\",\n                doneTaskBorderColor: \"grey\",\n                edgeLabelBackground: \"hsl(0, 0%, 34.4117647059%)\",\n                errorBkgColor: \"#a44141\",\n                errorTextColor: \"#ddd\",\n                fillType0: \"#1f2020\",\n                fillType1: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                fillType2: \"hsl(244, 1.5873015873%, 12.3529411765%)\",\n                fillType3: \"hsl(244, 1.5873015873%, 28.3529411765%)\",\n                fillType4: \"hsl(116, 1.5873015873%, 12.3529411765%)\",\n                fillType5: \"hsl(116, 1.5873015873%, 28.3529411765%)\",\n                fillType6: \"hsl(308, 1.5873015873%, 12.3529411765%)\",\n                fillType7: \"hsl(308, 1.5873015873%, 28.3529411765%)\",\n                fontFamily: \"\\\"trebuchet ms\\\", verdana, arial\",\n                fontSize: \"16px\",\n                gridColor: \"lightgrey\",\n                labelBackground: \"#181818\",\n                labelBoxBkgColor: \"#1f2020\",\n                labelBoxBorderColor: \"#81B1DB\",\n                labelColor: \"#ccc\",\n                labelTextColor: \"lightgrey\",\n                lineColor: \"lightgrey\",\n                loopTextColor: \"lightgrey\",\n                mainBkg: \"#1f2020\",\n                mainContrastColor: \"lightgrey\",\n                nodeBkg: \"#1f2020\",\n                nodeBorder: \"#81B1DB\",\n                noteBkgColor: \"#fff5ad\",\n                noteBorderColor: \"rgba(255, 255, 255, 0.25)\",\n                noteTextColor: \"#1f2020\",\n                primaryBorderColor: \"hsl(180, 0%, 2.3529411765%)\",\n                primaryColor: \"#1f2020\",\n                primaryTextColor: \"#e0dfdf\",\n                secondBkg: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                secondaryBorderColor: \"hsl(180, 0%, 18.3529411765%)\",\n                secondaryColor: \"hsl(180, 1.5873015873%, 28.3529411765%)\",\n                secondaryTextColor: \"rgb(183.8476190475, 181.5523809523, 181.5523809523)\",\n                sectionBkgColor: \"hsl(52.9411764706, 28.813559322%, 58.431372549%)\",\n                sectionBkgColor2: \"#EAE8D9\",\n                sequenceNumberColor: \"black\",\n                signalColor: \"lightgrey\",\n                signalTextColor: \"lightgrey\",\n                taskBkgColor: \"hsl(180, 1.5873015873%, 35.3529411765%)\",\n                taskBorderColor: \"#ffffff\",\n                taskTextClickableColor: \"#003163\",\n                taskTextColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                taskTextDarkColor: \"hsl(28.5714285714, 17.3553719008%, 86.2745098039%)\",\n                taskTextLightColor: \"lightgrey\",\n                taskTextOutsideColor: \"lightgrey\",\n                tertiaryBorderColor: \"hsl(20, 0%, 2.3529411765%)\",\n                tertiaryColor: \"hsl(20, 1.5873015873%, 12.3529411765%)\",\n                tertiaryTextColor: \"rgb(222.9999999999, 223.6666666666, 223.9999999999)\",\n                textColor: \"#ccc\",\n                titleColor: \"#F9FFFE\",\n                todayLineColor: \"#DB5757\",\n            };\n        }\n        mermaid.initialize(config);\n        mermaidElements.forEach(function (item) {\n            var code = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mermaidRenderAdapter.getCode(item);\n            if (item.getAttribute(\"data-processed\") === \"true\" || code.trim() === \"\") {\n                return;\n            }\n            mermaid.init(undefined, item);\n            item.setAttribute(\"data-processed\", \"true\");\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 894:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"P\": () => (/* binding */ mindmapRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar mindmapRender = function (element, cdn, theme) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var mindmapElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getElements(element);\n    if (mindmapElements.length > 0) {\n        (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            mindmapElements.forEach(function (e) {\n                if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                    e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                    return;\n                }\n                var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.mindmapRenderAdapter.getCode(e);\n                if (!text) {\n                    return;\n                }\n                try {\n                    if (e.getAttribute(\"data-processed\") === \"true\") {\n                        return;\n                    }\n                    echarts.init(e, theme === \"dark\" ? \"dark\" : undefined).setOption({\n                        series: [\n                            {\n                                data: [JSON.parse(decodeURIComponent(text))],\n                                initialTreeDepth: -1,\n                                itemStyle: {\n                                    borderWidth: 0,\n                                    color: \"#4285f4\",\n                                },\n                                label: {\n                                    backgroundColor: \"#f6f8fa\",\n                                    borderColor: \"#d1d5da\",\n                                    borderRadius: 5,\n                                    borderWidth: 0.5,\n                                    color: \"#586069\",\n                                    lineHeight: 20,\n                                    offset: [-5, 0],\n                                    padding: [0, 5],\n                                    position: \"insideRight\",\n                                },\n                                lineStyle: {\n                                    color: \"#d1d5da\",\n                                    width: 1,\n                                },\n                                roam: true,\n                                symbol: function (value, params) {\n                                    var _a;\n                                    if ((_a = params === null || params === void 0 ? void 0 : params.data) === null || _a === void 0 ? void 0 : _a.children) {\n                                        return \"circle\";\n                                    }\n                                    else {\n                                        return \"path://\";\n                                    }\n                                },\n                                type: \"tree\",\n                            },\n                        ],\n                        tooltip: {\n                            trigger: \"item\",\n                            triggerOn: \"mousemove\",\n                        },\n                    });\n                    e.setAttribute(\"data-processed\", \"true\");\n                }\n                catch (error) {\n                    e.className = \"vditor-reset--error\";\n                    e.innerHTML = \"mindmap render error: <br>\" + error;\n                }\n            });\n        });\n    }\n};\n\n\n/***/ }),\n\n/***/ 198:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"k\": () => (/* binding */ outlineRender)\n/* harmony export */ });\n/* harmony import */ var _util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(615);\n/* harmony import */ var _mathRender__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(323);\n\n\nvar outlineRender = function (contentElement, targetElement, vditor) {\n    var tocHTML = \"\";\n    var ids = [];\n    Array.from(contentElement.children).forEach(function (item, index) {\n        if ((0,_util_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByHeadings */ .W)(item)) {\n            if (vditor) {\n                var lastIndex = item.id.lastIndexOf(\"_\");\n                item.id = item.id.substring(0, lastIndex === -1 ? undefined : lastIndex) + \"_\" + index;\n            }\n            ids.push(item.id);\n            tocHTML += item.outerHTML.replace(\"<wbr>\", \"\");\n        }\n    });\n    if (tocHTML === \"\") {\n        targetElement.innerHTML = \"\";\n        return \"\";\n    }\n    var tempElement = document.createElement(\"div\");\n    if (vditor) {\n        vditor.lute.SetToC(true);\n        if (vditor.currentMode === \"wysiwyg\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else if (vditor.currentMode === \"ir\" && !vditor.preview.element.contains(contentElement)) {\n            tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        else {\n            tempElement.innerHTML = vditor.lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n        }\n        vditor.lute.SetToC(vditor.options.preview.markdown.toc);\n    }\n    else {\n        targetElement.classList.add(\"vditor-outline\");\n        var lute = Lute.New();\n        lute.SetToC(true);\n        tempElement.innerHTML = lute.HTML2VditorDOM(\"<p>[ToC]</p>\" + tocHTML);\n    }\n    var headingsElement = tempElement.firstElementChild.querySelectorAll(\"li > span[data-target-id]\");\n    headingsElement.forEach(function (item, index) {\n        if (item.nextElementSibling && item.nextElementSibling.tagName === \"UL\") {\n            item.innerHTML = \"<svg class='vditor-outline__action'><use xlink:href='#vditor-icon-down'></use></svg><span>\" + item.innerHTML + \"</span>\";\n        }\n        else {\n            item.innerHTML = \"<svg></svg><span>\" + item.innerHTML + \"</span>\";\n        }\n        item.setAttribute(\"data-target-id\", ids[index]);\n    });\n    tocHTML = tempElement.firstElementChild.innerHTML;\n    if (headingsElement.length === 0) {\n        targetElement.innerHTML = \"\";\n        return tocHTML;\n    }\n    targetElement.innerHTML = tocHTML;\n    if (vditor) {\n        (0,_mathRender__WEBPACK_IMPORTED_MODULE_0__/* .mathRender */ .H)(targetElement, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    }\n    targetElement.firstElementChild.addEventListener(\"click\", function (event) {\n        var target = event.target;\n        while (target && !target.isEqualNode(targetElement)) {\n            if (target.classList.contains(\"vditor-outline__action\")) {\n                if (target.classList.contains(\"vditor-outline__action--close\")) {\n                    target.classList.remove(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:block\");\n                }\n                else {\n                    target.classList.add(\"vditor-outline__action--close\");\n                    target.parentElement.nextElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n                event.preventDefault();\n                event.stopPropagation();\n                break;\n            }\n            else if (target.getAttribute(\"data-target-id\")) {\n                event.preventDefault();\n                event.stopPropagation();\n                var idElement = document.getElementById(target.getAttribute(\"data-target-id\"));\n                if (!idElement) {\n                    return;\n                }\n                if (vditor) {\n                    if (vditor.options.height === \"auto\") {\n                        var windowScrollY = idElement.offsetTop + vditor.element.offsetTop;\n                        if (!vditor.options.toolbarConfig.pin) {\n                            windowScrollY += vditor.toolbar.element.offsetHeight;\n                        }\n                        window.scrollTo(window.scrollX, windowScrollY);\n                    }\n                    else {\n                        if (vditor.element.offsetTop < window.scrollY) {\n                            window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                        }\n                        if (vditor.preview.element.contains(contentElement)) {\n                            contentElement.parentElement.scrollTop = idElement.offsetTop;\n                        }\n                        else {\n                            contentElement.scrollTop = idElement.offsetTop;\n                        }\n                    }\n                }\n                else {\n                    window.scrollTo(window.scrollX, idElement.offsetTop);\n                }\n                break;\n            }\n            target = target.parentElement;\n        }\n    });\n    return tocHTML;\n};\n\n\n/***/ }),\n\n/***/ 583:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"B\": () => (/* binding */ plantumlRender)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addScript__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(228);\n/* harmony import */ var _adapterRender__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(46);\n\n\n\nvar plantumlRender = function (element, cdn) {\n    if (element === void 0) { element = document; }\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    var plantumlElements = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getElements(element);\n    if (plantumlElements.length === 0) {\n        return;\n    }\n    (0,_util_addScript__WEBPACK_IMPORTED_MODULE_2__/* .addScript */ .G)(cdn + \"/dist/js/plantuml/plantuml-encoder.min.js\", \"vditorPlantumlScript\").then(function () {\n        plantumlElements.forEach(function (e) {\n            if (e.parentElement.classList.contains(\"vditor-wysiwyg__pre\") ||\n                e.parentElement.classList.contains(\"vditor-ir__marker--pre\")) {\n                return;\n            }\n            var text = _adapterRender__WEBPACK_IMPORTED_MODULE_1__.plantumlRenderAdapter.getCode(e).trim();\n            if (!text) {\n                return;\n            }\n            try {\n                e.innerHTML = \"<img src=\\\"http://www.plantuml.com/plantuml/svg/~1\" + plantumlEncoder.encode(text) + \"\\\">\";\n            }\n            catch (error) {\n                e.className = \"vditor-reset--error\";\n                e.innerHTML = \"plantuml render error: <br>\" + error;\n            }\n        });\n    });\n};\n\n\n/***/ }),\n\n/***/ 792:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ setLute)\n/* harmony export */ });\nvar setLute = function (options) {\n    var lute = Lute.New();\n    lute.PutEmojis(options.emojis);\n    lute.SetEmojiSite(options.emojiSite);\n    lute.SetHeadingAnchor(options.headingAnchor);\n    lute.SetInlineMathAllowDigitAfterOpenMarker(options.inlineMathDigit);\n    lute.SetAutoSpace(options.autoSpace);\n    lute.SetToC(options.toc);\n    lute.SetFootnotes(options.footnotes);\n    lute.SetFixTermTypo(options.fixTermTypo);\n    lute.SetVditorCodeBlockPreview(options.codeBlockPreview);\n    lute.SetVditorMathBlockPreview(options.mathBlockPreview);\n    lute.SetSanitize(options.sanitize);\n    lute.SetChineseParagraphBeginningSpace(options.paragraphBeginningSpace);\n    lute.SetRenderListStyle(options.listStyle);\n    lute.SetLinkBase(options.linkBase);\n    lute.SetLinkPrefix(options.linkPrefix);\n    lute.SetMark(options.mark);\n    if (options.lazyLoadImage) {\n        lute.SetImageLazyLoading(options.lazyLoadImage);\n    }\n    return lute;\n};\n\n\n/***/ }),\n\n/***/ 264:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"E\": () => (/* binding */ previewImage)\n/* harmony export */ });\nvar previewImage = function (oldImgElement, lang, theme) {\n    if (lang === void 0) { lang = \"zh_CN\"; }\n    if (theme === void 0) { theme = \"classic\"; }\n    var oldImgRect = oldImgElement.getBoundingClientRect();\n    var height = 36;\n    document.body.insertAdjacentHTML(\"beforeend\", \"<div class=\\\"vditor vditor-img\" + (theme === \"dark\" ? \" vditor--dark\" : \"\") + \"\\\">\\n    <div class=\\\"vditor-img__bar\\\">\\n      <span class=\\\"vditor-img__btn\\\" data-deg=\\\"0\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-redo\\\"></use></svg>\\n        \" + window.VditorI18n.spin + \"\\n      </span>\\n      <span class=\\\"vditor-img__btn\\\"  onclick=\\\"this.parentElement.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n        X &nbsp;\" + window.VditorI18n.close + \"\\n      </span>\\n    </div>\\n    <div class=\\\"vditor-img__img\\\" onclick=\\\"this.parentElement.outerHTML = '';document.body.style.overflow = ''\\\">\\n      <img style=\\\"width: \" + oldImgElement.width + \"px;height:\" + oldImgElement.height + \"px;transform: translate3d(\" + oldImgRect.left + \"px, \" + (oldImgRect.top - height) + \"px, 0)\\\" src=\\\"\" + oldImgElement.getAttribute(\"src\") + \"\\\">\\n    </div>\\n</div>\");\n    document.body.style.overflow = \"hidden\";\n    // 图片从原始位置移动到预览正中间的动画效果\n    var imgElement = document.querySelector(\".vditor-img img\");\n    var translate3d = \"translate3d(\" + Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2 + \"px, \" + Math.max(0, window.innerHeight - height - oldImgElement.naturalHeight) / 2 + \"px, 0)\";\n    setTimeout(function () {\n        imgElement.setAttribute(\"style\", \"transition: transform .3s ease-in-out;transform: \" + translate3d);\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n    // 旋转\n    var btnElement = document.querySelector(\".vditor-img__btn\");\n    btnElement.addEventListener(\"click\", function () {\n        var deg = parseInt(btnElement.getAttribute(\"data-deg\"), 10) + 90;\n        if ((deg / 90) % 2 === 1 && oldImgElement.naturalWidth > imgElement.parentElement.clientHeight) {\n            imgElement.style.transform = \"translate3d(\" + Math.max(0, window.innerWidth - oldImgElement.naturalWidth) / 2 + \"px, \" + (oldImgElement.naturalWidth / 2 - oldImgElement.naturalHeight / 2) + \"px, 0) rotateZ(\" + deg + \"deg)\";\n        }\n        else {\n            imgElement.style.transform = translate3d + \" rotateZ(\" + deg + \"deg)\";\n        }\n        btnElement.setAttribute(\"data-deg\", deg.toString());\n        setTimeout(function () {\n            imgElement.parentElement.scrollTo((imgElement.parentElement.scrollWidth - imgElement.parentElement.clientWidth) / 2, (imgElement.parentElement.scrollHeight - imgElement.parentElement.clientHeight) / 2);\n        }, 400);\n    });\n};\n\n\n/***/ }),\n\n/***/ 968:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Y\": () => (/* binding */ setCodeTheme)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(946);\n\n\nvar setCodeTheme = function (codeTheme, cdn) {\n    if (cdn === void 0) { cdn = _constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CDN */ .g.CDN; }\n    if (!_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.CODE_THEME.includes */ .g.CODE_THEME.includes(codeTheme)) {\n        codeTheme = \"github\";\n    }\n    var vditorHljsStyle = document.getElementById(\"vditorHljsStyle\");\n    var href = cdn + \"/dist/js/highlight.js/styles/\" + codeTheme + \".css\";\n    if (!vditorHljsStyle) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n    else if (vditorHljsStyle.href !== href) {\n        vditorHljsStyle.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_1__/* .addStyle */ .c)(href, \"vditorHljsStyle\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 958:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"Z\": () => (/* binding */ setContentTheme)\n/* harmony export */ });\n/* harmony import */ var _util_addStyle__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(946);\n\nvar setContentTheme = function (contentTheme, path) {\n    if (!contentTheme || !path) {\n        return;\n    }\n    var vditorContentTheme = document.getElementById(\"vditorContentTheme\");\n    var cssPath = path + \"/\" + contentTheme + \".css\";\n    if (!vditorContentTheme) {\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n    else if (vditorContentTheme.href !== cssPath) {\n        vditorContentTheme.remove();\n        (0,_util_addStyle__WEBPACK_IMPORTED_MODULE_0__/* .addStyle */ .c)(cssPath, \"vditorContentTheme\");\n    }\n};\n\n\n/***/ }),\n\n/***/ 228:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"J\": () => (/* binding */ addScriptSync),\n/* harmony export */   \"G\": () => (/* binding */ addScript)\n/* harmony export */ });\nvar addScriptSync = function (path, id) {\n    if (document.getElementById(id)) {\n        return false;\n    }\n    var xhrObj = new XMLHttpRequest();\n    xhrObj.open(\"GET\", path, false);\n    xhrObj.setRequestHeader(\"Accept\", \"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript, */*; q=0.01\");\n    xhrObj.send(\"\");\n    var scriptElement = document.createElement(\"script\");\n    scriptElement.type = \"text/javascript\";\n    scriptElement.text = xhrObj.responseText;\n    scriptElement.id = id;\n    document.head.appendChild(scriptElement);\n};\nvar addScript = function (path, id) {\n    return new Promise(function (resolve, reject) {\n        if (document.getElementById(id)) {\n            // 脚本加载后再次调用直接返回\n            resolve();\n            return false;\n        }\n        var scriptElement = document.createElement(\"script\");\n        scriptElement.src = path;\n        scriptElement.async = true;\n        // 循环调用时 Chrome 不会重复请求 js\n        document.head.appendChild(scriptElement);\n        scriptElement.onload = function () {\n            if (document.getElementById(id)) {\n                // 循环调用需清除 DOM 中的 script 标签\n                scriptElement.remove();\n                resolve();\n                return false;\n            }\n            scriptElement.id = id;\n            resolve();\n        };\n    });\n};\n\n\n/***/ }),\n\n/***/ 946:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"c\": () => (/* binding */ addStyle)\n/* harmony export */ });\nvar addStyle = function (url, id) {\n    if (!document.getElementById(id)) {\n        var styleElement = document.createElement(\"link\");\n        styleElement.id = id;\n        styleElement.rel = \"stylesheet\";\n        styleElement.type = \"text/css\";\n        styleElement.href = url;\n        document.getElementsByTagName(\"head\")[0].appendChild(styleElement);\n    }\n};\n\n\n/***/ }),\n\n/***/ 769:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"X\": () => (/* binding */ code160to32)\n/* harmony export */ });\nvar code160to32 = function (text) {\n    // 非打断空格转换为空格\n    return text.replace(/\\u00a0/g, \" \");\n};\n\n\n/***/ }),\n\n/***/ 931:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"G6\": () => (/* binding */ isSafari),\n/* harmony export */   \"vU\": () => (/* binding */ isFirefox),\n/* harmony export */   \"pK\": () => (/* binding */ accessLocalStorage),\n/* harmony export */   \"Le\": () => (/* binding */ getEventName),\n/* harmony export */   \"yl\": () => (/* binding */ isCtrl),\n/* harmony export */   \"ns\": () => (/* binding */ updateHotkeyTip),\n/* harmony export */   \"i7\": () => (/* binding */ isChrome)\n/* harmony export */ });\nvar isSafari = function () {\n    return navigator.userAgent.indexOf(\"Safari\") > -1 && navigator.userAgent.indexOf(\"Chrome\") === -1;\n};\nvar isFirefox = function () {\n    return navigator.userAgent.toLowerCase().indexOf(\"firefox\") > -1;\n};\nvar accessLocalStorage = function () {\n    try {\n        return typeof localStorage !== \"undefined\";\n    }\n    catch (e) {\n        return false;\n    }\n};\n// 用户 iPhone 点击延迟/需要双击的处理\nvar getEventName = function () {\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1) {\n        return \"touchstart\";\n    }\n    else {\n        return \"click\";\n    }\n};\n// 区别 mac 上的 ctrl 和 meta\nvar isCtrl = function (event) {\n    if (navigator.platform.toUpperCase().indexOf(\"MAC\") >= 0) {\n        // mac\n        if (event.metaKey && !event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n    else {\n        if (!event.metaKey && event.ctrlKey) {\n            return true;\n        }\n        return false;\n    }\n};\n// Mac，Windows 快捷键展示\nvar updateHotkeyTip = function (hotkey) {\n    if (/Mac/.test(navigator.platform) || navigator.platform === \"iPhone\") {\n        if (hotkey.indexOf(\"⇧\") > -1 && isFirefox()) {\n            // Mac Firefox 按下 shift 后，key 同 windows 系统\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    else {\n        if (hotkey.startsWith(\"⌘\")) {\n            hotkey = hotkey.replace(\"⌘\", \"⌘+\");\n        }\n        else if (hotkey.startsWith(\"⌥\") && hotkey.substr(1, 1) !== \"⌘\") {\n            hotkey = hotkey.replace(\"⌥\", \"⌥+\");\n        }\n        else {\n            hotkey = hotkey.replace(\"⇧⌘\", \"⌘+⇧+\").replace(\"⌥⌘\", \"⌥+⌘+\");\n        }\n        hotkey = hotkey.replace(\"⌘\", \"Ctrl\").replace(\"⇧\", \"Shift\")\n            .replace(\"⌥\", \"Alt\");\n        if (hotkey.indexOf(\"Shift\") > -1) {\n            hotkey = hotkey.replace(\";\", \":\").replace(\"=\", \"+\").replace(\"-\", \"_\");\n        }\n    }\n    return hotkey;\n};\nvar isChrome = function () {\n    return /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n};\n\n\n/***/ }),\n\n/***/ 713:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"JQ\": () => (/* binding */ hasTopClosestByClassName),\n/* harmony export */   \"E2\": () => (/* binding */ hasTopClosestByTag),\n/* harmony export */   \"O9\": () => (/* binding */ getTopList),\n/* harmony export */   \"a1\": () => (/* binding */ hasClosestByAttribute),\n/* harmony export */   \"F9\": () => (/* binding */ hasClosestBlock),\n/* harmony export */   \"lG\": () => (/* binding */ hasClosestByMatchTag),\n/* harmony export */   \"fb\": () => (/* binding */ hasClosestByClassName),\n/* harmony export */   \"DX\": () => (/* binding */ getLastNode)\n/* harmony export */ });\n/* unused harmony export hasTopClosestByAttribute */\n/* harmony import */ var _hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(615);\n\nvar hasTopClosestByClassName = function (element, className) {\n    var closest = hasClosestByClassName(element, className);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByClassName(closest.parentElement, className);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByAttribute = function (element, attr, value) {\n    var closest = hasClosestByAttribute(element, attr, value);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = hasClosestByAttribute(closest.parentElement, attr, value);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar hasTopClosestByTag = function (element, nodeName) {\n    var closest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(element, nodeName);\n    var parentClosest = false;\n    var findTop = false;\n    while (closest && !closest.classList.contains(\"vditor-reset\") && !findTop) {\n        parentClosest = (0,_hasClosestByHeadings__WEBPACK_IMPORTED_MODULE_0__/* .hasClosestByTag */ .S)(closest.parentElement, nodeName);\n        if (parentClosest) {\n            closest = parentClosest;\n        }\n        else {\n            findTop = true;\n        }\n    }\n    return closest || false;\n};\nvar getTopList = function (element) {\n    var topUlElement = hasTopClosestByTag(element, \"UL\");\n    var topOlElement = hasTopClosestByTag(element, \"OL\");\n    var topListElement = topUlElement;\n    if (topOlElement && (!topUlElement || (topUlElement && topOlElement.contains(topUlElement)))) {\n        topListElement = topOlElement;\n    }\n    return topListElement;\n};\nvar hasClosestByAttribute = function (element, attr, value) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.getAttribute(attr) === value) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestBlock = function (element) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    var blockElement = hasClosestByAttribute(element, \"data-block\", \"0\");\n    if (blockElement) {\n        return blockElement;\n    }\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.tagName === \"H1\" ||\n            e.tagName === \"H2\" ||\n            e.tagName === \"H3\" ||\n            e.tagName === \"H4\" ||\n            e.tagName === \"H5\" ||\n            e.tagName === \"H6\" ||\n            e.tagName === \"P\" ||\n            e.tagName === \"BLOCKQUOTE\" ||\n            e.tagName === \"OL\" ||\n            e.tagName === \"UL\") {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByMatchTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName === nodeName) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByClassName = function (element, className) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.classList.contains(className)) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar getLastNode = function (node) {\n    while (node && node.lastChild) {\n        node = node.lastChild;\n    }\n    return node;\n};\n\n\n/***/ }),\n\n/***/ 615:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"S\": () => (/* binding */ hasClosestByTag),\n/* harmony export */   \"W\": () => (/* binding */ hasClosestByHeadings)\n/* harmony export */ });\n// NOTE: 减少 method.ts 打包，故从 hasClosest.ts 中拆分\nvar hasClosestByTag = function (element, nodeName) {\n    if (!element) {\n        return false;\n    }\n    if (element.nodeType === 3) {\n        element = element.parentElement;\n    }\n    var e = element;\n    var isClosest = false;\n    while (e && !isClosest && !e.classList.contains(\"vditor-reset\")) {\n        if (e.nodeName.indexOf(nodeName) === 0) {\n            isClosest = true;\n        }\n        else {\n            e = e.parentElement;\n        }\n    }\n    return isClosest && e;\n};\nvar hasClosestByHeadings = function (element) {\n    var headingElement = hasClosestByTag(element, \"H\");\n    if (headingElement && headingElement.tagName.length === 2 && headingElement.tagName !== \"HR\") {\n        return headingElement;\n    }\n    return false;\n};\n\n\n/***/ }),\n\n/***/ 224:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"T\": () => (/* binding */ merge)\n/* harmony export */ });\nvar merge = function () {\n    var options = [];\n    for (var _i = 0; _i < arguments.length; _i++) {\n        options[_i] = arguments[_i];\n    }\n    var target = {};\n    var merger = function (obj) {\n        for (var prop in obj) {\n            if (obj.hasOwnProperty(prop)) {\n                if (Object.prototype.toString.call(obj[prop]) === \"[object Object]\") {\n                    target[prop] = merge(target[prop], obj[prop]);\n                }\n                else {\n                    target[prop] = obj[prop];\n                }\n            }\n        }\n    };\n    for (var i = 0; i < options.length; i++) {\n        merger(options[i]);\n    }\n    return target;\n};\n\n\n/***/ }),\n\n/***/ 187:\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\n\"use strict\";\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"zh\": () => (/* binding */ getEditorRange),\n/* harmony export */   \"Ny\": () => (/* binding */ getCursorPosition),\n/* harmony export */   \"Gb\": () => (/* binding */ selectIsEditor),\n/* harmony export */   \"Hc\": () => (/* binding */ setSelectionFocus),\n/* harmony export */   \"im\": () => (/* binding */ getSelectPosition),\n/* harmony export */   \"$j\": () => (/* binding */ setSelectionByPosition),\n/* harmony export */   \"ib\": () => (/* binding */ setRangeByWbr),\n/* harmony export */   \"oC\": () => (/* binding */ insertHTML)\n/* harmony export */ });\n/* harmony import */ var _constants__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(260);\n/* harmony import */ var _compatibility__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(931);\n/* harmony import */ var _hasClosest__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(713);\n\n\n\nvar getEditorRange = function (vditor) {\n    var range;\n    var element = vditor[vditor.currentMode].element;\n    if (getSelection().rangeCount > 0) {\n        range = getSelection().getRangeAt(0);\n        if (element.isEqualNode(range.startContainer) || element.contains(range.startContainer)) {\n            return range;\n        }\n    }\n    if (vditor[vditor.currentMode].range) {\n        return vditor[vditor.currentMode].range;\n    }\n    element.focus();\n    range = element.ownerDocument.createRange();\n    range.setStart(element, 0);\n    range.collapse(true);\n    return range;\n};\nvar getCursorPosition = function (editor) {\n    var range = window.getSelection().getRangeAt(0);\n    if (!editor.contains(range.startContainer) && !(0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestByClassName */ .fb)(range.startContainer, \"vditor-panel--none\")) {\n        return {\n            left: 0,\n            top: 0,\n        };\n    }\n    var parentRect = editor.parentElement.getBoundingClientRect();\n    var cursorRect;\n    if (range.getClientRects().length === 0) {\n        if (range.startContainer.nodeType === 3) {\n            // 空行时，会出现没有 br 的情况，需要根据父元素 <p> 获取位置信息\n            var parent_1 = range.startContainer.parentElement;\n            if (parent_1 && parent_1.getClientRects().length > 0) {\n                cursorRect = parent_1.getClientRects()[0];\n            }\n            else {\n                return {\n                    left: 0,\n                    top: 0,\n                };\n            }\n        }\n        else {\n            var children = range.startContainer.children;\n            if (children[range.startOffset] &&\n                children[range.startOffset].getClientRects().length > 0) {\n                // markdown 模式回车\n                cursorRect = children[range.startOffset].getClientRects()[0];\n            }\n            else if (range.startContainer.childNodes.length > 0) {\n                // in table or code block\n                var cloneRange = range.cloneRange();\n                range.selectNode(range.startContainer.childNodes[Math.max(0, range.startOffset - 1)]);\n                cursorRect = range.getClientRects()[0];\n                range.setEnd(cloneRange.endContainer, cloneRange.endOffset);\n                range.setStart(cloneRange.startContainer, cloneRange.startOffset);\n            }\n            else {\n                cursorRect = range.startContainer.getClientRects()[0];\n            }\n            if (!cursorRect) {\n                var parentElement = range.startContainer.childNodes[range.startOffset];\n                while (!parentElement.getClientRects ||\n                    (parentElement.getClientRects && parentElement.getClientRects().length === 0)) {\n                    parentElement = parentElement.parentElement;\n                }\n                cursorRect = parentElement.getClientRects()[0];\n            }\n        }\n    }\n    else {\n        cursorRect = range.getClientRects()[0];\n    }\n    return {\n        left: cursorRect.left - parentRect.left,\n        top: cursorRect.top - parentRect.top,\n    };\n};\nvar selectIsEditor = function (editor, range) {\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return false;\n        }\n        else {\n            range = getSelection().getRangeAt(0);\n        }\n    }\n    var container = range.commonAncestorContainer;\n    return editor.isEqualNode(container) || editor.contains(container);\n};\nvar setSelectionFocus = function (range) {\n    var selection = window.getSelection();\n    selection.removeAllRanges();\n    selection.addRange(range);\n};\nvar getSelectPosition = function (selectElement, editorElement, range) {\n    var position = {\n        end: 0,\n        start: 0,\n    };\n    if (!range) {\n        if (getSelection().rangeCount === 0) {\n            return position;\n        }\n        range = window.getSelection().getRangeAt(0);\n    }\n    if (selectIsEditor(editorElement, range)) {\n        var preSelectionRange = range.cloneRange();\n        if (selectElement.childNodes[0] && selectElement.childNodes[0].childNodes[0]) {\n            preSelectionRange.setStart(selectElement.childNodes[0].childNodes[0], 0);\n        }\n        else {\n            preSelectionRange.selectNodeContents(selectElement);\n        }\n        preSelectionRange.setEnd(range.startContainer, range.startOffset);\n        position.start = preSelectionRange.toString().length;\n        position.end = position.start + range.toString().length;\n    }\n    return position;\n};\nvar setSelectionByPosition = function (start, end, editor) {\n    var charIndex = 0;\n    var line = 0;\n    var pNode = editor.childNodes[line];\n    var foundStart = false;\n    var stop = false;\n    start = Math.max(0, start);\n    end = Math.max(0, end);\n    var range = editor.ownerDocument.createRange();\n    range.setStart(pNode || editor, 0);\n    range.collapse(true);\n    while (!stop && pNode) {\n        var nextCharIndex = charIndex + pNode.textContent.length;\n        if (!foundStart && start >= charIndex && start <= nextCharIndex) {\n            if (start === 0) {\n                range.setStart(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setStart(pNode.childNodes[0], start - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setStartBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setStartAfter(pNode);\n                }\n            }\n            foundStart = true;\n            if (start === end) {\n                stop = true;\n                break;\n            }\n        }\n        if (foundStart && end >= charIndex && end <= nextCharIndex) {\n            if (end === 0) {\n                range.setEnd(pNode, 0);\n            }\n            else {\n                if (pNode.childNodes[0].nodeType === 3) {\n                    range.setEnd(pNode.childNodes[0], end - charIndex);\n                }\n                else if (pNode.nextSibling) {\n                    range.setEndBefore(pNode.nextSibling);\n                }\n                else {\n                    range.setEndAfter(pNode);\n                }\n            }\n            stop = true;\n        }\n        charIndex = nextCharIndex;\n        pNode = editor.childNodes[++line];\n    }\n    if (!stop && editor.childNodes[line - 1]) {\n        range.setStartBefore(editor.childNodes[line - 1]);\n    }\n    setSelectionFocus(range);\n    return range;\n};\nvar setRangeByWbr = function (element, range) {\n    var wbrElement = element.querySelector(\"wbr\");\n    if (!wbrElement) {\n        return;\n    }\n    if (!wbrElement.previousElementSibling) {\n        if (wbrElement.previousSibling) {\n            // text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n        else if (wbrElement.nextSibling) {\n            if (wbrElement.nextSibling.nodeType === 3) {\n                // <wbr>text\n                range.setStart(wbrElement.nextSibling, 0);\n            }\n            else {\n                // <wbr><br> https://github.com/Vanessa219/vditor/issues/400\n                range.setStartBefore(wbrElement.nextSibling);\n            }\n        }\n        else {\n            // 内容为空\n            range.setStart(wbrElement.parentElement, 0);\n        }\n    }\n    else {\n        if (wbrElement.previousElementSibling.isSameNode(wbrElement.previousSibling)) {\n            if (wbrElement.previousElementSibling.lastChild) {\n                // <em>text</em><wbr>\n                range.setStartBefore(wbrElement);\n                range.collapse(true);\n                setSelectionFocus(range);\n                // fix Chrome set range bug: **c**\n                if ((0,_compatibility__WEBPACK_IMPORTED_MODULE_2__/* .isChrome */ .i7)() && (wbrElement.previousElementSibling.tagName === \"EM\" ||\n                    wbrElement.previousElementSibling.tagName === \"STRONG\" ||\n                    wbrElement.previousElementSibling.tagName === \"S\")) {\n                    range.insertNode(document.createTextNode(_constants__WEBPACK_IMPORTED_MODULE_0__/* .Constants.ZWSP */ .g.ZWSP));\n                    range.collapse(false);\n                }\n                wbrElement.remove();\n                return;\n            }\n            else {\n                // <br><wbr>\n                range.setStartAfter(wbrElement.previousElementSibling);\n            }\n        }\n        else {\n            // <em>text</em>text<wbr>\n            range.setStart(wbrElement.previousSibling, wbrElement.previousSibling.textContent.length);\n        }\n    }\n    range.collapse(true);\n    wbrElement.remove();\n    setSelectionFocus(range);\n};\nvar insertHTML = function (html, vditor) {\n    // 使用 lute 方法会添加 p 元素，只有一个 p 元素的时候进行删除\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var tempBlockElement = tempElement.querySelectorAll(\"p\");\n    if (tempBlockElement.length === 1 && !tempBlockElement[0].previousSibling && !tempBlockElement[0].nextSibling &&\n        vditor[vditor.currentMode].element.children.length > 0 && tempElement.firstElementChild.tagName === \"P\") {\n        html = tempBlockElement[0].innerHTML.trim();\n    }\n    var pasteElement = document.createElement(\"div\");\n    pasteElement.innerHTML = html;\n    var range = getEditorRange(vditor);\n    if (range.toString() !== \"\") {\n        vditor[vditor.currentMode].preventInput = true;\n        document.execCommand(\"delete\", false, \"\");\n    }\n    if (pasteElement.firstElementChild &&\n        pasteElement.firstElementChild.getAttribute(\"data-block\") === \"0\") {\n        // 粘贴内容为块元素时，应在下一段落中插入\n        pasteElement.lastElementChild.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        var blockElement = (0,_hasClosest__WEBPACK_IMPORTED_MODULE_1__/* .hasClosestBlock */ .F9)(range.startContainer);\n        if (!blockElement) {\n            vditor[vditor.currentMode].element.insertAdjacentHTML(\"beforeend\", pasteElement.innerHTML);\n        }\n        else {\n            blockElement.insertAdjacentHTML(\"afterend\", pasteElement.innerHTML);\n        }\n        setRangeByWbr(vditor[vditor.currentMode].element, range);\n    }\n    else {\n        var pasteTemplate = document.createElement(\"template\");\n        pasteTemplate.innerHTML = html;\n        range.insertNode(pasteTemplate.content.cloneNode(true));\n        range.collapse(false);\n        setSelectionFocus(range);\n    }\n};\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\nvar __webpack_exports__ = {};\n// This entry need to be wrapped in an IIFE because it need to be in strict mode.\n(() => {\n\"use strict\";\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"default\": () => (/* binding */ src)\n});\n\n// EXTERNAL MODULE: ./src/assets/scss/index.scss\nvar scss = __webpack_require__(157);\n// EXTERNAL MODULE: ./src/method.ts + 4 modules\nvar method = __webpack_require__(857);\n// EXTERNAL MODULE: ./src/ts/constants.ts\nvar constants = __webpack_require__(260);\n// EXTERNAL MODULE: ./src/ts/util/code160to32.ts\nvar code160to32 = __webpack_require__(769);\n;// CONCATENATED MODULE: ./src/ts/markdown/getMarkdown.ts\n\nvar getMarkdown = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return (0,code160to32/* code160to32 */.X)((vditor.sv.element.textContent + \"\\n\").replace(/\\n\\n$/, \"\\n\"));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2Md(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2Md(vditor.ir.element.innerHTML);\n    }\n    return \"\";\n};\n\n// EXTERNAL MODULE: ./src/ts/util/addScript.ts\nvar addScript = __webpack_require__(228);\n;// CONCATENATED MODULE: ./src/ts/devtools/index.ts\n\n\nvar DevTools = /** @class */ (function () {\n    function DevTools() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-devtools\";\n        this.element.innerHTML = '<div class=\"vditor-reset--error\"></div><div style=\"height: 100%;\"></div>';\n    }\n    DevTools.prototype.renderEchart = function (vditor) {\n        var _this = this;\n        if (vditor.devtools.element.style.display !== \"block\") {\n            return;\n        }\n        (0,addScript/* addScript */.G)(vditor.options.cdn + \"/dist/js/echarts/echarts.min.js\", \"vditorEchartsScript\").then(function () {\n            if (!_this.ASTChart) {\n                _this.ASTChart = echarts.init(vditor.devtools.element.lastElementChild);\n            }\n            try {\n                _this.element.lastElementChild.style.display = \"block\";\n                _this.element.firstElementChild.innerHTML = \"\";\n                _this.ASTChart.setOption({\n                    series: [\n                        {\n                            data: JSON.parse(vditor.lute.RenderEChartsJSON(getMarkdown(vditor))),\n                            initialTreeDepth: -1,\n                            label: {\n                                align: \"left\",\n                                backgroundColor: \"rgba(68, 77, 86, .68)\",\n                                borderRadius: 3,\n                                color: \"#d1d5da\",\n                                fontSize: 12,\n                                lineHeight: 12,\n                                offset: [9, 12],\n                                padding: [2, 4, 2, 4],\n                                position: \"top\",\n                                verticalAlign: \"middle\",\n                            },\n                            lineStyle: {\n                                color: \"#4285f4\",\n                                type: \"curve\",\n                                width: 1,\n                            },\n                            orient: \"vertical\",\n                            roam: true,\n                            type: \"tree\",\n                        },\n                    ],\n                    toolbox: {\n                        bottom: 25,\n                        emphasis: {\n                            iconStyle: {\n                                color: \"#4285f4\",\n                            },\n                        },\n                        feature: {\n                            restore: {\n                                show: true,\n                            },\n                            saveAsImage: {\n                                show: true,\n                            },\n                        },\n                        right: 15,\n                        show: true,\n                    },\n                });\n                _this.ASTChart.resize();\n            }\n            catch (e) {\n                _this.element.lastElementChild.style.display = \"none\";\n                _this.element.firstElementChild.innerHTML = e;\n            }\n        });\n    };\n    return DevTools;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/compatibility.ts\nvar compatibility = __webpack_require__(931);\n;// CONCATENATED MODULE: ./src/ts/toolbar/setToolbar.ts\n\n\nvar removeCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.remove(\"vditor-menu--current\");\n        }\n    });\n};\nvar setCurrentToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(\"vditor-menu--current\")) {\n            itemElement.classList.add(\"vditor-menu--current\");\n        }\n    });\n};\nvar enableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.remove(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar disableToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        var itemElement = toolbar[name].children[0];\n        if (itemElement && !itemElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            itemElement.classList.add(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED);\n        }\n    });\n};\nvar hideToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"none\";\n        }\n    });\n};\nvar showToolbar = function (toolbar, names) {\n    names.forEach(function (name) {\n        if (!toolbar[name]) {\n            return;\n        }\n        if (toolbar[name]) {\n            toolbar[name].style.display = \"block\";\n        }\n    });\n};\n// \"subToolbar\", \"hint\", \"popover\"\nvar hidePanel = function (vditor, panels, exceptElement) {\n    if (panels.includes(\"subToolbar\")) {\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint\").forEach(function (item) {\n            if (exceptElement && item.isEqualNode(exceptElement)) {\n                return;\n            }\n            item.style.display = \"none\";\n        });\n        if (vditor.toolbar.elements.emoji) {\n            vditor.toolbar.elements.emoji.lastElementChild.style.display = \"none\";\n        }\n    }\n    if (panels.includes(\"hint\")) {\n        vditor.hint.element.style.display = \"none\";\n    }\n    if (vditor.wysiwyg.popover && panels.includes(\"popover\")) {\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n};\nvar toggleSubMenu = function (vditor, panelElement, actionBtn, level) {\n    actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n        event.preventDefault();\n        event.stopPropagation();\n        if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n            return;\n        }\n        vditor.toolbar.element.querySelectorAll(\".vditor-hint--current\").forEach(function (item) {\n            item.classList.remove(\"vditor-hint--current\");\n        });\n        if (panelElement.style.display === \"block\") {\n            panelElement.style.display = \"none\";\n        }\n        else {\n            hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"], actionBtn.parentElement.parentElement);\n            if (!actionBtn.classList.contains(\"vditor-tooltipped\")) {\n                actionBtn.classList.add(\"vditor-hint--current\");\n            }\n            panelElement.style.display = \"block\";\n            if (vditor.toolbar.element.getBoundingClientRect().right - actionBtn.getBoundingClientRect().right < 250) {\n                panelElement.classList.add(\"vditor-panel--left\");\n            }\n            else {\n                panelElement.classList.remove(\"vditor-panel--left\");\n            }\n        }\n    });\n};\n\n// EXTERNAL MODULE: ./src/ts/util/hasClosest.ts\nvar hasClosest = __webpack_require__(713);\n// EXTERNAL MODULE: ./src/ts/util/hasClosestByHeadings.ts\nvar hasClosestByHeadings = __webpack_require__(615);\n;// CONCATENATED MODULE: ./src/ts/util/log.ts\nvar log = function (method, content, type, print) {\n    if (print) {\n        // @ts-ignore\n        console.log(method + \" - \" + type + \": \" + content);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/abcRender.ts\nvar abcRender = __webpack_require__(369);\n// EXTERNAL MODULE: ./src/ts/markdown/chartRender.ts\nvar chartRender = __webpack_require__(726);\n// EXTERNAL MODULE: ./src/ts/markdown/codeRender.ts\nvar codeRender = __webpack_require__(23);\n// EXTERNAL MODULE: ./src/ts/markdown/flowchartRender.ts\nvar flowchartRender = __webpack_require__(383);\n// EXTERNAL MODULE: ./src/ts/markdown/graphvizRender.ts\nvar graphvizRender = __webpack_require__(890);\n// EXTERNAL MODULE: ./src/ts/markdown/highlightRender.ts\nvar highlightRender = __webpack_require__(93);\n// EXTERNAL MODULE: ./src/ts/markdown/mathRender.ts\nvar mathRender = __webpack_require__(323);\n// EXTERNAL MODULE: ./src/ts/markdown/mermaidRender.ts\nvar mermaidRender = __webpack_require__(765);\n// EXTERNAL MODULE: ./src/ts/markdown/mindmapRender.ts\nvar mindmapRender = __webpack_require__(894);\n// EXTERNAL MODULE: ./src/ts/markdown/plantumlRender.ts\nvar plantumlRender = __webpack_require__(583);\n;// CONCATENATED MODULE: ./src/ts/util/processCode.ts\n\n\n\n\n\n\n\n\n\n\nvar processPasteCode = function (html, text, type) {\n    if (type === void 0) { type = \"sv\"; }\n    var tempElement = document.createElement(\"div\");\n    tempElement.innerHTML = html;\n    var isCode = false;\n    if (tempElement.childElementCount === 1 &&\n        tempElement.lastElementChild.style.fontFamily.indexOf(\"monospace\") > -1) {\n        // VS Code\n        isCode = true;\n    }\n    var pres = tempElement.querySelectorAll(\"pre\");\n    if (tempElement.childElementCount === 1 && pres.length === 1\n        && pres[0].className !== \"vditor-wysiwyg\"\n        && pres[0].className !== \"vditor-sv\") {\n        // IDE\n        isCode = true;\n    }\n    if (html.indexOf('\\n<p class=\"p1\">') === 0) {\n        // Xcode\n        isCode = true;\n    }\n    if (tempElement.childElementCount === 1 && tempElement.firstElementChild.tagName === \"TABLE\" &&\n        tempElement.querySelector(\".line-number\") && tempElement.querySelector(\".line-content\")) {\n        // 网页源码\n        isCode = true;\n    }\n    if (isCode) {\n        var code = text || html;\n        if (/\\n/.test(code) || pres.length === 1) {\n            if (type === \"wysiwyg\") {\n                return \"<div class=\\\"vditor-wysiwyg__block\\\" data-block=\\\"0\\\" data-type=\\\"code-block\\\"><pre><code>\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"<wbr></code></pre></div>\";\n            }\n            return \"\\n```\\n\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"\\n```\";\n        }\n        else {\n            if (type === \"wysiwyg\") {\n                return \"<code>\" + code.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\") + \"</code><wbr>\";\n            }\n            return \"`\" + code + \"`\";\n        }\n    }\n    return false;\n};\nvar processCodeRender = function (previewPanel, vditor) {\n    if (!previewPanel) {\n        return;\n    }\n    if (previewPanel.parentElement.getAttribute(\"data-type\") === \"html-block\") {\n        previewPanel.setAttribute(\"data-render\", \"1\");\n        return;\n    }\n    var language = previewPanel.firstElementChild.className.replace(\"language-\", \"\");\n    if (!language) {\n        return;\n    }\n    if (language === \"abc\") {\n        (0,abcRender/* abcRender */.Q)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"mermaid\") {\n        (0,mermaidRender/* mermaidRender */.i)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"flowchart\") {\n        (0,flowchartRender/* flowchartRender */.P)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"echarts\") {\n        (0,chartRender/* chartRender */.p)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"mindmap\") {\n        (0,mindmapRender/* mindmapRender */.P)(previewPanel, vditor.options.cdn, vditor.options.theme);\n    }\n    else if (language === \"plantuml\") {\n        (0,plantumlRender/* plantumlRender */.B)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"graphviz\") {\n        (0,graphvizRender/* graphvizRender */.v)(previewPanel, vditor.options.cdn);\n    }\n    else if (language === \"math\") {\n        (0,mathRender/* mathRender */.H)(previewPanel, { cdn: vditor.options.cdn, math: vditor.options.preview.math });\n    }\n    else {\n        (0,highlightRender/* highlightRender */.s)(Object.assign({}, vditor.options.preview.hljs), previewPanel, vditor.options.cdn);\n        (0,codeRender/* codeRender */.O)(previewPanel);\n    }\n    previewPanel.setAttribute(\"data-render\", \"1\");\n};\n\n// EXTERNAL MODULE: ./src/ts/util/selection.ts\nvar selection = __webpack_require__(187);\n;// CONCATENATED MODULE: ./src/ts/util/toc.ts\n\n\n\n\nvar renderToc = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var tocHTML = vditor.outline.render(vditor);\n    if (tocHTML === \"\") {\n        tocHTML = \"[ToC]\";\n    }\n    editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n        item.innerHTML = tocHTML;\n        (0,mathRender/* mathRender */.H)(item, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    });\n};\nvar clickToc = function (event, vditor) {\n    var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n    if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n        var headingElement = vditor[vditor.currentMode].element.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n        if (headingElement) {\n            if (vditor.options.height === \"auto\") {\n                var windowScrollY = headingElement.offsetTop + vditor.element.offsetTop;\n                if (!vditor.options.toolbarConfig.pin) {\n                    windowScrollY += vditor.toolbar.element.offsetHeight;\n                }\n                window.scrollTo(window.scrollX, windowScrollY);\n            }\n            else {\n                if (vditor.element.offsetTop < window.scrollY) {\n                    window.scrollTo(window.scrollX, vditor.element.offsetTop);\n                }\n                vditor[vditor.currentMode].element.scrollTop = headingElement.offsetTop;\n            }\n        }\n        return;\n    }\n};\nvar keydownToc = function (blockElement, vditor, event, range) {\n    // toc 前无元素，插入空块\n    if (blockElement.previousElementSibling &&\n        blockElement.previousElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Backspace\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start === 0) {\n            blockElement.previousElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockElement, blockElement.previousElementSibling)) {\n            return true;\n        }\n    }\n    // toc 后无元素，插入空块\n    if (blockElement.nextElementSibling &&\n        blockElement.nextElementSibling.classList.contains(\"vditor-toc\")) {\n        if (event.key === \"Delete\" &&\n            (0,selection/* getSelectPosition */.im)(blockElement, vditor[vditor.currentMode].element, range).start\n                >= blockElement.textContent.trimRight().length) {\n            blockElement.nextElementSibling.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockElement, blockElement.nextElementSibling)) {\n            return true;\n        }\n    }\n    // toc 删除\n    if (event.key === \"Backspace\" || event.key === \"Delete\") {\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-toc\");\n        if (tocElement) {\n            tocElement.remove();\n            execAfterRender(vditor);\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/input.ts\n\n\n\n\n\n\n\n\n\nvar input = function (vditor, range, ignoreSpace, event) {\n    if (ignoreSpace === void 0) { ignoreSpace = false; }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    // 前后可以输入空格\n    if (blockElement && !ignoreSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\") {\n        if ((isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling) ||\n            isHeadingMD(blockElement.innerHTML)) {\n            return;\n        }\n        // 前后空格处理\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n        // 开始可以输入空格\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        // 结尾可以输入空格\n        var endSpace = true;\n        for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n            if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                endSpace = false;\n                break;\n            }\n        }\n        if (startSpace) {\n            return;\n        }\n        if (endSpace) {\n            var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker\");\n            if (markerElement) {\n                // inline marker space https://github.com/Vanessa219/vditor/issues/239\n            }\n            else {\n                var previousNode = range.startContainer.previousSibling;\n                if (previousNode && previousNode.nodeType !== 3 && previousNode.classList.contains(\"vditor-ir__node--expand\")) {\n                    // FireFox https://github.com/Vanessa219/vditor/issues/239\n                    previousNode.classList.remove(\"vditor-ir__node--expand\");\n                }\n                return;\n            }\n        }\n    }\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.ir.element;\n    }\n    // document.exeComment insertHTML 会插入 wbr\n    if (!blockElement.querySelector(\"wbr\")) {\n        var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n        if (previewRenderElement) {\n            previewRenderElement.previousElementSibling.insertAdjacentHTML(\"beforeend\", \"<wbr>\");\n        }\n        else {\n            range.insertNode(document.createElement(\"wbr\"));\n        }\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.ir.element;\n    }\n    var isIRElement = blockElement.isEqualNode(vditor.ir.element);\n    var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n    var html = \"\";\n    if (!isIRElement) {\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n        // 列表需要到最顶层\n        var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (topListElement) {\n            blockElement = topListElement;\n        }\n        // 应到引用层，否则 > --- 会解析为 front-matter；列表中有 blockquote 则解析 blockquote；blockquote 中有列表则解析列表\n        if (blockquoteElement && (!topListElement || (topListElement && !blockquoteElement.contains(topListElement)))) {\n            blockElement = blockquoteElement;\n        }\n        // 修改脚注\n        if (footnoteElement) {\n            blockElement = footnoteElement;\n        }\n        html = blockElement.outerHTML;\n        if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n            // 如果为列表的话，需要把上下的列表都重绘\n            var listPrevElement = blockElement.previousElementSibling;\n            var listNextElement = blockElement.nextElementSibling;\n            if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                html = listPrevElement.outerHTML + html;\n                listPrevElement.remove();\n            }\n            if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                html = html + listNextElement.outerHTML;\n                listNextElement.remove();\n            }\n            // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n            html = html.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n        }\n        else if (blockElement.previousElementSibling &&\n            blockElement.previousElementSibling.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") !== \"\" &&\n            event && event.inputType === \"insertParagraph\") {\n            // 换行时需要处理上一段落\n            html = blockElement.previousElementSibling.outerHTML + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // 添加链接引用\n        vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n            if (item && !blockElement.isEqualNode(item)) {\n                html += item.outerHTML;\n                item.remove();\n            }\n        });\n        // 添加脚注\n        vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n            if (item && !blockElement.isEqualNode(item)) {\n                html += item.outerHTML;\n                item.remove();\n            }\n        });\n    }\n    else {\n        html = blockElement.innerHTML;\n    }\n    log(\"SpinVditorIRDOM\", html, \"argument\", vditor.options.debugger);\n    html = vditor.lute.SpinVditorIRDOM(html);\n    log(\"SpinVditorIRDOM\", html, \"result\", vditor.options.debugger);\n    if (isIRElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n        // 更新正文中的 tip\n        if (footnoteElement) {\n            var footnoteItemElement = (0,hasClosest/* hasClosestByAttribute */.a1)(vditor.ir.element.querySelector(\"wbr\"), \"data-type\", \"footnotes-def\");\n            if (footnoteItemElement) {\n                var footnoteItemText = footnoteItemElement.textContent;\n                var marker = footnoteItemText.substring(1, footnoteItemText.indexOf(\"]:\"));\n                var footnoteRefElement = vditor.ir.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\" + marker + \"\\\"]\");\n                if (footnoteRefElement) {\n                    footnoteRefElement.setAttribute(\"aria-label\", footnoteItemText.substr(marker.length + 3).trim().substr(0, 24));\n                }\n            }\n        }\n    }\n    //  linkref 合并及添加\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.ir.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item;\n        }\n        else {\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n    }\n    // 脚注合并后添加的末尾\n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.ir.element.querySelectorAll(\"[data-type='footnotes-block']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item;\n        }\n        else {\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n            item.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.ir.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n    });\n    renderToc(vditor);\n    process_processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/hotKey.ts\n\n// 是否匹配 ⇧⌘[] / ⌘[] / ⌥[] / ⌥⌘[] / ⇧Tab / []\nvar matchHotKey = function (hotKey, event) {\n    if (hotKey === \"\") {\n        return false;\n    }\n    // []\n    if (hotKey.indexOf(\"⇧\") === -1 && hotKey.indexOf(\"⌘\") === -1 && hotKey.indexOf(\"⌥\") === -1) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.code === hotKey) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧Tab\n    if (hotKey === \"⇧Tab\") {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.shiftKey && event.code === \"Tab\") {\n            return true;\n        }\n        return false;\n    }\n    var hotKeys = hotKey.split(\"\");\n    if (hotKey.startsWith(\"⌥\")) {\n        // 是否匹配 ⌥[] / ⌥⌘[]\n        var keyCode = hotKeys.length === 3 ? hotKeys[2] : hotKeys[1];\n        if ((hotKeys.length === 3 ? (0,compatibility/* isCtrl */.yl)(event) : !(0,compatibility/* isCtrl */.yl)(event)) && event.altKey && !event.shiftKey &&\n            event.code === (/^[0-9]$/.test(keyCode) ? \"Digit\" : \"Key\") + keyCode) {\n            return true;\n        }\n        return false;\n    }\n    // 是否匹配 ⇧⌘[] / ⌘[]\n    if (hotKey === \"⌘Enter\") {\n        hotKeys = [\"⌘\", \"Enter\"];\n    }\n    var hasShift = hotKeys.length > 2 && (hotKeys[0] === \"⇧\");\n    var key = (hasShift ? hotKeys[2] : hotKeys[1]);\n    if (hasShift && ((0,compatibility/* isFirefox */.vU)() || !/Mac/.test(navigator.platform))) {\n        if (key === \"-\") {\n            key = \"_\";\n        }\n        else if (key === \"=\") {\n            key = \"+\";\n        }\n    }\n    if ((0,compatibility/* isCtrl */.yl)(event) && event.key.toLowerCase() === key.toLowerCase() && !event.altKey\n        && ((!hasShift && !event.shiftKey) || (hasShift && event.shiftKey))) {\n        return true;\n    }\n    return false;\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/expandMarker.ts\n\n\nvar nextIsNode = function (range) {\n    var startContainer = range.startContainer;\n    if (startContainer.nodeType === 3 && startContainer.nodeValue.length !== range.startOffset) {\n        return false;\n    }\n    var nextNode = startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (!nextNode) {\n        // *em*|**string**\n        var markerElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker\");\n        if (markerElement && !markerElement.nextSibling) {\n            var parentNextNode = startContainer.parentElement.parentElement.nextSibling;\n            if (parentNextNode && parentNextNode.nodeType !== 3 &&\n                parentNextNode.classList.contains(\"vditor-ir__node\")) {\n                return parentNextNode;\n            }\n        }\n        return false;\n    }\n    else if (nextNode && nextNode.nodeType !== 3 && nextNode.classList.contains(\"vditor-ir__node\") &&\n        !nextNode.getAttribute(\"data-block\")) {\n        // test|*em*\n        return nextNode;\n    }\n    return false;\n};\nvar previousIsNode = function (range) {\n    var startContainer = range.startContainer;\n    var previousNode = startContainer.previousSibling;\n    if (startContainer.nodeType === 3 && range.startOffset === 0 && previousNode && previousNode.nodeType !== 3 &&\n        // *em*|text\n        previousNode.classList.contains(\"vditor-ir__node\") && !previousNode.getAttribute(\"data-block\")) {\n        return previousNode;\n    }\n    return false;\n};\nvar expandMarker = function (range, vditor) {\n    vditor.ir.element.querySelectorAll(\".vditor-ir__node--expand\").forEach(function (item) {\n        item.classList.remove(\"vditor-ir__node--expand\");\n    });\n    var nodeElement = (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.startContainer, \"vditor-ir__node\");\n    var nodeElementEnd = !range.collapsed && (0,hasClosest/* hasTopClosestByClassName */.JQ)(range.endContainer, \"vditor-ir__node\");\n    // 选中文本为同一个 nodeElement 内时，需要展开\n    if (!range.collapsed && (!nodeElement || nodeElement !== nodeElementEnd)) {\n        return;\n    }\n    if (nodeElement) {\n        nodeElement.classList.add(\"vditor-ir__node--expand\");\n        nodeElement.classList.remove(\"vditor-ir__node--hidden\");\n        // https://github.com/Vanessa219/vditor/issues/615 safari中光标位置跳动\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    var nextNode = nextIsNode(range);\n    if (nextNode) {\n        nextNode.classList.add(\"vditor-ir__node--expand\");\n        nextNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n    var previousNode = previousIsNode(range);\n    if (previousNode) {\n        previousNode.classList.add(\"vditor-ir__node--expand\");\n        previousNode.classList.remove(\"vditor-ir__node--hidden\");\n        return;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\nvar processKeydown = function (vditor, event) {\n    vditor.ir.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    // 斜体、粗体、内联代码块中换行\n    var newlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-newline\", \"1\");\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && event.key === \"Enter\" && newlineElement\n        && range.startOffset < newlineElement.textContent.length) {\n        var beforeMarkerElement = newlineElement.previousElementSibling;\n        if (beforeMarkerElement) {\n            range.insertNode(document.createTextNode(beforeMarkerElement.textContent));\n            range.collapse(false);\n        }\n        var afterMarkerElement = newlineElement.nextSibling;\n        if (afterMarkerElement) {\n            range.insertNode(document.createTextNode(afterMarkerElement.textContent));\n            range.collapse(true);\n        }\n    }\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 代码块\n    var preRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-ir__marker--pre\");\n    if (preRenderElement && preRenderElement.tagName === \"PRE\") {\n        var codeRenderElement = preRenderElement.firstChild;\n        if (fixCodeBlock(vditor, event, preRenderElement, range)) {\n            return true;\n        }\n        // 数学公式上无元素，按上或左将添加新块\n        if ((codeRenderElement.getAttribute(\"data-type\") === \"math-block\"\n            || codeRenderElement.getAttribute(\"data-type\") === \"html-block\") &&\n            insertBeforeBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n        // 代码块下无元素或者为代码块/table 元素，添加空块\n        if (insertAfterBlock(vditor, event, range, codeRenderElement, preRenderElement.parentElement)) {\n            return true;\n        }\n    }\n    // 代码块语言\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (event.key === \"Enter\" || event.key === \"Tab\") {\n            range.selectNodeContents(preBeforeElement.nextElementSibling.firstChild);\n            range.collapse(true);\n            event.preventDefault();\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n        if (event.key === \"Backspace\") {\n            var start = (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start;\n            if (start === 1) { // 删除零宽空格\n                range.setStart(startContainer, 0);\n            }\n            if (start === 2) { // 删除时清空自动补全语言\n                vditor.hint.recentLanguage = \"\";\n            }\n        }\n        if (insertBeforeBlock(vditor, event, range, preBeforeElement, preBeforeElement.parentElement)) {\n            // 上无元素，按上或左将添加新块\n            hidePanel(vditor, [\"hint\"]);\n            return true;\n        }\n    }\n    // table\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (event.key.indexOf(\"Arrow\") > -1 && cellElement) {\n        var tableElement = isFirstCell(cellElement);\n        if (tableElement && insertBeforeBlock(vditor, event, range, cellElement, tableElement)) {\n            return true;\n        }\n        var table2Element = isLastCell(cellElement);\n        if (table2Element && insertAfterBlock(vditor, event, range, cellElement, table2Element)) {\n            return true;\n        }\n    }\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length > 1) {\n                process_processHeading(vditor, headingMarkerElement.textContent.substr(1));\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n            if (headingMarkerElement && headingMarkerElement.textContent.trim().length < 6) {\n                process_processHeading(vditor, headingMarkerElement.textContent.trim() + \"# \");\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement && blockElement.previousElementSibling\n            && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\"\n            && (blockElement.previousElementSibling.getAttribute(\"data-type\") === \"code-block\" ||\n                blockElement.previousElementSibling.getAttribute(\"data-type\") === \"math-block\")) {\n            var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.ir.element, range).start;\n            if (rangeStart === 0 || (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                range.selectNodeContents(blockElement.previousElementSibling.querySelector(\".vditor-ir__marker--pre code\"));\n                range.collapse(false);\n                expandMarker(range, vditor);\n                if (blockElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    // 当前块为空且不是最后一个时，需要删除\n                    blockElement.remove();\n                    process_processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n        // 光标位于标题前，marker 后\n        if (headingElement) {\n            var headingLength = headingElement.firstElementChild.textContent.length;\n            if ((0,selection/* getSelectPosition */.im)(headingElement, vditor.ir.element).start === headingLength) {\n                range.setStart(headingElement.firstElementChild.firstChild, headingLength - 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n    }\n    if ((event.key === \"ArrowUp\" || event.key === \"ArrowDown\") && blockElement) {\n        // https://github.com/Vanessa219/vditor/issues/358\n        blockElement.querySelectorAll(\".vditor-ir__node\").forEach(function (item) {\n            if (!item.contains(startContainer)) {\n                item.classList.add(\"vditor-ir__node--hidden\");\n            }\n        });\n        if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n            return true;\n        }\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/preview/image.ts\nvar preview_image = __webpack_require__(264);\n;// CONCATENATED MODULE: ./src/ts/sv/inputEvent.ts\n\n\n\n\nvar inputEvent = function (vditor, event) {\n    var _a;\n    var range = getSelection().getRangeAt(0).cloneRange();\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    // 不调用 lute 解析\n    if (blockElement && event && (event.inputType === \"deleteContentBackward\" || event.data === \" \")) {\n        // 开始可以输入空格\n        var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start;\n        var startSpace = true;\n        for (var i = startOffset - 1; \n        // 软换行后有空格\n        i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n            if (blockElement.textContent.charAt(i) !== \" \" &&\n                // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                blockElement.textContent.charAt(i) !== \"\\t\") {\n                startSpace = false;\n                break;\n            }\n        }\n        if (startOffset === 0) {\n            startSpace = false;\n        }\n        if (startSpace) {\n            processAfterRender(vditor);\n            return;\n        }\n        if (event.inputType === \"deleteContentBackward\") {\n            // https://github.com/Vanessa219/vditor/issues/584 代码块 marker 删除\n            var codeBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-open-marker\") ||\n                (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-close-marker\");\n            if (codeBlockMarkerElement) {\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-close-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-open-marker\");\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n                if (codeBlockMarkerElement.getAttribute(\"data-type\") === \"code-block-open-marker\") {\n                    var openMarkerElement = getSideByType(startContainer, \"code-block-close-marker\", false);\n                    if (openMarkerElement) {\n                        openMarkerElement.textContent = codeBlockMarkerElement.textContent;\n                        processAfterRender(vditor);\n                        return;\n                    }\n                }\n            }\n            // https://github.com/Vanessa219/vditor/issues/877 数学公式输入删除生成节点\n            var mathBlockMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"math-block-open-marker\");\n            if (mathBlockMarkerElement) {\n                var mathBlockCloseElement = mathBlockMarkerElement.nextElementSibling.nextElementSibling;\n                if (mathBlockCloseElement && mathBlockCloseElement.getAttribute(\"data-type\") === \"math-block-close-marker\") {\n                    mathBlockCloseElement.remove();\n                    processAfterRender(vditor);\n                }\n                return;\n            }\n            blockElement.querySelectorAll('[data-type=\"code-block-open-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            blockElement.querySelectorAll('[data-type=\"code-block-close-marker\"]').forEach(function (item) {\n                if (item.textContent.length === 1) {\n                    item.remove();\n                }\n            });\n            // 标题删除\n            var headingElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"heading-marker\");\n            if (headingElement && headingElement.textContent.indexOf(\"#\") === -1) {\n                processAfterRender(vditor);\n                return;\n            }\n        }\n        // 删除或空格不解析，否则会 format 回去\n        if ((event.data === \" \" || event.inputType === \"deleteContentBackward\") &&\n            ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"padding\") // 场景：b 前进行删除 [> 1. a\\n>   b]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\") // 场景：删除最后一个字符 [* 1\\n* ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\") // 场景：删除最后一个字符 [* [ ] ]\n                || (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\") // 场景：删除最后一个字符 [> ]\n            )) {\n            processAfterRender(vditor);\n            return;\n        }\n    }\n    if (blockElement && blockElement.textContent.trimRight() === \"$$\") {\n        // 内联数学公式\n        processAfterRender(vditor);\n        return;\n    }\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    if (((_a = blockElement.firstElementChild) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"link-ref-defs-block\") {\n        // 修改链接引用\n        blockElement = vditor.sv.element;\n    }\n    if ((0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-link\")) {\n        // 修改脚注角标\n        blockElement = vditor.sv.element;\n    }\n    // 添加光标位置\n    if (blockElement.textContent.indexOf(Lute.Caret) === -1) {\n        // 点击工具栏会插入 Caret\n        range.insertNode(document.createTextNode(Lute.Caret));\n    }\n    // 清除浏览器自带的样式\n    blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n        item.removeAttribute(\"style\");\n    });\n    blockElement.querySelectorAll(\"font\").forEach(function (item) {\n        item.outerHTML = item.innerHTML;\n    });\n    var html = blockElement.textContent;\n    var isSVElement = blockElement.isEqualNode(vditor.sv.element);\n    if (isSVElement) {\n        html = blockElement.textContent;\n    }\n    else {\n        // 添加前一个块元素\n        if (blockElement.previousElementSibling) {\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        if (blockElement.previousElementSibling && html.indexOf(\"---\\n\") === 0) {\n            // 确认 yaml-front 是否为首行\n            html = blockElement.previousElementSibling.textContent + html;\n            blockElement.previousElementSibling.remove();\n        }\n        // 添加链接引用\n        vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item, index) {\n            if (index === 0 && item && !blockElement.isEqualNode(item.parentElement)) {\n                html += \"\\n\" + item.parentElement.textContent;\n                item.parentElement.remove();\n            }\n        });\n        // 添加脚注\n        vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\").forEach(function (item, index) {\n            if (index === 0 && item && !blockElement.isEqualNode(item.parentElement)) {\n                html += \"\\n\" + item.parentElement.textContent;\n                item.parentElement.remove();\n            }\n        });\n    }\n    html = processSpinVditorSVDOM(html, vditor);\n    if (isSVElement) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    var firstLinkRefDefElement;\n    var allLinkRefDefsElement = vditor.sv.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n    allLinkRefDefsElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstLinkRefDefElement = item.parentElement;\n        }\n        else {\n            firstLinkRefDefElement.lastElementChild.remove();\n            firstLinkRefDefElement.insertAdjacentHTML(\"beforeend\", \"\" + item.parentElement.innerHTML);\n            item.parentElement.remove();\n        }\n    });\n    if (allLinkRefDefsElement.length > 0) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", firstLinkRefDefElement);\n    }\n    // 脚注合并后添加的末尾\n    var firstFootnoteElement;\n    var allFootnoteElement = vditor.sv.element.querySelectorAll(\"[data-type='footnotes-link']\");\n    allFootnoteElement.forEach(function (item, index) {\n        if (index === 0) {\n            firstFootnoteElement = item.parentElement;\n        }\n        else {\n            firstFootnoteElement.lastElementChild.remove();\n            firstFootnoteElement.insertAdjacentHTML(\"beforeend\", \"\" + item.parentElement.innerHTML);\n            item.parentElement.remove();\n        }\n    });\n    if (allFootnoteElement.length > 0) {\n        vditor.sv.element.insertAdjacentElement(\"beforeend\", firstFootnoteElement);\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n    processAfterRender(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/processKeydown.ts\n\n\n\n\n\n\n\nvar processKeydown_processKeydown = function (vditor, event) {\n    var _a, _b, _c, _d, _e;\n    vditor.sv.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\") {\n        return false;\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (range.startContainer.nodeType !== 3 && range.startContainer.tagName === \"DIV\") {\n        startContainer = range.startContainer.childNodes[range.startOffset - 1];\n    }\n    var textElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"text\");\n    // blockquote\n    var blockquoteMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"blockquote-marker\");\n    if (!blockquoteMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        textElement.previousElementSibling.getAttribute(\"data-type\") === \"blockquote-marker\") {\n        blockquoteMarkerElement = textElement.previousElementSibling;\n    }\n    // 回车逐个删除 blockquote marker 标记\n    if (blockquoteMarkerElement) {\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey &&\n            blockquoteMarkerElement.nextElementSibling.textContent.trim() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(blockquoteMarkerElement, vditor.sv.element, range).start ===\n                blockquoteMarkerElement.textContent.length) {\n            if (((_a = blockquoteMarkerElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.getAttribute(\"data-type\")) === \"padding\") {\n                // 列表中存在多行 BQ 时，标记回车需跳出列表\n                blockquoteMarkerElement.previousElementSibling.setAttribute(\"data-action\", \"enter-remove\");\n            }\n            blockquoteMarkerElement.remove();\n            processAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // list item\n    var listMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"li-marker\");\n    var taskMarkerElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"task-marker\");\n    var listLastMarkerElement = listMarkerElement;\n    if (!listLastMarkerElement) {\n        if (taskMarkerElement && taskMarkerElement.nextElementSibling.getAttribute(\"data-type\") !== \"task-marker\") {\n            listLastMarkerElement = taskMarkerElement;\n        }\n    }\n    if (!listLastMarkerElement && range.startOffset === 0 && textElement && textElement.previousElementSibling &&\n        (textElement.previousElementSibling.getAttribute(\"data-type\") === \"li-marker\" ||\n            textElement.previousElementSibling.getAttribute(\"data-type\") === \"task-marker\")) {\n        listLastMarkerElement = textElement.previousElementSibling;\n    }\n    if (listLastMarkerElement) {\n        var startIndex = (0,selection/* getSelectPosition */.im)(listLastMarkerElement, vditor.sv.element, range).start;\n        var isTask = listLastMarkerElement.getAttribute(\"data-type\") === \"task-marker\";\n        var listFirstMarkerElement = listLastMarkerElement;\n        if (isTask) {\n            listFirstMarkerElement = listLastMarkerElement.previousElementSibling.previousElementSibling\n                .previousElementSibling;\n        }\n        if (startIndex === listLastMarkerElement.textContent.length) {\n            // 回车清空列表标记符\n            if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n                listLastMarkerElement.nextElementSibling.textContent.trim() === \"\") {\n                if (((_b = listFirstMarkerElement.previousElementSibling) === null || _b === void 0 ? void 0 : _b.getAttribute(\"data-type\")) === \"padding\") {\n                    listFirstMarkerElement.previousElementSibling.remove();\n                    inputEvent(vditor);\n                }\n                else {\n                    if (isTask) {\n                        listFirstMarkerElement.remove();\n                        listLastMarkerElement.previousElementSibling.previousElementSibling.remove();\n                        listLastMarkerElement.previousElementSibling.remove();\n                    }\n                    listLastMarkerElement.nextElementSibling.remove();\n                    listLastMarkerElement.remove();\n                    processAfterRender(vditor);\n                }\n                event.preventDefault();\n                return true;\n            }\n            // 第一个 marker 后 tab 进行缩进\n            if (event.key === \"Tab\") {\n                listFirstMarkerElement.insertAdjacentHTML(\"beforebegin\", \"<span data-type=\\\"padding\\\">\" + listFirstMarkerElement.textContent.replace(/\\S/g, \" \") + \"</span>\");\n                if (/^\\d/.test(listFirstMarkerElement.textContent)) {\n                    listFirstMarkerElement.textContent = listFirstMarkerElement.textContent.replace(/^\\d{1,}/, \"1\");\n                    range.selectNodeContents(listLastMarkerElement.firstChild);\n                    range.collapse(false);\n                }\n                inputEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    // tab\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-block\", \"0\");\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(startContainer, \"SPAN\");\n    // 回车\n    if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey && blockElement) {\n        var isFirst = false;\n        var newLineMatch = blockElement.textContent.match(/^\\n+/);\n        if ((0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element).start <= (newLineMatch ? newLineMatch[0].length : 0)) {\n            // 允许段落开始换行\n            isFirst = true;\n        }\n        var newLineText = \"\\n\";\n        if (spanElement) {\n            if (((_c = spanElement.previousElementSibling) === null || _c === void 0 ? void 0 : _c.getAttribute(\"data-action\")) === \"enter-remove\") {\n                // https://github.com/Vanessa219/vditor/issues/596\n                spanElement.previousElementSibling.remove();\n                processAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                newLineText += processPreviousMarkers(spanElement);\n            }\n        }\n        range.insertNode(document.createTextNode(newLineText));\n        range.collapse(false);\n        if (blockElement && blockElement.textContent.trim() !== \"\" && !isFirst) {\n            inputEvent(vditor);\n        }\n        else {\n            processAfterRender(vditor);\n        }\n        event.preventDefault();\n        return true;\n    }\n    // 删除后光标前有 newline 的处理\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey) {\n        if (spanElement && ((_d = spanElement.previousElementSibling) === null || _d === void 0 ? void 0 : _d.getAttribute(\"data-type\")) === \"newline\" &&\n            (0,selection/* getSelectPosition */.im)(spanElement, vditor.sv.element, range).start === 1 &&\n            // 飘号的处理需在 inputEvent 中，否则上下飘号对不齐\n            spanElement.getAttribute(\"data-type\").indexOf(\"code-block-\") === -1) {\n            // 光标在每一行的第一个字符后\n            range.setStart(spanElement, 0);\n            range.extractContents();\n            if (spanElement.textContent.trim() !== \"\") {\n                inputEvent(vditor);\n            }\n            else {\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 每一段第一个字符前\n        if (blockElement && (0,selection/* getSelectPosition */.im)(blockElement, vditor.sv.element, range).start === 0 &&\n            blockElement.previousElementSibling) {\n            range.extractContents();\n            var previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            if (previousLastElement.getAttribute(\"data-type\") === \"newline\") {\n                previousLastElement.remove();\n                previousLastElement = blockElement.previousElementSibling.lastElementChild;\n            }\n            // 场景：末尾无法删除 [```\\ntext\\n```\\n\\n]\n            if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                previousLastElement.insertAdjacentHTML(\"afterend\", blockElement.innerHTML);\n                blockElement.remove();\n            }\n            if (blockElement.textContent.trim() !== \"\" && !((_e = blockElement.previousElementSibling) === null || _e === void 0 ? void 0 : _e.querySelector('[data-type=\"code-block-open-marker\"]'))) {\n                inputEvent(vditor);\n            }\n            else {\n                if (previousLastElement.getAttribute(\"data-type\") !== \"newline\") {\n                    // https://github.com/Vanessa219/vditor/issues/597\n                    range.selectNodeContents(previousLastElement.lastChild);\n                    range.collapse(false);\n                }\n                processAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\n\n// EXTERNAL MODULE: ./src/ts/ui/setContentTheme.ts\nvar setContentTheme = __webpack_require__(958);\n;// CONCATENATED MODULE: ./src/ts/ui/setTheme.ts\nvar setTheme = function (vditor) {\n    if (vditor.options.theme === \"dark\") {\n        vditor.element.classList.add(\"vditor--dark\");\n    }\n    else {\n        vditor.element.classList.remove(\"vditor--dark\");\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/ui/initUI.ts\n\n\n\n\n\nvar initUI = function (vditor) {\n    vditor.element.innerHTML = \"\";\n    vditor.element.classList.add(\"vditor\");\n    setTheme(vditor);\n    (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n    if (typeof vditor.options.height === \"number\") {\n        vditor.element.style.height = vditor.options.height + \"px\";\n    }\n    if (typeof vditor.options.minHeight === \"number\") {\n        vditor.element.style.minHeight = vditor.options.minHeight + \"px\";\n    }\n    if (typeof vditor.options.width === \"number\") {\n        vditor.element.style.width = vditor.options.width + \"px\";\n    }\n    else {\n        vditor.element.style.width = vditor.options.width;\n    }\n    vditor.element.appendChild(vditor.toolbar.element);\n    var contentElement = document.createElement(\"div\");\n    contentElement.className = \"vditor-content\";\n    if (vditor.options.outline.position === \"left\") {\n        contentElement.appendChild(vditor.outline.element);\n    }\n    contentElement.appendChild(vditor.wysiwyg.element.parentElement);\n    contentElement.appendChild(vditor.sv.element);\n    contentElement.appendChild(vditor.ir.element.parentElement);\n    contentElement.appendChild(vditor.preview.element);\n    if (vditor.toolbar.elements.devtools) {\n        contentElement.appendChild(vditor.devtools.element);\n    }\n    if (vditor.options.outline.position === \"right\") {\n        vditor.outline.element.classList.add(\"vditor-outline--right\");\n        contentElement.appendChild(vditor.outline.element);\n    }\n    if (vditor.upload) {\n        contentElement.appendChild(vditor.upload.element);\n    }\n    if (vditor.options.resize.enable) {\n        contentElement.appendChild(vditor.resize.element);\n    }\n    contentElement.appendChild(vditor.hint.element);\n    contentElement.appendChild(vditor.tip.element);\n    vditor.element.appendChild(contentElement);\n    if (vditor.toolbar.elements.export) {\n        // for export pdf\n        vditor.element.insertAdjacentHTML(\"beforeend\", '<iframe style=\"width: 100%;height: 0;border: 0\"></iframe>');\n    }\n    setEditMode(vditor, vditor.options.mode, afterRender(vditor, contentElement));\n    document.execCommand(\"DefaultParagraphSeparator\", false, \"p\");\n    if (navigator.userAgent.indexOf(\"iPhone\") > -1 && typeof window.visualViewport !== \"undefined\") {\n        // https://github.com/Vanessa219/vditor/issues/379\n        var pendingUpdate_1 = false;\n        var viewportHandler = function (event) {\n            if (pendingUpdate_1) {\n                return;\n            }\n            pendingUpdate_1 = true;\n            requestAnimationFrame(function () {\n                pendingUpdate_1 = false;\n                var layoutViewport = vditor.toolbar.element;\n                layoutViewport.style.transform = \"none\";\n                if (layoutViewport.getBoundingClientRect().top < 0) {\n                    layoutViewport.style.transform = \"translate(0, \" + -layoutViewport.getBoundingClientRect().top + \"px)\";\n                }\n            });\n        };\n        window.visualViewport.addEventListener(\"scroll\", viewportHandler);\n        window.visualViewport.addEventListener(\"resize\", viewportHandler);\n    }\n};\nvar setPadding = function (vditor) {\n    var minPadding = window.innerWidth <= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH ? 10 : 35;\n    if (vditor.wysiwyg.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.wysiwyg.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.wysiwyg.element.style.padding = \"10px \" + Math.max(minPadding, padding) + \"px\";\n    }\n    if (vditor.ir.element.parentElement.style.display !== \"none\") {\n        var padding = (vditor.ir.element.parentElement.clientWidth\n            - vditor.options.preview.maxWidth) / 2;\n        vditor.ir.element.style.padding = \"10px \" + Math.max(minPadding, padding) + \"px\";\n    }\n    if (vditor.preview.element.style.display !== \"block\" || vditor.currentMode === \"sv\") {\n        vditor.toolbar.element.style.paddingLeft = Math.max(5, parseInt(vditor[vditor.currentMode].element.style.paddingLeft || \"0\", 10) +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0)) + \"px\";\n    }\n};\nvar setTypewriterPosition = function (vditor) {\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var height = window.innerHeight;\n    if (typeof vditor.options.height === \"number\") {\n        height = vditor.options.height;\n        if (typeof vditor.options.minHeight === \"number\") {\n            height = Math.max(height, vditor.options.minHeight);\n        }\n        height = Math.min(window.innerHeight, height);\n    }\n    if (vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        height = window.innerHeight;\n    }\n    // 由于 Firefox padding-bottom bug，只能使用 :after\n    vditor[vditor.currentMode].element.style.setProperty(\"--editor-bottom\", ((height - vditor.toolbar.element.offsetHeight) / 2) + \"px\");\n};\nvar afterRender = function (vditor, contentElement) {\n    setTypewriterPosition(vditor);\n    window.addEventListener(\"resize\", function () {\n        setPadding(vditor);\n        setTypewriterPosition(vditor);\n    });\n    // set default value\n    var initValue = (0,compatibility/* accessLocalStorage */.pK)() && localStorage.getItem(vditor.options.cache.id);\n    if (!vditor.options.cache.enable || !initValue) {\n        if (vditor.options.value) {\n            initValue = vditor.options.value;\n        }\n        else if (vditor.originalInnerHTML) {\n            initValue = vditor.lute.HTML2Md(vditor.originalInnerHTML);\n        }\n        else if (!vditor.options.cache.enable) {\n            initValue = \"\";\n        }\n    }\n    return initValue || \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/ir/highlightToolbarIR.ts\n\n\n\n\n\nvar highlightToolbarIR = function (vditor) {\n    clearTimeout(vditor[vditor.currentMode].hlToolbarTimeoutId);\n    vditor[vditor.currentMode].hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor[vditor.currentMode].element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        if (typeElement.classList.contains(\"vditor-reset\")) {\n            typeElement = typeElement.childNodes[range.startOffset];\n        }\n        var headingElement = vditor.currentMode === \"sv\" ?\n            (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"heading\") : (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if (headingElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        var quoteElement = vditor.currentMode === \"sv\" ? (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"blockquote\") :\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n        if (quoteElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        var strongElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"strong\");\n        if (strongElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        var emElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"em\");\n        if (emElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        var sElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"s\");\n        if (sElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"a\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        var codeBlockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code-block\");\n        if (codeBlockElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"inline-code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n        }\n        var codeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"code\");\n        if (codeElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"bold\", \"italic\", \"strike\", \"line\", \"quote\",\n                \"list\", \"ordered-list\", \"check\", \"code\", \"upload\", \"link\", \"table\", \"record\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"table\");\n        if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"headings\", \"list\", \"ordered-list\", \"check\", \"line\",\n                \"quote\", \"code\", \"table\"]);\n        }\n    }, 200);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/afterRenderEvent.ts\n\n\nvar afterRenderEvent = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    clearTimeout(vditor.wysiwyg.afterRenderTimeoutId);\n    vditor.wysiwyg.afterRenderTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/inlineTag.ts\n\n\nvar previoueIsEmptyA = function (node) {\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType !== 3 && previousNode.tagName === \"A\" && !previousNode.previousSibling\n            && previousNode.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && previousNode.nextSibling) {\n            return previousNode;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return false;\n};\nvar nextIsCode = function (range) {\n    var nextNode = range.startContainer.nextSibling;\n    while (nextNode && nextNode.textContent === \"\") {\n        nextNode = nextNode.nextSibling;\n    }\n    if (nextNode && nextNode.nodeType !== 3 && (nextNode.tagName === \"CODE\" ||\n        nextNode.getAttribute(\"data-type\") === \"math-inline\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-entity\" ||\n        nextNode.getAttribute(\"data-type\") === \"html-inline\")) {\n        return true;\n    }\n    return false;\n};\nvar getNextHTML = function (node) {\n    var html = \"\";\n    var nextNode = node.nextSibling;\n    while (nextNode) {\n        if (nextNode.nodeType === 3) {\n            html += nextNode.textContent;\n        }\n        else {\n            html += nextNode.outerHTML;\n        }\n        nextNode = nextNode.nextSibling;\n    }\n    return html;\n};\nvar getPreviousHTML = function (node) {\n    var html = \"\";\n    var previousNode = node.previousSibling;\n    while (previousNode) {\n        if (previousNode.nodeType === 3) {\n            html = previousNode.textContent + html;\n        }\n        else {\n            html = previousNode.outerHTML + html;\n        }\n        previousNode = previousNode.previousSibling;\n    }\n    return html;\n};\nvar getRenderElementNextNode = function (blockCodeElement) {\n    var nextNode = blockCodeElement;\n    while (nextNode && !nextNode.nextSibling) {\n        nextNode = nextNode.parentElement;\n    }\n    return nextNode.nextSibling;\n};\nvar splitElement = function (range) {\n    var previousHTML = getPreviousHTML(range.startContainer);\n    var nextHTML = getNextHTML(range.startContainer);\n    var text = range.startContainer.textContent;\n    var offset = range.startOffset;\n    var beforeHTML = \"\";\n    var afterHTML = \"\";\n    if (text.substr(0, offset) !== \"\" && text.substr(0, offset) !== constants/* Constants.ZWSP */.g.ZWSP || previousHTML) {\n        beforeHTML = \"\" + previousHTML + text.substr(0, offset);\n    }\n    if (text.substr(offset) !== \"\" && text.substr(offset) !== constants/* Constants.ZWSP */.g.ZWSP || nextHTML) {\n        afterHTML = \"\" + text.substr(offset) + nextHTML;\n    }\n    return {\n        afterHTML: afterHTML,\n        beforeHTML: beforeHTML,\n    };\n};\nvar modifyPre = function (vditor, range) {\n    // 没有被块元素包裹\n    Array.from(vditor.wysiwyg.element.childNodes).find(function (node) {\n        if (node.nodeType === 3) {\n            var pElement = document.createElement(\"p\");\n            pElement.setAttribute(\"data-block\", \"0\");\n            pElement.textContent = node.textContent;\n            // 为空按下 tab 且 tab = '    ' 时，range.startContainer 不为 node\n            var cloneRangeOffset = range.startContainer.nodeType === 3 ? range.startOffset : node.textContent.length;\n            node.parentNode.insertBefore(pElement, node);\n            node.remove();\n            range.setStart(pElement.firstChild, Math.min(pElement.firstChild.textContent.length, cloneRangeOffset));\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        else if (!node.getAttribute(\"data-block\")) {\n            if (node.tagName === \"P\") {\n                node.remove();\n            }\n            else {\n                if (node.tagName === \"DIV\") {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    // firefox 列表换行产生 div\n                    node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.innerHTML + \"</p>\";\n                }\n                else {\n                    if (node.tagName === \"BR\") {\n                        // firefox 空换行产生 BR\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.outerHTML + \"<wbr></p>\";\n                    }\n                    else {\n                        range.insertNode(document.createElement(\"wbr\"));\n                        node.outerHTML = \"<p data-block=\\\"0\\\">\" + node.outerHTML + \"</p>\";\n                    }\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                range = getSelection().getRangeAt(0);\n            }\n            return true;\n        }\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/setHeading.ts\n\n\n\nvar setHeading = function (vditor, tagName) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (!blockElement && vditor.wysiwyg.element.children.length === 0) {\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (blockElement && !blockElement.classList.contains(\"vditor-wysiwyg__block\")) {\n        range.insertNode(document.createElement(\"wbr\"));\n        // Firefox 需要 trim https://github.com/Vanessa219/vditor/issues/207\n        if (blockElement.innerHTML.trim() === \"<wbr>\") {\n            // Firefox 光标对不齐 https://github.com/Vanessa219/vditor/issues/199 1\n            blockElement.innerHTML = \"<wbr><br>\";\n        }\n        if (blockElement.tagName === \"BLOCKQUOTE\" || blockElement.classList.contains(\"vditor-reset\")) {\n            blockElement.innerHTML = \"<\" + tagName + \" data-block=\\\"0\\\">\" + blockElement.innerHTML.trim() + \"</\" + tagName + \">\";\n        }\n        else {\n            blockElement.outerHTML = \"<\" + tagName + \" data-block=\\\"0\\\">\" + blockElement.innerHTML.trim() + \"</\" + tagName + \">\";\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        renderToc(vditor);\n    }\n};\nvar removeHeading = function (vditor) {\n    var range = getSelection().getRangeAt(0);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        blockElement = range.startContainer.childNodes[range.startOffset];\n    }\n    if (blockElement) {\n        range.insertNode(document.createElement(\"wbr\"));\n        blockElement.outerHTML = \"<p data-block=\\\"0\\\">\" + blockElement.innerHTML + \"</p>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n    }\n    vditor.wysiwyg.popover.style.display = \"none\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/showCode.ts\n\n\nvar showCode = function (previewElement, vditor, first) {\n    if (first === void 0) { first = true; }\n    var previousElement = previewElement.previousElementSibling;\n    var range = previousElement.ownerDocument.createRange();\n    if (previousElement.tagName === \"CODE\") {\n        previousElement.style.display = \"inline-block\";\n        if (first) {\n            range.setStart(previousElement.firstChild, 1);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n        }\n    }\n    else {\n        previousElement.style.display = \"block\";\n        if (!previousElement.firstChild.firstChild) {\n            previousElement.firstChild.appendChild(document.createTextNode(\"\"));\n        }\n        range.selectNodeContents(previousElement.firstChild);\n    }\n    if (first) {\n        range.collapse(true);\n    }\n    else {\n        range.collapse(false);\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    if (previewElement.firstElementChild.classList.contains(\"language-mindmap\")) {\n        return;\n    }\n    scrollCenter(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/processKeydown.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar wysiwyg_processKeydown_processKeydown = function (vditor, event) {\n    // Chrome firefox 触发 compositionend 机制不一致 https://github.com/Vanessa219/vditor/issues/188\n    vditor.wysiwyg.composingLock = event.isComposing;\n    if (event.isComposing) {\n        return false;\n    }\n    // 添加第一次记录 undo 的光标\n    if (event.key.indexOf(\"Arrow\") === -1 && event.key !== \"Meta\" && event.key !== \"Control\" && event.key !== \"Alt\" &&\n        event.key !== \"Shift\" && event.key !== \"CapsLock\" && event.key !== \"Escape\" && !/^F\\d{1,2}$/.test(event.key)) {\n        vditor.undo.recordFirstPosition(vditor, event);\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var startContainer = range.startContainer;\n    if (!fixGSKeyBackspace(event, vditor, startContainer)) {\n        return false;\n    }\n    fixCJKPosition(range, vditor, event);\n    fixHR(range);\n    // 仅处理以下快捷键操作\n    if (event.key !== \"Enter\" && event.key !== \"Tab\" && event.key !== \"Backspace\" && event.key.indexOf(\"Arrow\") === -1\n        && !(0,compatibility/* isCtrl */.yl)(event) && event.key !== \"Escape\" && event.key !== \"Delete\") {\n        return false;\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n    var pElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"P\");\n    // md 处理\n    if (fixMarkdown(event, vditor, pElement, range)) {\n        return true;\n    }\n    // li\n    if (fixList(range, vditor, pElement, event)) {\n        return true;\n    }\n    // table\n    if (fixTable(vditor, event, range)) {\n        return true;\n    }\n    // code render\n    var codeRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-wysiwyg__block\");\n    if (codeRenderElement) {\n        // esc: 退出编辑，仅展示渲染\n        if (event.key === \"Escape\" && codeRenderElement.children.length === 2) {\n            vditor.wysiwyg.popover.style.display = \"none\";\n            codeRenderElement.firstElementChild.style.display = \"none\";\n            vditor.wysiwyg.element.blur();\n            event.preventDefault();\n            return true;\n        }\n        // alt+enter: 代码块切换到语言 https://github.com/Vanessa219/vditor/issues/54\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && event.altKey && event.key === \"Enter\" &&\n            codeRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n            var inputElemment = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElemment.focus();\n            inputElemment.select();\n            event.preventDefault();\n            return true;\n        }\n        if (codeRenderElement.getAttribute(\"data-block\") === \"0\") {\n            if (fixCodeBlock(vditor, event, codeRenderElement.firstElementChild, range)) {\n                return true;\n            }\n            if (insertAfterBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n            if (codeRenderElement.getAttribute(\"data-type\") !== \"yaml-front-matter\" &&\n                insertBeforeBlock(vditor, event, range, codeRenderElement.firstElementChild, codeRenderElement)) {\n                return true;\n            }\n        }\n    }\n    // blockquote\n    if (fixBlockquote(vditor, range, event, pElement)) {\n        return true;\n    }\n    // 顶层 blockquote\n    var topBQElement = (0,hasClosest/* hasTopClosestByTag */.E2)(startContainer, \"BLOCKQUOTE\");\n    if (topBQElement) {\n        if (!event.shiftKey && event.altKey && event.key === \"Enter\") {\n            if (!(0,compatibility/* isCtrl */.yl)(event)) {\n                // alt+enter: 跳出多层 blockquote 嵌套之后 https://github.com/Vanessa219/vditor/issues/51\n                range.setStartAfter(topBQElement);\n            }\n            else {\n                // ctrl+alt+enter: 跳出多层 blockquote 嵌套之前\n                range.setStartBefore(topBQElement);\n            }\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            var node = document.createElement(\"p\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.innerHTML = \"\\n\";\n            range.insertNode(node);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // h1-h6\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(startContainer);\n    if (headingElement) {\n        if (headingElement.tagName === \"H6\" && startContainer.textContent.length === range.startOffset &&\n            !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\") {\n            // enter: H6 回车解析问题 https://github.com/Vanessa219/vditor/issues/48\n            var pTempElement = document.createElement(\"p\");\n            pTempElement.textContent = \"\\n\";\n            pTempElement.setAttribute(\"data-block\", \"0\");\n            startContainer.parentElement.insertAdjacentElement(\"afterend\", pTempElement);\n            range.setStart(pTempElement, 0);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            afterRenderEvent(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变大\n        if (matchHotKey(\"⌘=\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) - 1;\n            if (index > 0) {\n                setHeading(vditor, \"h\" + index);\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // enter++: 标题变小\n        if (matchHotKey(\"⌘-\", event)) {\n            var index = parseInt(headingElement.tagName.substr(1), 10) + 1;\n            if (index < 7) {\n                setHeading(vditor, \"h\" + index);\n                afterRenderEvent(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && headingElement.textContent.length === 1) {\n            // 删除后变为空\n            removeHeading(vditor);\n        }\n    }\n    // task list\n    if (fixTask(vditor, range, event)) {\n        return true;\n    }\n    // alt+enter\n    if (event.altKey && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey) {\n        // 切换到链接、链接引用、脚注引用弹出的输入框中\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"A\");\n        var linRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"link-ref\");\n        var footnoteRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"footnotes-ref\");\n        if (aElement || linRefElement || footnoteRefElement ||\n            (headingElement && headingElement.tagName.length === 2)) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n            inputElement.focus();\n            inputElement.select();\n        }\n    }\n    // 删除有子工具栏的块\n    if (removeBlockElement(vditor, event)) {\n        return true;\n    }\n    // 对有子工具栏的块上移\n    if (matchHotKey(\"⇧⌘U\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"up\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 对有子工具栏的块下移\n    if (matchHotKey(\"⇧⌘D\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"down\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (fixTab(vditor, range, event)) {\n        return true;\n    }\n    // shift+enter：软换行，但 table/hr/heading 处理、cell 内换行、block render 换行处理单独写在上面，li & p 使用浏览器默认\n    if (!(0,compatibility/* isCtrl */.yl)(event) && event.shiftKey && !event.altKey && event.key === \"Enter\" &&\n        startContainer.parentElement.tagName !== \"LI\" && startContainer.parentElement.tagName !== \"P\") {\n        if ([\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n            // 行内元素软换行需继续 https://github.com/Vanessa219/vditor/issues/170\n            range.insertNode(document.createTextNode(\"\\n\" + constants/* Constants.ZWSP */.g.ZWSP));\n        }\n        else {\n            range.insertNode(document.createTextNode(\"\\n\"));\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        afterRenderEvent(vditor);\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // 删除\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\") {\n        if (fixDelete(vditor, range, event, pElement)) {\n            return true;\n        }\n        if (blockElement) {\n            if (blockElement.previousElementSibling\n                && blockElement.previousElementSibling.classList.contains(\"vditor-wysiwyg__block\")\n                && blockElement.previousElementSibling.getAttribute(\"data-block\") === \"0\"\n                // https://github.com/Vanessa219/vditor/issues/946\n                && blockElement.tagName !== \"UL\" && blockElement.tagName !== \"OL\") {\n                var rangeStart = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n                if ((rangeStart === 0 && range.startOffset === 0) || // https://github.com/Vanessa219/vditor/issues/894\n                    (rangeStart === 1 && blockElement.innerText.startsWith(constants/* Constants.ZWSP */.g.ZWSP))) {\n                    // 当前块删除后光标落于代码渲染块上，当前块会被删除，因此需要阻止事件，不能和 keyup 中的代码块处理合并\n                    showCode(blockElement.previousElementSibling.lastElementChild, vditor, false);\n                    if (blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        // 当前块为空且不是最后一个时，需要删除\n                        blockElement.remove();\n                        afterRenderEvent(vditor);\n                    }\n                    event.preventDefault();\n                    return true;\n                }\n            }\n            var rangeStartOffset = range.startOffset;\n            if (range.toString() === \"\" && startContainer.nodeType === 3 &&\n                startContainer.textContent.charAt(rangeStartOffset - 2) === \"\\n\" &&\n                startContainer.textContent.charAt(rangeStartOffset - 1) !== constants/* Constants.ZWSP */.g.ZWSP\n                && [\"STRONG\", \"STRIKE\", \"S\", \"I\", \"EM\", \"B\"].includes(startContainer.parentElement.tagName)) {\n                // 保持行内元素软换行需继续的一致性\n                startContainer.textContent = startContainer.textContent.substring(0, rangeStartOffset - 1) +\n                    constants/* Constants.ZWSP */.g.ZWSP;\n                range.setStart(startContainer, rangeStartOffset);\n                range.collapse(true);\n                afterRenderEvent(vditor);\n                event.preventDefault();\n                return true;\n            }\n            // inline code、math、html 行前零宽字符后进行删除\n            if (startContainer.textContent === constants/* Constants.ZWSP */.g.ZWSP && range.startOffset === 1\n                && !startContainer.previousSibling && nextIsCode(range)) {\n                startContainer.textContent = \"\";\n                // 不能返回，其前面为代码渲染块时需进行以下处理：修正光标位于 inline math/html 前，按下删除按钮 code 中内容会被删除\n            }\n            // 修正光标位于 inline math/html, html-entity 前，按下删除按钮 code 中内容会被删除, 不能返回，还需要进行后续处理\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='math-inline']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n            blockElement.querySelectorAll(\"span.vditor-wysiwyg__block[data-type='html-entity']\").forEach(function (item) {\n                item.firstElementChild.style.display = \"inline\";\n                item.lastElementChild.style.display = \"none\";\n            });\n        }\n    }\n    if ((0,compatibility/* isFirefox */.vU)() && range.startOffset === 1 && startContainer.textContent.indexOf(constants/* Constants.ZWSP */.g.ZWSP) > -1 &&\n        startContainer.previousSibling && startContainer.previousSibling.nodeType !== 3 &&\n        startContainer.previousSibling.tagName === \"CODE\" &&\n        (event.key === \"Backspace\" || event.key === \"ArrowLeft\")) {\n        // https://github.com/Vanessa219/vditor/issues/410\n        range.selectNodeContents(startContainer.previousSibling);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (fixFirefoxArrowUpTable(event, blockElement, range)) {\n        event.preventDefault();\n        return true;\n    }\n    fixCursorDownInlineMath(range, event.key);\n    if (event.key === \"ArrowDown\") {\n        // 光标位于内联数学公式前，按下键无作用\n        var nextElement = startContainer.nextSibling;\n        if (nextElement && nextElement.nodeType !== 3 && nextElement.getAttribute(\"data-type\") === \"math-inline\") {\n            range.setStartAfter(nextElement);\n        }\n    }\n    if (blockElement && keydownToc(blockElement, vditor, event, range)) {\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar removeBlockElement = function (vditor, event) {\n    // 删除有子工具栏的块\n    if (matchHotKey(\"⇧⌘X\", event)) {\n        var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"remove\"]');\n        if (itemElement) {\n            itemElement.click();\n            event.preventDefault();\n            return true;\n        }\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/highlightToolbarWYSIWYG.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar highlightToolbarWYSIWYG = function (vditor) {\n    clearTimeout(vditor.wysiwyg.hlToolbarTimeoutId);\n    vditor.wysiwyg.hlToolbarTimeoutId = window.setTimeout(function () {\n        if (vditor.wysiwyg.element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (!(0,selection/* selectIsEditor */.Gb)(vditor.wysiwyg.element)) {\n            return;\n        }\n        removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n        var range = getSelection().getRangeAt(0);\n        var typeElement = range.startContainer;\n        if (range.startContainer.nodeType === 3) {\n            typeElement = range.startContainer.parentElement;\n        }\n        else {\n            typeElement = typeElement.childNodes[range.startOffset >= typeElement.childNodes.length\n                ? typeElement.childNodes.length - 1\n                : range.startOffset];\n        }\n        var footnotesElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-block\");\n        if (footnotesElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(footnotesElement, vditor);\n            setPopoverPosition(vditor, footnotesElement);\n            return;\n        }\n        // 工具栏高亮和禁用\n        var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"LI\");\n        if (liElement) {\n            if (liElement.classList.contains(\"vditor-task\")) {\n                setCurrentToolbar(vditor.toolbar.elements, [\"check\"]);\n            }\n            else if (liElement.parentElement.tagName === \"OL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"ordered-list\"]);\n            }\n            else if (liElement.parentElement.tagName === \"UL\") {\n                setCurrentToolbar(vditor.toolbar.elements, [\"list\"]);\n            }\n            enableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"quote\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"B\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRONG\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"bold\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"I\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"EM\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"italic\"]);\n        }\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"STRIKE\") ||\n            (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"S\")) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"strike\"]);\n        }\n        // comments\n        vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment--focus\")\n            .forEach(function (item) {\n            item.classList.remove(\"vditor-comment--focus\");\n        });\n        var commentElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-comment\");\n        if (commentElement) {\n            var ids_1 = commentElement.getAttribute(\"data-cmtids\").split(\" \");\n            if (ids_1.length > 1 && commentElement.nextSibling.isSameNode(commentElement.nextElementSibling)) {\n                var nextIds_1 = commentElement.nextElementSibling\n                    .getAttribute(\"data-cmtids\")\n                    .split(\" \");\n                ids_1.find(function (id) {\n                    if (nextIds_1.includes(id)) {\n                        ids_1 = [id];\n                        return true;\n                    }\n                });\n            }\n            vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(ids_1[0]) > -1) {\n                    item.classList.add(\"vditor-comment--focus\");\n                }\n            });\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"A\");\n        if (aElement) {\n            setCurrentToolbar(vditor.toolbar.elements, [\"link\"]);\n        }\n        var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TABLE\");\n        var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(typeElement);\n        if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"CODE\")) {\n            if ((0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"PRE\")) {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"inline-code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"code\"]);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, [\n                    \"headings\",\n                    \"bold\",\n                    \"italic\",\n                    \"strike\",\n                    \"line\",\n                    \"quote\",\n                    \"list\",\n                    \"ordered-list\",\n                    \"check\",\n                    \"code\",\n                    \"upload\",\n                    \"link\",\n                    \"table\",\n                    \"record\",\n                ]);\n                setCurrentToolbar(vditor.toolbar.elements, [\"inline-code\"]);\n            }\n        }\n        else if (headingElement) {\n            disableToolbar(vditor.toolbar.elements, [\"bold\"]);\n            setCurrentToolbar(vditor.toolbar.elements, [\"headings\"]);\n        }\n        else if (tableElement) {\n            disableToolbar(vditor.toolbar.elements, [\"table\"]);\n        }\n        // toc popover\n        var tocElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-toc\");\n        if (tocElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genClose(tocElement, vditor);\n            setPopoverPosition(vditor, tocElement);\n            return;\n        }\n        // quote popover\n        var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(typeElement, \"BLOCKQUOTE\");\n        if (blockquoteElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockquoteElement, vditor);\n            genDown(range, blockquoteElement, vditor);\n            genClose(blockquoteElement, vditor);\n            setPopoverPosition(vditor, blockquoteElement);\n        }\n        // list item popover\n        if (liElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, liElement, vditor);\n            genDown(range, liElement, vditor);\n            genClose(liElement, vditor);\n            setPopoverPosition(vditor, liElement);\n        }\n        // table popover\n        if (tableElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var updateTable_1 = function () {\n                var oldRow = tableElement.rows.length;\n                var oldColumn = tableElement.rows[0].cells.length;\n                var row = parseInt(input_1.value, 10) || oldRow;\n                var column = parseInt(input2_1.value, 10) || oldColumn;\n                if (row === oldRow && oldColumn === column) {\n                    return;\n                }\n                if (oldColumn !== column) {\n                    var columnDiff = column - oldColumn;\n                    for (var i = 0; i < tableElement.rows.length; i++) {\n                        if (columnDiff > 0) {\n                            for (var j = 0; j < columnDiff; j++) {\n                                if (i === 0) {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<th> </th>\");\n                                }\n                                else {\n                                    tableElement.rows[i].lastElementChild.insertAdjacentHTML(\"afterend\", \"<td> </td>\");\n                                }\n                            }\n                        }\n                        else {\n                            for (var k = oldColumn - 1; k >= column; k--) {\n                                tableElement.rows[i].cells[k].remove();\n                            }\n                        }\n                    }\n                }\n                if (oldRow !== row) {\n                    var rowDiff = row - oldRow;\n                    if (rowDiff > 0) {\n                        var rowHTML = \"<tr>\";\n                        for (var m = 0; m < column; m++) {\n                            rowHTML += \"<td> </td>\";\n                        }\n                        for (var l = 0; l < rowDiff; l++) {\n                            if (tableElement.querySelector(\"tbody\")) {\n                                tableElement\n                                    .querySelector(\"tbody\")\n                                    .insertAdjacentHTML(\"beforeend\", rowHTML);\n                            }\n                            else {\n                                tableElement\n                                    .querySelector(\"thead\")\n                                    .insertAdjacentHTML(\"afterend\", rowHTML + \"</tr>\");\n                            }\n                        }\n                    }\n                    else {\n                        for (var m = oldRow - 1; m >= row; m--) {\n                            tableElement.rows[m].remove();\n                            if (tableElement.rows.length === 1) {\n                                tableElement.querySelector(\"tbody\").remove();\n                            }\n                        }\n                    }\n                }\n            };\n            var setAlign_1 = function (type) {\n                setTableAlign(tableElement, type);\n                if (type === \"right\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.add(\"vditor-icon--current\");\n                }\n                else if (type === \"center\") {\n                    left_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    center_1.classList.add(\"vditor-icon--current\");\n                }\n                else {\n                    center_1.classList.remove(\"vditor-icon--current\");\n                    right_1.classList.remove(\"vditor-icon--current\");\n                    left_1.classList.add(\"vditor-icon--current\");\n                }\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                afterRenderEvent(vditor);\n            };\n            var td = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TD\");\n            var th = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"TH\");\n            var alignType = \"left\";\n            if (td) {\n                alignType = td.getAttribute(\"align\") || \"left\";\n            }\n            else if (th) {\n                alignType = th.getAttribute(\"align\") || \"center\";\n            }\n            var left_1 = document.createElement(\"button\");\n            left_1.setAttribute(\"type\", \"button\");\n            left_1.setAttribute(\"aria-label\", window.VditorI18n.alignLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘L\") + \">\");\n            left_1.setAttribute(\"data-type\", \"left\");\n            left_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-left\"></use></svg>';\n            left_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"left\" ? \" vditor-icon--current\" : \"\");\n            left_1.onclick = function () {\n                setAlign_1(\"left\");\n            };\n            var center_1 = document.createElement(\"button\");\n            center_1.setAttribute(\"type\", \"button\");\n            center_1.setAttribute(\"aria-label\", window.VditorI18n.alignCenter + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘C\") + \">\");\n            center_1.setAttribute(\"data-type\", \"center\");\n            center_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>';\n            center_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"center\" ? \" vditor-icon--current\" : \"\");\n            center_1.onclick = function () {\n                setAlign_1(\"center\");\n            };\n            var right_1 = document.createElement(\"button\");\n            right_1.setAttribute(\"type\", \"button\");\n            right_1.setAttribute(\"aria-label\", window.VditorI18n.alignRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘R\") + \">\");\n            right_1.setAttribute(\"data-type\", \"right\");\n            right_1.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-align-right\"></use></svg>';\n            right_1.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\" +\n                    (alignType === \"right\" ? \" vditor-icon--current\" : \"\");\n            right_1.onclick = function () {\n                setAlign_1(\"right\");\n            };\n            var insertRowElement = document.createElement(\"button\");\n            insertRowElement.setAttribute(\"type\", \"button\");\n            insertRowElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowBelow + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘=\") + \">\");\n            insertRowElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-row\"></use></svg>';\n            insertRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRow(vditor, range, cellElement);\n                }\n            };\n            var insertRowBElement = document.createElement(\"button\");\n            insertRowBElement.setAttribute(\"type\", \"button\");\n            insertRowBElement.setAttribute(\"aria-label\", window.VditorI18n.insertRowAbove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘F\") + \">\");\n            insertRowBElement.setAttribute(\"data-type\", \"insertRow\");\n            insertRowBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-rowb\"></use></svg>';\n            insertRowBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertRowBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertRowAbove(vditor, range, cellElement);\n                }\n            };\n            var insertColumnElement = document.createElement(\"button\");\n            insertColumnElement.setAttribute(\"type\", \"button\");\n            insertColumnElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnRight + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘=\") + \">\");\n            insertColumnElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-column\"></use></svg>';\n            insertColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement);\n                }\n            };\n            var insertColumnBElement = document.createElement(\"button\");\n            insertColumnBElement.setAttribute(\"type\", \"button\");\n            insertColumnBElement.setAttribute(\"aria-label\", window.VditorI18n.insertColumnLeft + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘G\") + \">\");\n            insertColumnBElement.setAttribute(\"data-type\", \"insertColumn\");\n            insertColumnBElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-insert-columnb\"></use></svg>';\n            insertColumnBElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            insertColumnBElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n                }\n            };\n            var deleteRowElement = document.createElement(\"button\");\n            deleteRowElement.setAttribute(\"type\", \"button\");\n            deleteRowElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-row\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌘-\") + \">\");\n            deleteRowElement.setAttribute(\"data-type\", \"deleteRow\");\n            deleteRowElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-row\"></use></svg>';\n            deleteRowElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteRowElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteRow(vditor, range, cellElement);\n                }\n            };\n            var deleteColumnElement = document.createElement(\"button\");\n            deleteColumnElement.setAttribute(\"type\", \"button\");\n            deleteColumnElement.setAttribute(\"aria-label\", window.VditorI18n[\"delete-column\"] + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘-\") + \">\");\n            deleteColumnElement.setAttribute(\"data-type\", \"deleteColumn\");\n            deleteColumnElement.innerHTML =\n                '<svg><use xlink:href=\"#vditor-icon-delete-column\"></use></svg>';\n            deleteColumnElement.className =\n                \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n            deleteColumnElement.onclick = function () {\n                var startContainer = getSelection().getRangeAt(0)\n                    .startContainer;\n                var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n                if (cellElement) {\n                    deleteColumn(vditor, range, tableElement, cellElement);\n                }\n            };\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.row);\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_1 = document.createElement(\"input\");\n            inputWrap.appendChild(input_1);\n            input_1.type = \"number\";\n            input_1.min = \"1\";\n            input_1.className = \"vditor-input\";\n            input_1.style.width = \"42px\";\n            input_1.style.textAlign = \"center\";\n            input_1.setAttribute(\"placeholder\", window.VditorI18n.row);\n            input_1.value = tableElement.rows.length.toString();\n            input_1.oninput = function () {\n                updateTable_1();\n            };\n            input_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input2_1.focus();\n                    input2_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            var input2Wrap = document.createElement(\"span\");\n            input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.column);\n            input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input2_1 = document.createElement(\"input\");\n            input2Wrap.appendChild(input2_1);\n            input2_1.type = \"number\";\n            input2_1.min = \"1\";\n            input2_1.className = \"vditor-input\";\n            input2_1.style.width = \"42px\";\n            input2_1.style.textAlign = \"center\";\n            input2_1.setAttribute(\"placeholder\", window.VditorI18n.column);\n            input2_1.value = tableElement.rows[0].cells.length.toString();\n            input2_1.oninput = function () {\n                updateTable_1();\n            };\n            input2_1.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (event.key === \"Tab\") {\n                    input_1.focus();\n                    input_1.select();\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genUp(range, tableElement, vditor);\n            genDown(range, tableElement, vditor);\n            genClose(tableElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", left_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", center_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", right_1);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnBElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", insertColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteRowElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", deleteColumnElement);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            vditor.wysiwyg.popover.insertAdjacentHTML(\"beforeend\", \" x \");\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n            setPopoverPosition(vditor, tableElement);\n        }\n        // link ref popover\n        var linkRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"link-ref\");\n        if (linkRefElement) {\n            genLinkRefPopover(vditor, linkRefElement);\n        }\n        // footnote popover\n        var footnotesRefElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-type\", \"footnotes-ref\");\n        if (footnotesRefElement) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_2 = document.createElement(\"input\");\n            inputWrap.appendChild(input_2);\n            input_2.className = \"vditor-input\";\n            input_2.setAttribute(\"placeholder\", window.VditorI18n.footnoteRef + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_2.style.width = \"120px\";\n            input_2.value = footnotesRefElement.getAttribute(\"data-footnotes-label\");\n            input_2.oninput = function () {\n                if (input_2.value.trim() !== \"\") {\n                    footnotesRefElement.setAttribute(\"data-footnotes-label\", input_2.value);\n                }\n            };\n            input_2.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                    !event.shiftKey &&\n                    event.altKey &&\n                    event.key === \"Enter\") {\n                    range.selectNodeContents(footnotesRefElement);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genClose(footnotesRefElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, footnotesRefElement);\n        }\n        var blockRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(typeElement, \"vditor-wysiwyg__block\");\n        // block popover: math-inline, math-block, html-block, html-inline, code-block, html-entity\n        if (blockRenderElement &&\n            blockRenderElement.getAttribute(\"data-type\").indexOf(\"block\") > -1) {\n            var lang = vditor.options.lang;\n            var options = vditor.options;\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            genUp(range, blockRenderElement, vditor);\n            genDown(range, blockRenderElement, vditor);\n            genClose(blockRenderElement, vditor);\n            if (blockRenderElement.getAttribute(\"data-type\") === \"code-block\") {\n                var languageWrap = document.createElement(\"span\");\n                languageWrap.setAttribute(\"aria-label\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                languageWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n                var language_1 = document.createElement(\"input\");\n                languageWrap.appendChild(language_1);\n                var codeElement_1 = blockRenderElement.firstElementChild.firstElementChild;\n                language_1.className = \"vditor-input\";\n                language_1.setAttribute(\"placeholder\", window.VditorI18n.language + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n                language_1.value =\n                    codeElement_1.className.indexOf(\"language-\") > -1\n                        ? codeElement_1.className.split(\"-\")[1].split(\" \")[0]\n                        : \"\";\n                language_1.oninput = function () {\n                    if (language_1.value.trim() !== \"\") {\n                        codeElement_1.className = \"language-\" + language_1.value;\n                    }\n                    else {\n                        codeElement_1.className = \"\";\n                        vditor.hint.recentLanguage = \"\";\n                    }\n                    if (blockRenderElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                        blockRenderElement.lastElementChild.innerHTML =\n                            blockRenderElement.firstElementChild.innerHTML;\n                        processCodeRender(blockRenderElement.lastElementChild, vditor);\n                    }\n                    afterRenderEvent(vditor);\n                };\n                language_1.onkeydown = function (event) {\n                    if (event.isComposing) {\n                        return;\n                    }\n                    if (removeBlockElement(vditor, event)) {\n                        return;\n                    }\n                    if (event.key === \"Escape\" &&\n                        vditor.hint.element.style.display === \"block\") {\n                        vditor.hint.element.style.display = \"none\";\n                        event.preventDefault();\n                        return;\n                    }\n                    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                        !event.shiftKey &&\n                        event.altKey &&\n                        event.key === \"Enter\") {\n                        range.setStart(codeElement_1.firstChild, 0);\n                        range.collapse(true);\n                        (0,selection/* setSelectionFocus */.Hc)(range);\n                    }\n                    vditor.hint.select(event, vditor);\n                };\n                language_1.onkeyup = function (event) {\n                    if (event.isComposing ||\n                        event.key === \"Enter\" ||\n                        event.key === \"ArrowUp\" ||\n                        event.key === \"Escape\" ||\n                        event.key === \"ArrowDown\") {\n                        return;\n                    }\n                    var matchLangData = [];\n                    var key = language_1.value.substring(0, language_1.selectionStart);\n                    constants/* Constants.CODE_LANGUAGES.forEach */.g.CODE_LANGUAGES.forEach(function (keyName) {\n                        if (keyName.indexOf(key.toLowerCase()) > -1) {\n                            matchLangData.push({\n                                html: keyName,\n                                value: keyName,\n                            });\n                        }\n                    });\n                    vditor.hint.genHTML(matchLangData, key, vditor);\n                    event.preventDefault();\n                };\n                vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", languageWrap);\n            }\n            setPopoverPosition(vditor, blockRenderElement);\n        }\n        else {\n            if (!blockRenderElement) {\n                vditor.wysiwyg.element\n                    .querySelectorAll(\".vditor-wysiwyg__preview\")\n                    .forEach(function (itemElement) {\n                    var previousElement = itemElement.previousElementSibling;\n                    previousElement.style.display = \"none\";\n                });\n            }\n            blockRenderElement = undefined;\n        }\n        if (headingElement) {\n            vditor.wysiwyg.popover.innerHTML = \"\";\n            var inputWrap = document.createElement(\"span\");\n            inputWrap.setAttribute(\"aria-label\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n            var input_3 = document.createElement(\"input\");\n            inputWrap.appendChild(input_3);\n            input_3.className = \"vditor-input\";\n            input_3.setAttribute(\"placeholder\", \"ID\" + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥Enter\") + \">\");\n            input_3.style.width = \"120px\";\n            input_3.value = headingElement.getAttribute(\"data-id\") || \"\";\n            input_3.oninput = function () {\n                headingElement.setAttribute(\"data-id\", input_3.value);\n            };\n            input_3.onkeydown = function (event) {\n                if (event.isComposing) {\n                    return;\n                }\n                if (!(0,compatibility/* isCtrl */.yl)(event) &&\n                    !event.shiftKey &&\n                    event.altKey &&\n                    event.key === \"Enter\") {\n                    range.selectNodeContents(headingElement);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                    event.preventDefault();\n                    return;\n                }\n                removeBlockElement(vditor, event);\n            };\n            genUp(range, headingElement, vditor);\n            genDown(range, headingElement, vditor);\n            genClose(headingElement, vditor);\n            vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n            setPopoverPosition(vditor, headingElement);\n        }\n        // a popover\n        if (aElement) {\n            genAPopover(vditor, aElement);\n        }\n        if (!blockquoteElement &&\n            !liElement &&\n            !tableElement &&\n            !blockRenderElement &&\n            !aElement &&\n            !linkRefElement &&\n            !footnotesRefElement &&\n            !headingElement &&\n            !tocElement) {\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(typeElement, \"data-block\", \"0\");\n            if (blockElement &&\n                blockElement.parentElement.isEqualNode(vditor.wysiwyg.element)) {\n                vditor.wysiwyg.popover.innerHTML = \"\";\n                genUp(range, blockElement, vditor);\n                genDown(range, blockElement, vditor);\n                genClose(blockElement, vditor);\n                setPopoverPosition(vditor, blockElement);\n            }\n            else {\n                vditor.wysiwyg.popover.style.display = \"none\";\n            }\n        }\n        // 反斜杠特殊处理\n        vditor.wysiwyg.element\n            .querySelectorAll('span[data-type=\"backslash\"] > span')\n            .forEach(function (item) {\n            item.style.display = \"none\";\n        });\n        var backslashElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"backslash\");\n        if (backslashElement) {\n            backslashElement.querySelector(\"span\").style.display = \"inline\";\n        }\n    }, 200);\n};\nvar setPopoverPosition = function (vditor, element) {\n    var targetElement = element;\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(element, \"TABLE\");\n    if (tableElement) {\n        targetElement = tableElement;\n    }\n    vditor.wysiwyg.popover.style.left = \"0\";\n    vditor.wysiwyg.popover.style.display = \"block\";\n    vditor.wysiwyg.popover.style.top =\n        Math.max(-8, targetElement.offsetTop - 21 - vditor.wysiwyg.element.scrollTop) + \"px\";\n    vditor.wysiwyg.popover.style.left =\n        Math.min(targetElement.offsetLeft, vditor.wysiwyg.element.clientWidth - vditor.wysiwyg.popover.clientWidth) + \"px\";\n    vditor.wysiwyg.popover.setAttribute(\"data-top\", (targetElement.offsetTop - 21).toString());\n};\nvar genLinkRefPopover = function (vditor, linkRefElement) {\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateLinkRef = function () {\n        if (input.value.trim() !== \"\") {\n            if (linkRefElement.tagName === \"IMG\") {\n                linkRefElement.setAttribute(\"alt\", input.value);\n            }\n            else {\n                linkRefElement.textContent = input.value;\n            }\n        }\n        // data-link-label\n        if (input1.value.trim() !== \"\") {\n            linkRefElement.setAttribute(\"data-link-label\", input1.value);\n        }\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value =\n        linkRefElement.getAttribute(\"alt\") || linkRefElement.textContent;\n    input.oninput = function () {\n        updateLinkRef();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.linkRef);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.linkRef);\n    input1.value = linkRefElement.getAttribute(\"data-link-label\");\n    input1.oninput = function () {\n        updateLinkRef();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, linkRefElement, event, input);\n    };\n    genClose(linkRefElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    setPopoverPosition(vditor, linkRefElement);\n};\nvar genUp = function (range, element, vditor) {\n    var previousElement = element.previousElementSibling;\n    if (!previousElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var upElement = document.createElement(\"button\");\n    upElement.setAttribute(\"type\", \"button\");\n    upElement.setAttribute(\"data-type\", \"up\");\n    upElement.setAttribute(\"aria-label\", window.VditorI18n.up + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘U\") + \">\");\n    upElement.innerHTML = '<svg><use xlink:href=\"#vditor-icon-up\"></use></svg>';\n    upElement.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    upElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        previousElement.insertAdjacentElement(\"beforebegin\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", upElement);\n};\nvar genDown = function (range, element, vditor) {\n    var nextElement = element.nextElementSibling;\n    if (!nextElement ||\n        (!element.parentElement.isEqualNode(vditor.wysiwyg.element) &&\n            element.tagName !== \"LI\")) {\n        return;\n    }\n    var downElement = document.createElement(\"button\");\n    downElement.setAttribute(\"type\", \"button\");\n    downElement.setAttribute(\"data-type\", \"down\");\n    downElement.setAttribute(\"aria-label\", window.VditorI18n.down + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘D\") + \">\");\n    downElement.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-down\"></use></svg>';\n    downElement.className =\n        \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    downElement.onclick = function () {\n        range.insertNode(document.createElement(\"wbr\"));\n        nextElement.insertAdjacentElement(\"afterend\", element);\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n        scrollCenter(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", downElement);\n};\nvar genClose = function (element, vditor) {\n    var close = document.createElement(\"button\");\n    close.setAttribute(\"type\", \"button\");\n    close.setAttribute(\"data-type\", \"remove\");\n    close.setAttribute(\"aria-label\", window.VditorI18n.remove + \"<\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⇧⌘X\") + \">\");\n    close.innerHTML =\n        '<svg><use xlink:href=\"#vditor-icon-trashcan\"></use></svg>';\n    close.className = \"vditor-icon vditor-tooltipped vditor-tooltipped__n\";\n    close.onclick = function () {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        range.setStartAfter(element);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        element.remove();\n        afterRenderEvent(vditor);\n        highlightToolbarWYSIWYG(vditor);\n    };\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", close);\n};\nvar linkHotkey = function (vditor, element, event, nextInputElement) {\n    if (event.isComposing) {\n        return;\n    }\n    if (event.key === \"Tab\") {\n        nextInputElement.focus();\n        nextInputElement.select();\n        event.preventDefault();\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) &&\n        !event.shiftKey &&\n        event.altKey &&\n        event.key === \"Enter\") {\n        var range = (0,selection/* getEditorRange */.zh)(vditor);\n        // firefox 不会打断 link https://github.com/Vanessa219/vditor/issues/193\n        element.insertAdjacentHTML(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n        range.setStartAfter(element.nextSibling);\n        range.collapse(true);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        event.preventDefault();\n    }\n};\nvar genAPopover = function (vditor, aElement) {\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateA = function () {\n        if (input.value.trim() !== \"\") {\n            aElement.innerHTML = input.value;\n        }\n        aElement.setAttribute(\"href\", input1.value);\n        aElement.setAttribute(\"title\", input2.value);\n    };\n    aElement.querySelectorAll(\"[data-marker]\").forEach(function (item) {\n        item.removeAttribute(\"data-marker\");\n    });\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.textIsNotEmpty);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input = document.createElement(\"input\");\n    inputWrap.appendChild(input);\n    input.className = \"vditor-input\";\n    input.setAttribute(\"placeholder\", window.VditorI18n.textIsNotEmpty);\n    input.style.width = \"120px\";\n    input.value = aElement.innerHTML || \"\";\n    input.oninput = function () {\n        updateA();\n    };\n    input.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input1);\n    };\n    var input1Wrap = document.createElement(\"span\");\n    input1Wrap.setAttribute(\"aria-label\", window.VditorI18n.link);\n    input1Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input1 = document.createElement(\"input\");\n    input1Wrap.appendChild(input1);\n    input1.className = \"vditor-input\";\n    input1.setAttribute(\"placeholder\", window.VditorI18n.link);\n    input1.value = aElement.getAttribute(\"href\") || \"\";\n    input1.oninput = function () {\n        updateA();\n    };\n    input1.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input2);\n    };\n    var input2Wrap = document.createElement(\"span\");\n    input2Wrap.setAttribute(\"aria-label\", window.VditorI18n.tooltipText);\n    input2Wrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var input2 = document.createElement(\"input\");\n    input2Wrap.appendChild(input2);\n    input2.className = \"vditor-input\";\n    input2.setAttribute(\"placeholder\", window.VditorI18n.tooltipText);\n    input2.style.width = \"60px\";\n    input2.value = aElement.getAttribute(\"title\") || \"\";\n    input2.oninput = function () {\n        updateA();\n    };\n    input2.onkeydown = function (event) {\n        if (removeBlockElement(vditor, event)) {\n            return;\n        }\n        linkHotkey(vditor, aElement, event, input);\n    };\n    genClose(aElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input1Wrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", input2Wrap);\n    setPopoverPosition(vditor, aElement);\n};\nvar genImagePopover = function (event, vditor) {\n    var imgElement = event.target;\n    vditor.wysiwyg.popover.innerHTML = \"\";\n    var updateImg = function () {\n        imgElement.setAttribute(\"src\", inputElement.value);\n        imgElement.setAttribute(\"alt\", alt.value);\n        imgElement.setAttribute(\"title\", title.value);\n    };\n    var inputWrap = document.createElement(\"span\");\n    inputWrap.setAttribute(\"aria-label\", window.VditorI18n.imageURL);\n    inputWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var inputElement = document.createElement(\"input\");\n    inputWrap.appendChild(inputElement);\n    inputElement.className = \"vditor-input\";\n    inputElement.setAttribute(\"placeholder\", window.VditorI18n.imageURL);\n    inputElement.value = imgElement.getAttribute(\"src\") || \"\";\n    inputElement.oninput = function () {\n        updateImg();\n    };\n    inputElement.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var altWrap = document.createElement(\"span\");\n    altWrap.setAttribute(\"aria-label\", window.VditorI18n.alternateText);\n    altWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var alt = document.createElement(\"input\");\n    altWrap.appendChild(alt);\n    alt.className = \"vditor-input\";\n    alt.setAttribute(\"placeholder\", window.VditorI18n.alternateText);\n    alt.style.width = \"52px\";\n    alt.value = imgElement.getAttribute(\"alt\") || \"\";\n    alt.oninput = function () {\n        updateImg();\n    };\n    alt.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    var titleWrap = document.createElement(\"span\");\n    titleWrap.setAttribute(\"aria-label\", window.VditorI18n.title);\n    titleWrap.className = \"vditor-tooltipped vditor-tooltipped__n\";\n    var title = document.createElement(\"input\");\n    titleWrap.appendChild(title);\n    title.className = \"vditor-input\";\n    title.setAttribute(\"placeholder\", window.VditorI18n.title);\n    title.value = imgElement.getAttribute(\"title\") || \"\";\n    title.oninput = function () {\n        updateImg();\n    };\n    title.onkeydown = function (elementEvent) {\n        removeBlockElement(vditor, elementEvent);\n    };\n    genClose(imgElement, vditor);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", inputWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", altWrap);\n    vditor.wysiwyg.popover.insertAdjacentElement(\"beforeend\", titleWrap);\n    setPopoverPosition(vditor, imgElement);\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/highlightToolbar.ts\n\n\nvar highlightToolbar = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\") {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/renderDomByMd.ts\n\n\nvar renderDomByMd = function (vditor, md, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    var editorElement = vditor.wysiwyg.element;\n    editorElement.innerHTML = vditor.lute.Md2VditorDOM(md);\n    editorElement.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n        processCodeRender(item, vditor);\n        item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n    });\n    afterRenderEvent(vditor, options);\n};\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/toolbarEvent.ts\n\n\n\n\n\n\n\n\n\nvar cancelBES = function (range, vditor, commandName) {\n    var element = range.startContainer.parentElement;\n    var jump = false;\n    var lastTagName = \"\";\n    var lastEndTagName = \"\";\n    var splitHTML = splitElement(range);\n    var lastBeforeHTML = splitHTML.beforeHTML;\n    var lastAfterHTML = splitHTML.afterHTML;\n    while (element && !jump) {\n        var tagName = element.tagName;\n        if (tagName === \"STRIKE\") {\n            tagName = \"S\";\n        }\n        if (tagName === \"I\") {\n            tagName = \"EM\";\n        }\n        if (tagName === \"B\") {\n            tagName = \"STRONG\";\n        }\n        if (tagName === \"S\" || tagName === \"STRONG\" || tagName === \"EM\") {\n            var insertHTML = \"\";\n            var previousHTML = \"\";\n            var nextHTML = \"\";\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                previousHTML = getPreviousHTML(element);\n                nextHTML = getNextHTML(element);\n            }\n            if (lastBeforeHTML || previousHTML) {\n                insertHTML = previousHTML + \"<\" + tagName + \">\" + lastBeforeHTML + \"</\" + tagName + \">\";\n                lastBeforeHTML = insertHTML;\n            }\n            if ((commandName === \"bold\" && tagName === \"STRONG\") ||\n                (commandName === \"italic\" && tagName === \"EM\") ||\n                (commandName === \"strikeThrough\" && tagName === \"S\")) {\n                // 取消\n                insertHTML += \"\" + lastTagName + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\" + lastEndTagName;\n                jump = true;\n            }\n            if (lastAfterHTML || nextHTML) {\n                lastAfterHTML = \"<\" + tagName + \">\" + lastAfterHTML + \"</\" + tagName + \">\" + nextHTML;\n                insertHTML += lastAfterHTML;\n            }\n            if (element.parentElement.getAttribute(\"data-block\") !== \"0\") {\n                element = element.parentElement;\n                element.innerHTML = insertHTML;\n            }\n            else {\n                element.outerHTML = insertHTML;\n                element = element.parentElement;\n            }\n            lastTagName = \"<\" + tagName + \">\" + lastTagName;\n            lastEndTagName = \"</\" + tagName + \">\" + lastEndTagName;\n        }\n        else {\n            jump = true;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n};\nvar toolbarEvent = function (vditor, actionBtn, event) {\n    if (vditor.wysiwyg.composingLock // Mac Chrome 中韩文结束会出发此事件，导致重复末尾字符 https://github.com/Vanessa219/vditor/issues/188\n        && event instanceof CustomEvent // 点击按钮应忽略输入法 https://github.com/Vanessa219/vditor/issues/473\n    ) {\n        return;\n    }\n    var useHighlight = true;\n    var useRender = true;\n    if (vditor.wysiwyg.element.querySelector(\"wbr\")) {\n        vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n    }\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"strike\") {\n            commandName = \"strikeThrough\";\n        }\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"BLOCKQUOTE\");\n            if (!quoteElement) {\n                quoteElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (quoteElement) {\n                useHighlight = false;\n                actionBtn.classList.remove(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\" + quoteElement.innerHTML + \"</p>\" : quoteElement.innerHTML;\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"inline-code\") {\n            var inlineCodeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n            if (!inlineCodeElement) {\n                inlineCodeElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (inlineCodeElement) {\n                inlineCodeElement.outerHTML = inlineCodeElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") + \"<wbr>\";\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"link\") {\n            if (!range.collapsed) {\n                document.execCommand(\"unlink\", false, \"\");\n            }\n            else {\n                range.selectNode(range.startContainer.parentElement);\n                document.execCommand(\"unlink\", false, \"\");\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n            if (range.toString() === \"\") {\n                cancelBES(range, vditor, commandName);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    else {\n        // 添加\n        if (vditor.wysiwyg.element.childNodes.length === 0) {\n            vditor.wysiwyg.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"quote\") {\n            if (!blockElement) {\n                blockElement = range.startContainer.childNodes[range.startOffset];\n            }\n            if (blockElement) {\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n                range.insertNode(document.createElement(\"wbr\"));\n                var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n                // li 中软换行\n                if (liElement && blockElement.contains(liElement)) {\n                    liElement.innerHTML = \"<blockquote data-block=\\\"0\\\">\" + liElement.innerHTML + \"</blockquote>\";\n                }\n                else {\n                    blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"inline-code\") {\n            if (range.toString() === \"\") {\n                var node = document.createElement(\"code\");\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else if (range.startContainer.nodeType === 3) {\n                var node = document.createElement(\"code\");\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"code\") {\n            var node = document.createElement(\"div\");\n            node.className = \"vditor-wysiwyg__block\";\n            node.setAttribute(\"data-type\", \"code-block\");\n            node.setAttribute(\"data-block\", \"0\");\n            node.setAttribute(\"data-marker\", \"```\");\n            if (range.toString() === \"\") {\n                node.innerHTML = \"<pre><code><wbr>\\n</code></pre>\";\n            }\n            else {\n                node.innerHTML = \"<pre><code>\" + range.toString() + \"<wbr></code></pre>\";\n                range.deleteContents();\n            }\n            range.insertNode(node);\n            if (blockElement) {\n                blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\").forEach(function (item) {\n                processCodeRender(item, vditor);\n            });\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"link\") {\n            if (range.toString() === \"\") {\n                var aElement = document.createElement(\"a\");\n                aElement.innerText = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(aElement);\n                range.setStart(aElement.firstChild, 1);\n                range.collapse(true);\n                genAPopover(vditor, aElement);\n                var textInputElement = vditor.wysiwyg.popover.querySelector(\"input\");\n                textInputElement.value = \"\";\n                textInputElement.focus();\n                useRender = false;\n            }\n            else {\n                var node = document.createElement(\"a\");\n                node.setAttribute(\"href\", \"\");\n                node.innerHTML = range.toString();\n                range.surroundContents(node);\n                range.insertNode(node);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                genAPopover(vditor, node);\n                var textInputElements = vditor.wysiwyg.popover.querySelectorAll(\"input\");\n                textInputElements[0].value = node.innerText;\n                textInputElements[1].focus();\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"table\") {\n            var tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr><th>col1<wbr></th><th>col2</th><th>col3</th></tr></thead><tbody><tr><td> </td><td> </td><td> </td></tr><tr><td> </td><td> </td><td> </td></tr></tbody></table>\";\n            if (range.toString().trim() === \"\") {\n                if (blockElement && blockElement.innerHTML.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                    blockElement.outerHTML = tableHTML_1;\n                }\n                else {\n                    document.execCommand(\"insertHTML\", false, tableHTML_1);\n                }\n                range.selectNode(vditor.wysiwyg.element.querySelector(\"wbr\").previousSibling);\n                vditor.wysiwyg.element.querySelector(\"wbr\").remove();\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                tableHTML_1 = \"<table data-block=\\\"0\\\"><thead><tr>\";\n                var tableText = range.toString().split(\"\\n\");\n                var delimiter_1 = tableText[0].split(\",\").length > tableText[0].split(\"\\t\").length ? \",\" : \"\\t\";\n                tableText.forEach(function (rows, index) {\n                    if (index === 0) {\n                        rows.split(delimiter_1).forEach(function (header, subIndex) {\n                            if (subIndex === 0) {\n                                tableHTML_1 += \"<th>\" + header + \"<wbr></th>\";\n                            }\n                            else {\n                                tableHTML_1 += \"<th>\" + header + \"</th>\";\n                            }\n                        });\n                        tableHTML_1 += \"</tr></thead>\";\n                    }\n                    else {\n                        if (index === 1) {\n                            tableHTML_1 += \"<tbody><tr>\";\n                        }\n                        else {\n                            tableHTML_1 += \"<tr>\";\n                        }\n                        rows.split(delimiter_1).forEach(function (cell) {\n                            tableHTML_1 += \"<td>\" + cell + \"</td>\";\n                        });\n                        tableHTML_1 += \"</tr>\";\n                    }\n                });\n                tableHTML_1 += \"</tbody></table>\";\n                document.execCommand(\"insertHTML\", false, tableHTML_1);\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--disabled\");\n        }\n        else if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n                (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            }\n        }\n        else {\n            // bold, italic, strike\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n            if (commandName === \"strike\") {\n                commandName = \"strikeThrough\";\n            }\n            if (range.toString() === \"\" && (commandName === \"bold\" || commandName === \"italic\" || commandName === \"strikeThrough\")) {\n                var tagName = \"strong\";\n                if (commandName === \"italic\") {\n                    tagName = \"em\";\n                }\n                else if (commandName === \"strikeThrough\") {\n                    tagName = \"s\";\n                }\n                var node = document.createElement(tagName);\n                node.textContent = constants/* Constants.ZWSP */.g.ZWSP;\n                range.insertNode(node);\n                if (node.previousSibling && node.previousSibling.textContent === constants/* Constants.ZWSP */.g.ZWSP) {\n                    // 移除多层嵌套中的 zwsp\n                    node.previousSibling.textContent = \"\";\n                }\n                range.setStart(node.firstChild, 1);\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                document.execCommand(commandName, false, \"\");\n            }\n        }\n    }\n    if (useHighlight) {\n        highlightToolbarWYSIWYG(vditor);\n    }\n    if (useRender) {\n        afterRenderEvent(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/MenuItem.ts\n\n\n\n\n\n\nvar MenuItem = /** @class */ (function () {\n    function MenuItem(vditor, menuItem) {\n        var _a;\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        if (menuItem.className) {\n            (_a = this.element.classList).add.apply(_a, menuItem.className.split(\" \"));\n        }\n        var hotkey = menuItem.hotkey ? \" <\" + (0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey) + \">\" : \"\";\n        if (menuItem.level === 2) {\n            hotkey = menuItem.hotkey ? \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(menuItem.hotkey) + \"&gt;\" : \"\";\n        }\n        var tip = menuItem.tip ? menuItem.tip + hotkey : \"\" + window.VditorI18n[menuItem.name] + hotkey;\n        var tagName = menuItem.name === \"upload\" ? \"div\" : \"button\";\n        if (menuItem.level === 2) {\n            this.element.innerHTML = \"<\" + tagName + \" data-type=\\\"\" + menuItem.name + \"\\\">\" + tip + \"</\" + tagName + \">\";\n        }\n        else {\n            this.element.classList.add(\"vditor-toolbar__item\");\n            var iconElement = document.createElement(tagName);\n            iconElement.setAttribute(\"data-type\", menuItem.name);\n            iconElement.className = \"vditor-tooltipped vditor-tooltipped__\" + menuItem.tipPosition;\n            iconElement.setAttribute(\"aria-label\", tip);\n            iconElement.innerHTML = menuItem.icon;\n            this.element.appendChild(iconElement);\n        }\n        if (!menuItem.prefix) {\n            return;\n        }\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            if (vditor.currentMode === \"wysiwyg\") {\n                toolbarEvent(vditor, _this.element.children[0], event);\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n            else {\n                processToolbar(vditor, _this.element.children[0], menuItem.prefix || \"\", menuItem.suffix || \"\");\n            }\n        });\n    }\n    return MenuItem;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/EditMode.ts\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar setEditMode = function (vditor, type, event) {\n    var markdownText;\n    if (typeof event !== \"string\") {\n        hidePanel(vditor, [\"subToolbar\", \"hint\"]);\n        event.preventDefault();\n        markdownText = getMarkdown(vditor);\n    }\n    else {\n        markdownText = event;\n    }\n    if (vditor.currentMode === type && typeof event !== \"string\") {\n        return;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    if (vditor.options.preview.mode === \"both\" && type === \"sv\") {\n        vditor.preview.element.style.display = \"block\";\n    }\n    else {\n        vditor.preview.element.style.display = \"none\";\n    }\n    enableToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    removeCurrentToolbar(vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS */.g.EDIT_TOOLBARS);\n    disableToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\"]);\n    if (type === \"ir\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"block\";\n        vditor.lute.SetVditorIR(true);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"ir\";\n        vditor.ir.element.innerHTML = vditor.lute.Md2VditorIRDOM(markdownText);\n        process_processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n        vditor.ir.element.querySelectorAll(\".vditor-ir__preview[data-render='2']\").forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        vditor.ir.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n    }\n    else if (type === \"wysiwyg\") {\n        hideToolbar(vditor.toolbar.elements, [\"both\"]);\n        showToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.sv.element.style.display = \"none\";\n        vditor.wysiwyg.element.parentElement.style.display = \"block\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(true);\n        vditor.lute.SetVditorSV(false);\n        vditor.currentMode = \"wysiwyg\";\n        setPadding(vditor);\n        renderDomByMd(vditor, markdownText, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-toc\").forEach(function (item) {\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        vditor.wysiwyg.popover.style.display = \"none\";\n    }\n    else if (type === \"sv\") {\n        showToolbar(vditor.toolbar.elements, [\"both\"]);\n        hideToolbar(vditor.toolbar.elements, [\"outdent\", \"indent\", \"outline\", \"insert-before\", \"insert-after\"]);\n        vditor.wysiwyg.element.parentElement.style.display = \"none\";\n        vditor.ir.element.parentElement.style.display = \"none\";\n        if (vditor.options.preview.mode === \"both\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        else if (vditor.options.preview.mode === \"editor\") {\n            vditor.sv.element.style.display = \"block\";\n        }\n        vditor.lute.SetVditorIR(false);\n        vditor.lute.SetVditorWYSIWYG(false);\n        vditor.lute.SetVditorSV(true);\n        vditor.currentMode = \"sv\";\n        var svHTML = processSpinVditorSVDOM(markdownText, vditor);\n        if (svHTML === \"<div data-block='0'></div>\") {\n            // https://github.com/Vanessa219/vditor/issues/654 SV 模式 Placeholder 显示问题\n            svHTML = \"\";\n        }\n        vditor.sv.element.innerHTML = svHTML;\n        processAfterRender(vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n        setPadding(vditor);\n    }\n    vditor.undo.resetIcon(vditor);\n    if (typeof event !== \"string\") {\n        // 初始化不 focus\n        vditor[vditor.currentMode].element.focus();\n        highlightToolbar(vditor);\n    }\n    renderToc(vditor);\n    setTypewriterPosition(vditor);\n    if (vditor.toolbar.elements[\"edit-mode\"]) {\n        vditor.toolbar.elements[\"edit-mode\"].querySelectorAll(\"button\").forEach(function (item) {\n            item.classList.remove(\"vditor-menu--current\");\n        });\n        vditor.toolbar.elements[\"edit-mode\"].querySelector(\"button[data-mode=\\\"\" + vditor.currentMode + \"\\\"]\").classList.add(\"vditor-menu--current\");\n    }\n    vditor.outline.toggle(vditor, vditor.currentMode !== \"sv\" && vditor.options.outline.enable);\n};\nvar EditMode = /** @class */ (function (_super) {\n    __extends(EditMode, _super);\n    function EditMode(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-mode=\\\"wysiwyg\\\">\" + window.VditorI18n.wysiwyg + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘7\") + \"></button>\\n<button data-mode=\\\"ir\\\">\" + window.VditorI18n.instantRendering + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘8\") + \"></button>\\n<button data-mode=\\\"sv\\\">\" + window.VditorI18n.splitView + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘9\") + \"></button>\";\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement, menuItem);\n        return _this;\n    }\n    EditMode.prototype._bindEvent = function (vditor, panelElement, menuItem) {\n        var actionBtn = this.element.children[0];\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        panelElement.children.item(0).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // wysiwyg\n            setEditMode(vditor, \"wysiwyg\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(1).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // ir\n            setEditMode(vditor, \"ir\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n        panelElement.children.item(2).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            // markdown\n            setEditMode(vditor, \"sv\", event);\n            event.preventDefault();\n            event.stopPropagation();\n        });\n    };\n    return EditMode;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/getSelectText.ts\n\nvar getSelectText = function (editor, range) {\n    if ((0,selection/* selectIsEditor */.Gb)(editor, range)) {\n        return getSelection().toString();\n    }\n    return \"\";\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/editorCommonEvent.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar focusEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"focus\", function () {\n        if (vditor.options.focus) {\n            vditor.options.focus(getMarkdown(vditor));\n        }\n        hidePanel(vditor, [\"subToolbar\"]);\n    });\n};\nvar dblclickEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dblclick\", function (event) {\n        if (event.target.tagName === \"IMG\") {\n            (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n        }\n    });\n};\nvar blurEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"blur\", function (event) {\n        if (vditor.currentMode === \"ir\") {\n            var expandElement = vditor.ir.element.querySelector(\".vditor-ir__node--expand\");\n            if (expandElement) {\n                expandElement.classList.remove(\"vditor-ir__node--expand\");\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\" &&\n            !vditor.wysiwyg.selectPopover.contains(event.relatedTarget)) {\n            vditor.wysiwyg.hideComment();\n        }\n        vditor[vditor.currentMode].range = (0,selection/* getEditorRange */.zh)(vditor);\n        if (vditor.options.blur) {\n            vditor.options.blur(getMarkdown(vditor));\n        }\n    });\n};\nvar dropEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"dragstart\", function (event) {\n        // 选中编辑器中的文字进行拖拽\n        event.dataTransfer.setData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR, constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR);\n    });\n    editorElement.addEventListener(\"drop\", function (event) {\n        if (event.dataTransfer.getData(constants/* Constants.DROP_EDITOR */.g.DROP_EDITOR)) {\n            // 编辑器内选中文字拖拽\n            execAfterRender(vditor);\n        }\n        else if (event.dataTransfer.types[0] === \"Files\" || event.dataTransfer.types.includes(\"text/html\")) {\n            // 外部文件拖入编辑器中或者编辑器内选中文字拖拽\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        }\n    });\n};\nvar copyEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"copy\", function (event) { return copy(event, vditor); });\n};\nvar cutEvent = function (vditor, editorElement, copy) {\n    editorElement.addEventListener(\"cut\", function (event) {\n        copy(event, vditor);\n        // 获取 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\") {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        document.execCommand(\"delete\");\n    });\n};\nvar scrollCenter = function (vditor) {\n    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n        vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n    }\n    if (!vditor.options.typewriterMode) {\n        return;\n    }\n    var editorElement = vditor[vditor.currentMode].element;\n    var cursorTop = (0,selection/* getCursorPosition */.Ny)(editorElement).top;\n    if (typeof vditor.options.height === \"string\" && !vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        window.scrollTo(window.scrollX, cursorTop + vditor.element.offsetTop + vditor.toolbar.element.offsetHeight - window.innerHeight / 2 + 10);\n    }\n    if (typeof vditor.options.height === \"number\" || vditor.element.classList.contains(\"vditor--fullscreen\")) {\n        editorElement.scrollTop = cursorTop + editorElement.scrollTop - editorElement.clientHeight / 2 + 10;\n    }\n};\nvar hotkeyEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"keydown\", function (event) {\n        // hint: 上下选择\n        if ((vditor.options.hint.extend.length > 1 || vditor.toolbar.elements.emoji) &&\n            vditor.hint.select(event, vditor)) {\n            return;\n        }\n        // 重置 comment\n        if (vditor.options.comment.enable && vditor.currentMode === \"wysiwyg\" &&\n            (event.key === \"Backspace\" || matchHotKey(\"⌘X\", event))) {\n            vditor.wysiwyg.getComments(vditor);\n        }\n        if (vditor.currentMode === \"sv\") {\n            if (processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"wysiwyg\") {\n            if (wysiwyg_processKeydown_processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        else if (vditor.currentMode === \"ir\") {\n            if (processKeydown(vditor, event)) {\n                return;\n            }\n        }\n        if (vditor.options.ctrlEnter && matchHotKey(\"⌘Enter\", event)) {\n            vditor.options.ctrlEnter(getMarkdown(vditor));\n            event.preventDefault();\n            return;\n        }\n        // undo\n        if (matchHotKey(\"⌘Z\", event) && !vditor.toolbar.elements.undo) {\n            vditor.undo.undo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // redo\n        if (matchHotKey(\"⌘Y\", event) && !vditor.toolbar.elements.redo) {\n            vditor.undo.redo(vditor);\n            event.preventDefault();\n            return;\n        }\n        // esc\n        if (event.key === \"Escape\") {\n            if (vditor.hint.element.style.display === \"block\") {\n                vditor.hint.element.style.display = \"none\";\n            }\n            else if (vditor.options.esc && !event.isComposing) {\n                vditor.options.esc(getMarkdown(vditor));\n            }\n            event.preventDefault();\n            return;\n        }\n        // h1 - h6 hotkey\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[1-6]$/.test(event.code)) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                var tagName = event.code.replace(\"Digit\", \"H\");\n                if ((0,hasClosest/* hasClosestByMatchTag */.lG)(getSelection().getRangeAt(0).startContainer, tagName)) {\n                    removeHeading(vditor);\n                }\n                else {\n                    setHeading(vditor, tagName);\n                }\n                afterRenderEvent(vditor);\n            }\n            else if (vditor.currentMode === \"sv\") {\n                processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            else if (vditor.currentMode === \"ir\") {\n                process_processHeading(vditor, \"#\".repeat(parseInt(event.code.replace(\"Digit\", \"\"), 10)) + \" \");\n            }\n            event.preventDefault();\n            return true;\n        }\n        // toggle edit mode\n        if ((0,compatibility/* isCtrl */.yl)(event) && event.altKey && !event.shiftKey && /^Digit[7-9]$/.test(event.code)) {\n            if (event.code === \"Digit7\") {\n                setEditMode(vditor, \"wysiwyg\", event);\n            }\n            else if (event.code === \"Digit8\") {\n                setEditMode(vditor, \"ir\", event);\n            }\n            else if (event.code === \"Digit9\") {\n                setEditMode(vditor, \"sv\", event);\n            }\n            return true;\n        }\n        // toolbar action\n        vditor.options.toolbar.find(function (menuItem) {\n            if (!menuItem.hotkey || menuItem.toolbar) {\n                if (menuItem.toolbar) {\n                    var sub = menuItem.toolbar.find(function (subMenuItem) {\n                        if (!subMenuItem.hotkey) {\n                            return false;\n                        }\n                        if (matchHotKey(subMenuItem.hotkey, event)) {\n                            vditor.toolbar.elements[subMenuItem.name].children[0]\n                                .dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                            event.preventDefault();\n                            return true;\n                        }\n                    });\n                    return sub ? true : false;\n                }\n                return false;\n            }\n            if (matchHotKey(menuItem.hotkey, event)) {\n                vditor.toolbar.elements[menuItem.name].children[0].dispatchEvent(new CustomEvent((0,compatibility/* getEventName */.Le)()));\n                event.preventDefault();\n                return true;\n            }\n        });\n    });\n};\nvar selectEvent = function (vditor, editorElement) {\n    editorElement.addEventListener(\"selectstart\", function (event) {\n        editorElement.onmouseup = function () {\n            setTimeout(function () {\n                var selectText = getSelectText(vditor[vditor.currentMode].element);\n                if (selectText.trim()) {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        if (!(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"footnotes-block\") &&\n                            !(0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"link-ref-defs-block\")) {\n                            vditor.wysiwyg.showComment();\n                        }\n                        else {\n                            vditor.wysiwyg.hideComment();\n                        }\n                    }\n                    if (vditor.options.select) {\n                        vditor.options.select(selectText);\n                    }\n                }\n                else {\n                    if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n                        vditor.wysiwyg.hideComment();\n                    }\n                }\n            });\n        };\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/sv/process.ts\n\n\n\n\n\n\n\n\nvar processPaste = function (vditor, text) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    range.extractContents();\n    range.insertNode(document.createTextNode(Lute.Caret));\n    range.insertNode(document.createTextNode(text));\n    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n    if (!blockElement) {\n        blockElement = vditor.sv.element;\n    }\n    var html = \"<div data-block='0'>\" +\n        vditor.lute.Md2VditorSVDOM(blockElement.textContent).replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    if (blockElement.isEqualNode(vditor.sv.element)) {\n        blockElement.innerHTML = html;\n    }\n    else {\n        blockElement.outerHTML = html;\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    scrollCenter(vditor);\n};\nvar getSideByType = function (spanNode, type, isPrevious) {\n    if (isPrevious === void 0) { isPrevious = true; }\n    var sideElement = spanNode;\n    if (sideElement.nodeType === 3) {\n        sideElement = sideElement.parentElement;\n    }\n    while (sideElement) {\n        if (sideElement.getAttribute(\"data-type\") === type) {\n            return sideElement;\n        }\n        if (isPrevious) {\n            sideElement = sideElement.previousElementSibling;\n        }\n        else {\n            sideElement = sideElement.nextElementSibling;\n        }\n    }\n    return false;\n};\nvar processSpinVditorSVDOM = function (html, vditor) {\n    log(\"SpinVditorSVDOM\", html, \"argument\", vditor.options.debugger);\n    html = \"<div data-block='0'>\" +\n        vditor.lute.SpinVditorSVDOM(html).replace(/<span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span><span data-type=\"newline\"><br \\/><span style=\"display: none\">\\n<\\/span><\\/span></g, '<span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span><span data-type=\"newline\"><br /><span style=\"display: none\">\\n</span></span></div><div data-block=\"0\"><') +\n        \"</div>\";\n    log(\"SpinVditorSVDOM\", html, \"result\", vditor.options.debugger);\n    return html;\n};\nvar processPreviousMarkers = function (spanElement) {\n    var spanType = spanElement.getAttribute(\"data-type\");\n    var previousElement = spanElement.previousElementSibling;\n    // 有内容的子列表/标题，在其 marker 后换行\n    var markerText = (spanType && spanType !== \"text\" && spanType !== \"table\" && spanType !== \"heading-marker\" &&\n        spanType !== \"newline\" && spanType !== \"yaml-front-matter-open-marker\" && spanType !== \"yaml-front-matter-close-marker\"\n        && spanType !== \"code-block-info\" && spanType !== \"code-block-close-marker\" && spanType !== \"code-block-open-marker\") ?\n        spanElement.textContent : \"\";\n    var hasNL = false;\n    if (spanType === \"newline\") {\n        hasNL = true;\n    }\n    while (previousElement && !hasNL) {\n        var previousType = previousElement.getAttribute(\"data-type\");\n        if (previousType === \"li-marker\" || previousType === \"blockquote-marker\" || previousType === \"task-marker\" ||\n            previousType === \"padding\") {\n            var previousText = previousElement.textContent;\n            if (previousType === \"li-marker\" &&\n                (spanType === \"code-block-open-marker\" || spanType === \"code-block-info\")) {\n                // https://github.com/Vanessa219/vditor/issues/586\n                markerText = previousText.replace(/\\S/g, \" \") + markerText;\n            }\n            else if (spanType === \"code-block-close-marker\" &&\n                previousElement.nextElementSibling.isSameNode(spanElement)) {\n                // https://github.com/Vanessa219/vditor/issues/594\n                var openMarker = getSideByType(spanElement, \"code-block-open-marker\");\n                if (openMarker && openMarker.previousElementSibling) {\n                    previousElement = openMarker.previousElementSibling;\n                    markerText = previousText + markerText;\n                }\n            }\n            else {\n                markerText = previousText + markerText;\n            }\n        }\n        else if (previousType === \"newline\") {\n            hasNL = true;\n        }\n        previousElement = previousElement.previousElementSibling;\n    }\n    return markerText;\n};\nvar processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        vditor.hint.render(vditor);\n    }\n    vditor.preview.render(vditor);\n    var text = getMarkdown(vditor);\n    if (typeof vditor.options.input === \"function\" && options.enableInput) {\n        vditor.options.input(text);\n    }\n    if (vditor.options.counter.enable) {\n        vditor.counter.render(vditor, text);\n    }\n    if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n        localStorage.setItem(vditor.options.cache.id, text);\n        if (vditor.options.cache.after) {\n            vditor.options.cache.after(text);\n        }\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n    clearTimeout(vditor.sv.processTimeoutId);\n    vditor.sv.processTimeoutId = window.setTimeout(function () {\n        if (options.enableAddUndoStack && !vditor.sv.composingLock) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (headingElement && headingElement.textContent.trim() !== \"\") {\n        value = \"\\n\" + value;\n    }\n    range.collapse(true);\n    document.execCommand(\"insertHTML\", false, value);\n};\nvar processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    // 添加\n    if (vditor.sv.element.childNodes.length === 0) {\n        vditor.sv.element.innerHTML = \"<span data-type=\\\"p\\\" data-block=\\\"0\\\"><span data-type=\\\"text\\\"><wbr></span></span><span data-type=\\\"newline\\\"><br><span style=\\\"display: none\\\">\\n</span></span>\";\n        (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    }\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    var spanElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"SPAN\");\n    if (!blockElement) {\n        return;\n    }\n    if (commandName === \"link\") {\n        var html = void 0;\n        if (range.toString() === \"\") {\n            html = \"\" + prefix + Lute.Caret + suffix;\n        }\n        else {\n            html = \"\" + prefix + range.toString() + suffix.replace(\")\", Lute.Caret + \")\");\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\" ||\n        commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\" || commandName === \"line\") {\n        var html = void 0;\n        // https://github.com/Vanessa219/vditor/issues/563 代码块不需要后面的 ```\n        if (range.toString() === \"\") {\n            html = \"\" + prefix + Lute.Caret + (commandName === \"code\" ? \"\" : suffix);\n        }\n        else {\n            html = \"\" + prefix + range.toString() + Lute.Caret + (commandName === \"code\" ? \"\" : suffix);\n        }\n        if (commandName === \"table\" || (commandName === \"code\" && spanElement && spanElement.textContent !== \"\")) {\n            html = \"\\n\\n\" + html;\n        }\n        else if (commandName === \"line\") {\n            html = \"\\n\\n\" + prefix + \"\\n\" + Lute.Caret;\n        }\n        document.execCommand(\"insertHTML\", false, html);\n        return;\n    }\n    else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\" ||\n        commandName === \"quote\") {\n        if (spanElement) {\n            var marker = \"* \";\n            if (commandName === \"check\") {\n                marker = \"* [ ] \";\n            }\n            else if (commandName === \"ordered-list\") {\n                marker = \"1. \";\n            }\n            else if (commandName === \"quote\") {\n                marker = \"> \";\n            }\n            var newLine = getSideByType(spanElement, \"newline\");\n            if (newLine) {\n                newLine.insertAdjacentText(\"afterend\", marker);\n            }\n            else {\n                blockElement.insertAdjacentText(\"afterbegin\", marker);\n            }\n            inputEvent(vditor);\n            return;\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.sv.element, range);\n    processAfterRender(vditor);\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/getElement.ts\nvar getElement = function (vditor) {\n    switch (vditor.currentMode) {\n        case \"ir\":\n            return vditor.ir.element;\n        case \"wysiwyg\":\n            return vditor.wysiwyg.element;\n        case \"sv\":\n            return vditor.sv.element;\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/setHeaders.ts\nvar setHeaders = function (vditor, xhr) {\n    if (vditor.options.upload.setHeaders) {\n        vditor.options.upload.headers = vditor.options.upload.setHeaders();\n    }\n    if (vditor.options.upload.headers) {\n        Object.keys(vditor.options.upload.headers).forEach(function (key) {\n            xhr.setRequestHeader(key, vditor.options.upload.headers[key]);\n        });\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/upload/index.ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\nvar Upload = /** @class */ (function () {\n    function Upload() {\n        this.isUploading = false;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-upload\";\n    }\n    return Upload;\n}());\nvar validateFile = function (vditor, files) {\n    vditor.tip.hide();\n    var uploadFileList = [];\n    var errorTip = \"\";\n    var uploadingStr = \"\";\n    var lang = vditor.options.lang;\n    var options = vditor.options;\n    var _loop_1 = function (iMax, i) {\n        var file = files[i];\n        var validate = true;\n        if (!file.name) {\n            errorTip += \"<li>\" + window.VditorI18n.nameEmpty + \"</li>\";\n            validate = false;\n        }\n        if (file.size > vditor.options.upload.max) {\n            errorTip += \"<li>\" + file.name + \" \" + window.VditorI18n.over + \" \" + vditor.options.upload.max / 1024 / 1024 + \"M</li>\";\n            validate = false;\n        }\n        var lastIndex = file.name.lastIndexOf(\".\");\n        var fileExt = file.name.substr(lastIndex);\n        var filename = vditor.options.upload.filename(file.name.substr(0, lastIndex)) + fileExt;\n        if (vditor.options.upload.accept) {\n            var isAccept = vditor.options.upload.accept.split(\",\").some(function (item) {\n                var type = item.trim();\n                if (type.indexOf(\".\") === 0) {\n                    if (fileExt.toLowerCase() === type.toLowerCase()) {\n                        return true;\n                    }\n                }\n                else {\n                    if (file.type.split(\"/\")[0] === type.split(\"/\")[0]) {\n                        return true;\n                    }\n                }\n                return false;\n            });\n            if (!isAccept) {\n                errorTip += \"<li>\" + file.name + \" \" + window.VditorI18n.fileTypeError + \"</li>\";\n                validate = false;\n            }\n        }\n        if (validate) {\n            uploadFileList.push(file);\n            uploadingStr += \"<li>\" + filename + \" \" + window.VditorI18n.uploading + \"</li>\";\n        }\n    };\n    for (var iMax = files.length, i = 0; i < iMax; i++) {\n        _loop_1(iMax, i);\n    }\n    vditor.tip.show(\"<ul>\" + errorTip + uploadingStr + \"</ul>\");\n    return uploadFileList;\n};\nvar genUploadedLabel = function (responseText, vditor) {\n    var editorElement = getElement(vditor);\n    editorElement.focus();\n    var response = JSON.parse(responseText);\n    var errorTip = \"\";\n    if (response.code === 1) {\n        errorTip = \"\" + response.msg;\n    }\n    if (response.data.errFiles && response.data.errFiles.length > 0) {\n        errorTip = \"<ul><li>\" + errorTip + \"</li>\";\n        response.data.errFiles.forEach(function (data) {\n            var lastIndex = data.lastIndexOf(\".\");\n            var filename = vditor.options.upload.filename(data.substr(0, lastIndex)) + data.substr(lastIndex);\n            errorTip += \"<li>\" + filename + \" \" + window.VditorI18n.uploadError + \"</li>\";\n        });\n        errorTip += \"</ul>\";\n    }\n    if (errorTip) {\n        vditor.tip.show(errorTip);\n    }\n    else {\n        vditor.tip.hide();\n    }\n    var succFileText = \"\";\n    Object.keys(response.data.succMap).forEach(function (key) {\n        var path = response.data.succMap[key];\n        var lastIndex = key.lastIndexOf(\".\");\n        var type = key.substr(lastIndex);\n        var filename = vditor.options.upload.filename(key.substr(0, lastIndex)) + type;\n        type = type.toLowerCase();\n        if (type.indexOf(\".wav\") === 0 || type.indexOf(\".mp3\") === 0 || type.indexOf(\".ogg\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<div class=\\\"vditor-wysiwyg__block\\\" data-type=\\\"html-block\\\"\\n data-block=\\\"0\\\"><pre><code>&lt;audio controls=\\\"controls\\\" src=\\\"\" + path + \"\\\"&gt;&lt;/audio&gt;</code></pre>\";\n            }\n            else if (vditor.currentMode === \"ir\") {\n                succFileText += \"<audio controls=\\\"controls\\\" src=\\\"\" + path + \"\\\"></audio>\\n\";\n            }\n            else {\n                succFileText += \"[\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n        else if (type.indexOf(\".apng\") === 0\n            || type.indexOf(\".bmp\") === 0\n            || type.indexOf(\".gif\") === 0\n            || type.indexOf(\".ico\") === 0 || type.indexOf(\".cur\") === 0\n            || type.indexOf(\".jpg\") === 0 || type.indexOf(\".jpeg\") === 0 || type.indexOf(\".jfif\") === 0 || type.indexOf(\".pjp\") === 0 || type.indexOf(\".pjpeg\") === 0\n            || type.indexOf(\".png\") === 0\n            || type.indexOf(\".svg\") === 0\n            || type.indexOf(\".webp\") === 0) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<img alt=\\\"\" + filename + \"\\\" src=\\\"\" + path + \"\\\">\";\n            }\n            else {\n                succFileText += \"![\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n        else {\n            if (vditor.currentMode === \"wysiwyg\") {\n                succFileText += \"<a href=\\\"\" + path + \"\\\">\" + filename + \"</a>\";\n            }\n            else {\n                succFileText += \"[\" + filename + \"](\" + path + \")\\n\";\n            }\n        }\n    });\n    (0,selection/* setSelectionFocus */.Hc)(vditor.upload.range);\n    document.execCommand(\"insertHTML\", false, succFileText);\n    vditor.upload.range = getSelection().getRangeAt(0).cloneRange();\n};\nvar uploadFiles = function (vditor, files, element) { return __awaiter(void 0, void 0, void 0, function () {\n    var fileList, filesMax, i, fileItem, isValidate, isValidate, editorElement, validateResult, formData, extraData, _i, _a, key, i, iMax, xhr;\n    return __generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                fileList = [];\n                filesMax = vditor.options.upload.multiple === true ? files.length : 1;\n                for (i = 0; i < filesMax; i++) {\n                    fileItem = files[i];\n                    if (fileItem instanceof DataTransferItem) {\n                        fileItem = fileItem.getAsFile();\n                    }\n                    fileList.push(fileItem);\n                }\n                if (vditor.options.upload.handler) {\n                    isValidate = vditor.options.upload.handler(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.url || !vditor.upload) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    vditor.tip.show(\"please config: options.upload.url\");\n                    return [2 /*return*/];\n                }\n                if (!vditor.options.upload.file) return [3 /*break*/, 2];\n                return [4 /*yield*/, vditor.options.upload.file(fileList)];\n            case 1:\n                fileList = _b.sent();\n                _b.label = 2;\n            case 2:\n                if (vditor.options.upload.validate) {\n                    isValidate = vditor.options.upload.validate(fileList);\n                    if (typeof isValidate === \"string\") {\n                        vditor.tip.show(isValidate);\n                        return [2 /*return*/];\n                    }\n                }\n                editorElement = getElement(vditor);\n                vditor.upload.range = (0,selection/* getEditorRange */.zh)(vditor);\n                validateResult = validateFile(vditor, fileList);\n                if (validateResult.length === 0) {\n                    if (element) {\n                        element.value = \"\";\n                    }\n                    return [2 /*return*/];\n                }\n                formData = new FormData();\n                extraData = vditor.options.upload.extraData;\n                for (_i = 0, _a = Object.keys(extraData); _i < _a.length; _i++) {\n                    key = _a[_i];\n                    formData.append(key, extraData[key]);\n                }\n                for (i = 0, iMax = validateResult.length; i < iMax; i++) {\n                    formData.append(vditor.options.upload.fieldName, validateResult[i]);\n                }\n                xhr = new XMLHttpRequest();\n                xhr.open(\"POST\", vditor.options.upload.url);\n                if (vditor.options.upload.token) {\n                    xhr.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                }\n                if (vditor.options.upload.withCredentials) {\n                    xhr.withCredentials = true;\n                }\n                setHeaders(vditor, xhr);\n                vditor.upload.isUploading = true;\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState === XMLHttpRequest.DONE) {\n                        vditor.upload.isUploading = false;\n                        editorElement.setAttribute(\"contenteditable\", \"true\");\n                        if (xhr.status >= 200 && xhr.status < 300) {\n                            if (vditor.options.upload.success) {\n                                vditor.options.upload.success(editorElement, xhr.responseText);\n                            }\n                            else {\n                                var responseText = xhr.responseText;\n                                if (vditor.options.upload.format) {\n                                    responseText = vditor.options.upload.format(files, xhr.responseText);\n                                }\n                                genUploadedLabel(responseText, vditor);\n                            }\n                        }\n                        else {\n                            if (vditor.options.upload.error) {\n                                vditor.options.upload.error(xhr.responseText);\n                            }\n                            else {\n                                vditor.tip.show(xhr.responseText);\n                            }\n                        }\n                        if (element) {\n                            element.value = \"\";\n                        }\n                        vditor.upload.element.style.display = \"none\";\n                    }\n                };\n                xhr.upload.onprogress = function (event) {\n                    if (!event.lengthComputable) {\n                        return;\n                    }\n                    var progress = event.loaded / event.total * 100;\n                    vditor.upload.element.style.display = \"block\";\n                    var progressBar = vditor.upload.element;\n                    progressBar.style.width = progress + \"%\";\n                };\n                xhr.send(formData);\n                return [2 /*return*/];\n        }\n    });\n}); };\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/input.ts\n\n\n\n\n\n\n\n\nvar input_input = function (vditor, range, event) {\n    var _a;\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (!blockElement) {\n        // 使用顶级块元素，应使用 innerHTML\n        blockElement = vditor.wysiwyg.element;\n    }\n    if (event && event.inputType !== \"formatItalic\"\n        && event.inputType !== \"deleteByDrag\"\n        && event.inputType !== \"insertFromDrop\"\n        && event.inputType !== \"formatBold\"\n        && event.inputType !== \"formatRemove\"\n        && event.inputType !== \"formatStrikeThrough\"\n        && event.inputType !== \"insertUnorderedList\"\n        && event.inputType !== \"insertOrderedList\"\n        && event.inputType !== \"formatOutdent\"\n        && event.inputType !== \"formatIndent\"\n        && event.inputType !== \"\" // document.execCommand('unlink', false)\n        || !event) {\n        var previousAEmptyElement = previoueIsEmptyA(range.startContainer);\n        if (previousAEmptyElement) {\n            // 链接结尾回车不应该复制到下一行 https://github.com/Vanessa219/vditor/issues/163\n            previousAEmptyElement.remove();\n        }\n        // 保存光标\n        vditor.wysiwyg.element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        // 在行首进行删除，后面的元素会带有样式，需清除\n        blockElement.querySelectorAll(\"[style]\").forEach(function (item) {\n            item.removeAttribute(\"style\");\n        });\n        // 移除空评论\n        blockElement.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        //  在有评论的行首换行后，该行的前一段会带有评论标识\n        (_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n            if (item.textContent.trim() === \"\") {\n                item.classList.remove(\"vditor-comment\", \"vditor-comment--focus\");\n                item.removeAttribute(\"data-cmtids\");\n            }\n        });\n        var html_1 = \"\";\n        if (blockElement.getAttribute(\"data-type\") === \"link-ref-defs-block\") {\n            // 修改链接引用\n            blockElement = vditor.wysiwyg.element;\n        }\n        var isWYSIWYGElement = blockElement.isEqualNode(vditor.wysiwyg.element);\n        var footnoteElement = (0,hasClosest/* hasClosestByAttribute */.a1)(blockElement, \"data-type\", \"footnotes-block\");\n        if (!isWYSIWYGElement) {\n            // 列表需要到最顶层\n            var topListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n            if (topListElement && !footnoteElement) {\n                var blockquoteElement = (0,hasClosestByHeadings/* hasClosestByTag */.S)(range.startContainer, \"BLOCKQUOTE\");\n                if (blockquoteElement) {\n                    // li 中有 blockquote 就只渲染 blockquote\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || blockElement;\n                }\n                else {\n                    blockElement = topListElement;\n                }\n            }\n            // 修改脚注\n            if (footnoteElement) {\n                blockElement = footnoteElement;\n            }\n            html_1 = blockElement.outerHTML;\n            if (blockElement.tagName === \"UL\" || blockElement.tagName === \"OL\") {\n                // 如果为列表的话，需要把上下的列表都重绘\n                var listPrevElement = blockElement.previousElementSibling;\n                var listNextElement = blockElement.nextElementSibling;\n                if (listPrevElement && (listPrevElement.tagName === \"UL\" || listPrevElement.tagName === \"OL\")) {\n                    html_1 = listPrevElement.outerHTML + html_1;\n                    listPrevElement.remove();\n                }\n                if (listNextElement && (listNextElement.tagName === \"UL\" || listNextElement.tagName === \"OL\")) {\n                    html_1 = html_1 + listNextElement.outerHTML;\n                    listNextElement.remove();\n                }\n                // firefox 列表回车不会产生新的 list item https://github.com/Vanessa219/vditor/issues/194\n                html_1 = html_1.replace(\"<div><wbr><br></div>\", \"<li><p><wbr><br></p></li>\");\n            }\n            // 添加链接引用\n            vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html_1 += item.outerHTML;\n                    item.remove();\n                }\n            });\n            // 添加脚注\n            vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\").forEach(function (item) {\n                if (item && !blockElement.isEqualNode(item)) {\n                    html_1 += item.outerHTML;\n                    item.remove();\n                }\n            });\n        }\n        else {\n            html_1 = blockElement.innerHTML;\n        }\n        // 合并多个 em， strong，s。以防止多个相同元素在一起时不满足 commonmark 规范，出现标记符\n        html_1 = html_1.replace(/<\\/(strong|b)><strong data-marker=\"\\W{2}\">/g, \"\")\n            .replace(/<\\/(em|i)><em data-marker=\"\\W{1}\">/g, \"\")\n            .replace(/<\\/(s|strike)><s data-marker=\"~{1,2}\">/g, \"\");\n        if (html_1 === '<p data-block=\"0\">```<wbr></p>' && vditor.hint.recentLanguage) {\n            html_1 = '<p data-block=\"0\">```<wbr></p>'.replace(\"```\", \"```\" + vditor.hint.recentLanguage);\n        }\n        log(\"SpinVditorDOM\", html_1, \"argument\", vditor.options.debugger);\n        html_1 = vditor.lute.SpinVditorDOM(html_1);\n        log(\"SpinVditorDOM\", html_1, \"result\", vditor.options.debugger);\n        if (isWYSIWYGElement) {\n            blockElement.innerHTML = html_1;\n        }\n        else {\n            blockElement.outerHTML = html_1;\n            if (footnoteElement) {\n                // 更新正文中的 tip\n                var footnoteItemElement = (0,hasClosest/* hasTopClosestByTag */.E2)(vditor.wysiwyg.element.querySelector(\"wbr\"), \"LI\");\n                if (footnoteItemElement) {\n                    var footnoteRefElement = vditor.wysiwyg.element.querySelector(\"sup[data-type=\\\"footnotes-ref\\\"][data-footnotes-label=\\\"\" + footnoteItemElement.getAttribute(\"data-marker\") + \"\\\"]\");\n                    if (footnoteRefElement) {\n                        footnoteRefElement.setAttribute(\"aria-label\", footnoteItemElement.textContent.trim().substr(0, 24));\n                    }\n                }\n            }\n        }\n        var firstLinkRefDefElement_1;\n        var allLinkRefDefsElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='link-ref-defs-block']\");\n        allLinkRefDefsElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstLinkRefDefElement_1 = item;\n            }\n            else {\n                firstLinkRefDefElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allLinkRefDefsElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allLinkRefDefsElement[0]);\n        }\n        // 脚注合并后添加的末尾\n        var firstFootnoteElement_1;\n        var allFootnoteElement = vditor.wysiwyg.element.querySelectorAll(\"[data-type='footnotes-block']\");\n        allFootnoteElement.forEach(function (item, index) {\n            if (index === 0) {\n                firstFootnoteElement_1 = item;\n            }\n            else {\n                firstFootnoteElement_1.insertAdjacentHTML(\"beforeend\", item.innerHTML);\n                item.remove();\n            }\n        });\n        if (allFootnoteElement.length > 0) {\n            vditor.wysiwyg.element.insertAdjacentElement(\"beforeend\", allFootnoteElement[0]);\n        }\n        // 设置光标\n        (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n        vditor.wysiwyg.element.querySelectorAll(\".vditor-wysiwyg__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (event && (event.inputType === \"deleteContentBackward\" || event.inputType === \"deleteContentForward\") &&\n            vditor.options.comment.enable) {\n            vditor.wysiwyg.triggerRemoveComment(vditor);\n            vditor.options.comment.adjustTop(vditor.wysiwyg.getComments(vditor, true));\n        }\n    }\n    renderToc(vditor);\n    afterRenderEvent(vditor, {\n        enableAddUndoStack: true,\n        enableHint: true,\n        enableInput: true,\n    });\n};\n\n;// CONCATENATED MODULE: ./src/ts/util/fixBrowserBehavior.ts\nvar __makeTemplateObject = (undefined && undefined.__makeTemplateObject) || function (cooked, raw) {\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n    return cooked;\n};\nvar fixBrowserBehavior_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar fixBrowserBehavior_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// https://github.com/Vanessa219/vditor/issues/508 软键盘无法删除空块\nvar fixGSKeyBackspace = function (event, vditor, startContainer) {\n    if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\" && vditor.currentMode !== \"sv\") {\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        // 移动端的标点符号都显示为 299，因此需限定为空删除的条件\n        if (blockElement && blockElement.textContent.trim() === \"\") {\n            vditor[vditor.currentMode].composingLock = true;\n            return false;\n        }\n    }\n    return true;\n};\n// https://github.com/Vanessa219/vditor/issues/361 代码块后输入中文\nvar fixCJKPosition = function (range, vditor, event) {\n    if (event.key === \"Enter\" || event.key === \"Tab\" || event.key === \"Backspace\" || event.key.indexOf(\"Arrow\") > -1\n        || (0,compatibility/* isCtrl */.yl)(event) || event.key === \"Escape\" || event.shiftKey || event.altKey) {\n        return;\n    }\n    var pLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"P\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    if (pLiElement && (0,selection/* getSelectPosition */.im)(pLiElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var zwspNode = document.createTextNode(constants/* Constants.ZWSP */.g.ZWSP);\n        range.insertNode(zwspNode);\n        range.setStartAfter(zwspNode);\n    }\n};\n// https://github.com/Vanessa219/vditor/issues/381 光标在内联数学公式中无法向下移动\nvar fixCursorDownInlineMath = function (range, key) {\n    if (key === \"ArrowDown\" || key === \"ArrowUp\") {\n        var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"math-inline\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-entity\") ||\n            (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"html-inline\");\n        if (inlineElement) {\n            if (key === \"ArrowDown\") {\n                range.setStartAfter(inlineElement.parentElement);\n            }\n            if (key === \"ArrowUp\") {\n                range.setStartBefore(inlineElement.parentElement);\n            }\n        }\n    }\n};\nvar insertEmptyBlock = function (vditor, position) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n    if (blockElement) {\n        blockElement.insertAdjacentHTML(position, \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\\n</p>\");\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        highlightToolbar(vditor);\n        execAfterRender(vditor);\n    }\n};\nvar isFirstCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.rows[0].cells[0].isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\nvar isLastCell = function (cellElement) {\n    var tableElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(cellElement, \"TABLE\");\n    if (tableElement && tableElement.lastElementChild.lastElementChild.lastElementChild.isSameNode(cellElement)) {\n        return tableElement;\n    }\n    return false;\n};\n// 光标设置到前一个表格中\nvar goPreviousCell = function (cellElement, range, isSelected) {\n    if (isSelected === void 0) { isSelected = true; }\n    var previousElement = cellElement.previousElementSibling;\n    if (!previousElement) {\n        if (cellElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement.previousElementSibling.lastElementChild;\n        }\n        else if (cellElement.parentElement.parentElement.tagName === \"TBODY\" &&\n            cellElement.parentElement.parentElement.previousElementSibling) {\n            previousElement = cellElement.parentElement\n                .parentElement.previousElementSibling.lastElementChild.lastElementChild;\n        }\n        else {\n            previousElement = null;\n        }\n    }\n    if (previousElement) {\n        range.selectNodeContents(previousElement);\n        if (!isSelected) {\n            range.collapse(false);\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n    }\n    return previousElement;\n};\nvar insertAfterBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowDown\" && element.textContent.trimRight().substr(position.start).indexOf(\"\\n\") === -1) ||\n        (event.key === \"ArrowRight\" && position.start >= element.textContent.trimRight().length)) {\n        var nextElement = blockElement.nextElementSibling;\n        if (!nextElement ||\n            (nextElement && (nextElement.tagName === \"TABLE\" || nextElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(nextElement);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar insertBeforeBlock = function (vditor, event, range, element, blockElement) {\n    var position = (0,selection/* getSelectPosition */.im)(element, vditor[vditor.currentMode].element, range);\n    if ((event.key === \"ArrowUp\" && element.textContent.substr(0, position.start).indexOf(\"\\n\") === -1) ||\n        ((event.key === \"ArrowLeft\" || (event.key === \"Backspace\" && range.toString() === \"\")) &&\n            position.start === 0)) {\n        var previousElement = blockElement.previousElementSibling;\n        // table || code\n        if (!previousElement ||\n            (previousElement && (previousElement.tagName === \"TABLE\" || previousElement.getAttribute(\"data-type\")))) {\n            blockElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        }\n        else {\n            range.selectNodeContents(previousElement);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n        }\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar listToggle = function (vditor, range, type, cancel) {\n    if (cancel === void 0) { cancel = true; }\n    var itemElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n    vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n        wbr.remove();\n    });\n    range.insertNode(document.createElement(\"wbr\"));\n    if (cancel && itemElement) {\n        // 取消\n        var pHTML = \"\";\n        for (var i = 0; i < itemElement.parentElement.childElementCount; i++) {\n            var inputElement = itemElement.parentElement.children[i].querySelector(\"input\");\n            if (inputElement) {\n                inputElement.remove();\n            }\n            pHTML += \"<p data-block=\\\"0\\\">\" + itemElement.parentElement.children[i].innerHTML.trimLeft() + \"</p>\";\n        }\n        itemElement.parentElement.insertAdjacentHTML(\"beforebegin\", pHTML);\n        itemElement.parentElement.remove();\n    }\n    else {\n        if (!itemElement) {\n            // 添加\n            var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n            if (!blockElement) {\n                vditor[vditor.currentMode].element.querySelector(\"wbr\").remove();\n                blockElement = vditor[vditor.currentMode].element.querySelector(\"p\");\n                blockElement.innerHTML = \"<wbr>\";\n            }\n            if (type === \"check\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li class=\\\"vditor-task\\\"><input type=\\\"checkbox\\\" /> \" + blockElement.innerHTML + \"</li></ul>\");\n                blockElement.remove();\n            }\n            else if (type === \"list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ul data-block=\\\"0\\\"><li>\" + blockElement.innerHTML + \"</li></ul>\");\n                blockElement.remove();\n            }\n            else if (type === \"ordered-list\") {\n                blockElement.insertAdjacentHTML(\"beforebegin\", \"<ol data-block=\\\"0\\\"><li>\" + blockElement.innerHTML + \"</li></ol>\");\n                blockElement.remove();\n            }\n        }\n        else {\n            // 切换\n            if (type === \"check\") {\n                itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                    item.insertAdjacentHTML(\"afterbegin\", \"<input type=\\\"checkbox\\\" />\" + (item.textContent.indexOf(\" \") === 0 ? \"\" : \" \"));\n                    item.classList.add(\"vditor-task\");\n                });\n            }\n            else {\n                if (itemElement.querySelector(\"input\")) {\n                    itemElement.parentElement.querySelectorAll(\"li\").forEach(function (item) {\n                        item.querySelector(\"input\").remove();\n                        item.classList.remove(\"vditor-task\");\n                    });\n                }\n                var element = void 0;\n                if (type === \"list\") {\n                    element = document.createElement(\"ul\");\n                    element.setAttribute(\"data-marker\", \"*\");\n                }\n                else {\n                    element = document.createElement(\"ol\");\n                    element.setAttribute(\"data-marker\", \"1.\");\n                }\n                element.setAttribute(\"data-block\", \"0\");\n                element.setAttribute(\"data-tight\", itemElement.parentElement.getAttribute(\"data-tight\"));\n                element.innerHTML = itemElement.parentElement.innerHTML;\n                itemElement.parentElement.parentNode.replaceChild(element, itemElement.parentElement);\n            }\n        }\n    }\n};\nvar listIndent = function (vditor, liElement, range) {\n    var previousElement = liElement.previousElementSibling;\n    if (liElement && previousElement) {\n        var liElements_1 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\"\n                && liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_1.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = previousElement.parentElement;\n        var liHTML_1 = \"\";\n        liElements_1.forEach(function (item) {\n            var marker = item.getAttribute(\"data-marker\");\n            if (marker.length !== 1) {\n                marker = \"1\" + marker.slice(-1);\n            }\n            liHTML_1 += \"<li data-node-id=\\\"\" + item.getAttribute(\"data-node-id\") + \"\\\" data-marker=\\\"\" + marker + \"\\\">\" + item.innerHTML + \"</li>\";\n            item.remove();\n        });\n        previousElement.insertAdjacentHTML(\"beforeend\", \"<\" + liParentElement.tagName + \" data-block=\\\"0\\\">\" + liHTML_1 + \"</\" + liParentElement.tagName + \">\");\n        if (vditor.currentMode === \"wysiwyg\") {\n            liParentElement.outerHTML = vditor.lute.SpinVditorDOM(liParentElement.outerHTML);\n        }\n        else {\n            liParentElement.outerHTML = vditor.lute.SpinVditorIRDOM(liParentElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar listOutdent = function (vditor, liElement, range, topListElement) {\n    var liParentLiElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(liElement.parentElement, \"LI\");\n    if (liParentLiElement) {\n        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n            wbr.remove();\n        });\n        range.insertNode(document.createElement(\"wbr\"));\n        var liParentElement = liElement.parentElement;\n        var liParentAfterElement = liParentElement.cloneNode();\n        var liElements_2 = [liElement];\n        Array.from(range.cloneContents().children).forEach(function (item, index) {\n            if (item.nodeType !== 3 && liElement && item.textContent.trim() !== \"\" &&\n                liElement.getAttribute(\"data-node-id\") === item.getAttribute(\"data-node-id\")) {\n                if (index !== 0) {\n                    liElements_2.push(liElement);\n                }\n                liElement = liElement.nextElementSibling;\n            }\n        });\n        var isMatch_1 = false;\n        var afterHTML_1 = \"\";\n        liParentElement.querySelectorAll(\"li\").forEach(function (item) {\n            if (isMatch_1) {\n                afterHTML_1 += item.outerHTML;\n                if (!item.nextElementSibling && !item.previousElementSibling) {\n                    item.parentElement.remove();\n                }\n                else {\n                    item.remove();\n                }\n            }\n            if (item.isSameNode(liElements_2[liElements_2.length - 1])) {\n                isMatch_1 = true;\n            }\n        });\n        liElements_2.reverse().forEach(function (item) {\n            liParentLiElement.insertAdjacentElement(\"afterend\", item);\n        });\n        if (afterHTML_1) {\n            liParentAfterElement.innerHTML = afterHTML_1;\n            liElements_2[0].insertAdjacentElement(\"beforeend\", liParentAfterElement);\n        }\n        if (vditor.currentMode === \"wysiwyg\") {\n            topListElement.outerHTML = vditor.lute.SpinVditorDOM(topListElement.outerHTML);\n        }\n        else {\n            topListElement.outerHTML = vditor.lute.SpinVditorIRDOM(topListElement.outerHTML);\n        }\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        var tempTopListElement = (0,hasClosest/* getTopList */.O9)(range.startContainer);\n        if (tempTopListElement) {\n            tempTopListElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, vditor);\n                if (vditor.currentMode === \"wysiwyg\") {\n                    item.previousElementSibling.setAttribute(\"style\", \"display:none\");\n                }\n            });\n        }\n        execAfterRender(vditor);\n        highlightToolbar(vditor);\n    }\n    else {\n        vditor[vditor.currentMode].element.focus();\n    }\n};\nvar setTableAlign = function (tableElement, type) {\n    var cell = getSelection().getRangeAt(0).startContainer.parentElement;\n    var columnCnt = tableElement.rows[0].cells.length;\n    var rowCnt = tableElement.rows.length;\n    var currentColumn = 0;\n    for (var i = 0; i < rowCnt; i++) {\n        for (var j = 0; j < columnCnt; j++) {\n            if (tableElement.rows[i].cells[j].isSameNode(cell)) {\n                currentColumn = j;\n                break;\n            }\n        }\n    }\n    for (var k = 0; k < rowCnt; k++) {\n        tableElement.rows[k].cells[currentColumn].setAttribute(\"align\", type);\n    }\n};\nvar isHrMD = function (text) {\n    // - _ *\n    var marker = text.trimRight().split(\"\\n\").pop();\n    if (marker === \"\") {\n        return false;\n    }\n    if (marker.replace(/ |-/g, \"\") === \"\"\n        || marker.replace(/ |_/g, \"\") === \"\"\n        || marker.replace(/ |\\*/g, \"\") === \"\") {\n        if (marker.replace(/ /g, \"\").length > 2) {\n            if (marker.indexOf(\"-\") > -1 && marker.trimLeft().indexOf(\" \") === -1\n                && text.trimRight().split(\"\\n\").length > 1) {\n                // 满足 heading\n                return false;\n            }\n            if (marker.indexOf(\"    \") === 0 || marker.indexOf(\"\\t\") === 0) {\n                // 代码块\n                return false;\n            }\n            return true;\n        }\n        return false;\n    }\n    return false;\n};\nvar isHeadingMD = function (text) {\n    // - =\n    var textArray = text.trimRight().split(\"\\n\");\n    text = textArray.pop();\n    if (text.indexOf(\"    \") === 0 || text.indexOf(\"\\t\") === 0) {\n        return false;\n    }\n    text = text.trimLeft();\n    if (text === \"\" || textArray.length === 0) {\n        return false;\n    }\n    if (text.replace(/-/g, \"\") === \"\"\n        || text.replace(/=/g, \"\") === \"\") {\n        return true;\n    }\n    return false;\n};\nvar execAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (vditor.currentMode === \"wysiwyg\") {\n        afterRenderEvent(vditor, options);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        process_processAfterRender(vditor, options);\n    }\n    else if (vditor.currentMode === \"sv\") {\n        processAfterRender(vditor, options);\n    }\n};\nvar fixList = function (range, vditor, pElement, event) {\n    var _a;\n    var startContainer = range.startContainer;\n    var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"LI\");\n    if (liElement) {\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\" &&\n            // fix li 中有多个 P 时，在第一个 P 中换行会在下方生成新的 li\n            (!event.shiftKey && pElement && liElement.contains(pElement) && pElement.nextElementSibling)) {\n            if (liElement && !liElement.textContent.endsWith(\"\\n\")) {\n                // li 结尾需 \\n\n                liElement.insertAdjacentText(\"beforeend\", \"\\n\");\n            }\n            range.insertNode(document.createTextNode(\"\\n\\n\"));\n            range.collapse(false);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            !liElement.previousElementSibling && range.toString() === \"\" &&\n            (0,selection/* getSelectPosition */.im)(liElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // 光标位于点和第一个字符中间时，无法删除 li 元素\n            if (liElement.nextElementSibling) {\n                liElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\" + liElement.innerHTML + \"</p>\");\n                liElement.remove();\n            }\n            else {\n                liElement.parentElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\" + liElement.innerHTML + \"</p>\";\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // 空列表删除后与上一级段落对齐\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\" &&\n            liElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" &&\n            range.toString() === \"\" && ((_a = liElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"LI\") {\n            liElement.previousElementSibling.insertAdjacentText(\"beforeend\", \"\\n\\n\");\n            range.selectNodeContents(liElement.previousElementSibling);\n            range.collapse(false);\n            liElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Tab\") {\n            // 光标位于第一/零字符时，tab 用于列表的缩进\n            var isFirst = false;\n            if (range.startOffset === 0\n                && ((startContainer.nodeType === 3 && !startContainer.previousSibling)\n                    || (startContainer.nodeType !== 3 && startContainer.nodeName === \"LI\"))) {\n                // 有序/无序列表\n                isFirst = true;\n            }\n            else if (liElement.classList.contains(\"vditor-task\") && range.startOffset === 1\n                && startContainer.previousSibling.nodeType !== 3\n                && startContainer.previousSibling.tagName === \"INPUT\") {\n                // 任务列表\n                isFirst = true;\n            }\n            if (isFirst || range.toString() !== \"\") {\n                if (event.shiftKey) {\n                    listOutdent(vditor, liElement, range, liElement.parentElement);\n                }\n                else {\n                    listIndent(vditor, liElement, range);\n                }\n                event.preventDefault();\n                return true;\n            }\n        }\n    }\n    return false;\n};\n// tab 处理: block code render, table, 列表第一个字符中的 tab 处理单独写在上面\nvar fixTab = function (vditor, range, event) {\n    if (vditor.options.tab && event.key === \"Tab\") {\n        if (event.shiftKey) {\n            // TODO shift+tab\n        }\n        else {\n            if (range.toString() === \"\") {\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n            else {\n                range.extractContents();\n                range.insertNode(document.createTextNode(vditor.options.tab));\n                range.collapse(false);\n            }\n        }\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n};\nvar fixMarkdown = function (event, vditor, pElement, range) {\n    if (!pElement) {\n        return;\n    }\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        var pText = String.raw(templateObject_1 || (templateObject_1 = __makeTemplateObject([\"\", \"\"], [\"\", \"\"])), pElement.textContent).replace(/\\\\\\|/g, \"\").trim();\n        var pTextList = pText.split(\"|\");\n        if (pText.startsWith(\"|\") && pText.endsWith(\"|\") && pTextList.length > 3) {\n            // table 自动完成\n            var tableHeaderMD = pTextList.map(function () { return \"---\"; }).join(\"|\");\n            tableHeaderMD =\n                pElement.textContent + \"\\n\" + tableHeaderMD.substring(3, tableHeaderMD.length - 3) + \"\\n|<wbr>\";\n            pElement.outerHTML = vditor.lute.SpinVditorDOM(tableHeaderMD);\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // hr 渲染\n        if (isHrMD(pElement.innerHTML) && pElement.previousElementSibling) {\n            // 软换行后 hr 前有内容\n            var pInnerHTML = \"\";\n            var innerHTMLList = pElement.innerHTML.trimRight().split(\"\\n\");\n            if (innerHTMLList.length > 1) {\n                innerHTMLList.pop();\n                pInnerHTML = \"<p data-block=\\\"0\\\">\" + innerHTMLList.join(\"\\n\") + \"</p>\";\n            }\n            pElement.insertAdjacentHTML(\"afterend\", pInnerHTML + \"<hr data-block=\\\"0\\\"><p data-block=\\\"0\\\"><wbr>\\n</p>\");\n            pElement.remove();\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (isHeadingMD(pElement.innerHTML)) {\n            // heading 渲染\n            if (vditor.currentMode === \"wysiwyg\") {\n                pElement.outerHTML = vditor.lute.SpinVditorDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            else {\n                pElement.outerHTML = vditor.lute.SpinVditorIRDOM(pElement.innerHTML + '<p data-block=\"0\"><wbr>\\n</p>');\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 软换行会被切割 https://github.com/Vanessa219/vditor/issues/220\n    if (range.collapsed && pElement.previousElementSibling && event.key === \"Backspace\" &&\n        !(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && !event.shiftKey &&\n        pElement.textContent.trimRight().split(\"\\n\").length > 1 &&\n        (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0) {\n        var lastElement = (0,hasClosest/* getLastNode */.DX)(pElement.previousElementSibling);\n        if (!lastElement.textContent.endsWith(\"\\n\")) {\n            lastElement.textContent = lastElement.textContent + \"\\n\";\n        }\n        lastElement.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + pElement.innerHTML);\n        pElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n        return false;\n    }\n    return false;\n};\nvar insertRow = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        rowHTML += \"<td align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </td>\";\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tbody><tr>\" + rowHTML + \"</tr></tbody>\");\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"afterend\", \"<tr>\" + rowHTML + \"</tr>\");\n    }\n    execAfterRender(vditor);\n};\nvar insertRowAbove = function (vditor, range, cellElement) {\n    var rowHTML = \"\";\n    for (var m = 0; m < cellElement.parentElement.childElementCount; m++) {\n        if (cellElement.tagName === \"TH\") {\n            rowHTML += \"<th align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </th>\";\n        }\n        else {\n            rowHTML += \"<td align=\\\"\" + cellElement.parentElement.children[m].getAttribute(\"align\") + \"\\\"> </td>\";\n        }\n    }\n    if (cellElement.tagName === \"TH\") {\n        cellElement.parentElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<thead><tr>\" + rowHTML + \"</tr></thead>\");\n        range.insertNode(document.createElement(\"wbr\"));\n        var theadHTML = cellElement.parentElement.innerHTML.replace(/<th>/g, \"<td>\").replace(/<\\/th>/g, \"</td>\");\n        cellElement.parentElement.parentElement.nextElementSibling.insertAdjacentHTML(\"afterbegin\", theadHTML);\n        cellElement.parentElement.parentElement.remove();\n        (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    }\n    else {\n        cellElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<tr>\" + rowHTML + \"</tr>\");\n    }\n    execAfterRender(vditor);\n};\nvar insertColumn = function (vditor, tableElement, cellElement, type) {\n    if (type === void 0) { type = \"afterend\"; }\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        if (i === 0) {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<th> </th>\");\n        }\n        else {\n            tableElement.rows[i].cells[index].insertAdjacentHTML(type, \"<td> </td>\");\n        }\n    }\n    execAfterRender(vditor);\n};\nvar deleteRow = function (vditor, range, cellElement) {\n    if (cellElement.tagName === \"TD\") {\n        var tbodyElement = cellElement.parentElement.parentElement;\n        if (cellElement.parentElement.previousElementSibling) {\n            range.selectNodeContents(cellElement.parentElement.previousElementSibling.lastElementChild);\n        }\n        else {\n            range.selectNodeContents(tbodyElement.previousElementSibling.lastElementChild.lastElementChild);\n        }\n        if (tbodyElement.childElementCount === 1) {\n            tbodyElement.remove();\n        }\n        else {\n            cellElement.parentElement.remove();\n        }\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        execAfterRender(vditor);\n    }\n};\nvar deleteColumn = function (vditor, range, tableElement, cellElement) {\n    var index = 0;\n    var previousElement = cellElement.previousElementSibling;\n    while (previousElement) {\n        index++;\n        previousElement = previousElement.previousElementSibling;\n    }\n    if (cellElement.previousElementSibling || cellElement.nextElementSibling) {\n        range.selectNodeContents(cellElement.previousElementSibling || cellElement.nextElementSibling);\n        range.collapse(true);\n    }\n    for (var i = 0; i < tableElement.rows.length; i++) {\n        var cells = tableElement.rows[i].cells;\n        if (cells.length === 1) {\n            tableElement.remove();\n            highlightToolbar(vditor);\n            break;\n        }\n        cells[index].remove();\n    }\n    (0,selection/* setSelectionFocus */.Hc)(range);\n    execAfterRender(vditor);\n};\nvar fixTable = function (vditor, event, range) {\n    var startContainer = range.startContainer;\n    var cellElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TD\") ||\n        (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"TH\");\n    if (cellElement) {\n        // 换行或软换行：在 cell 中添加 br\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n            if (!cellElement.lastElementChild ||\n                (cellElement.lastElementChild && (!cellElement.lastElementChild.isSameNode(cellElement.lastChild) ||\n                    cellElement.lastElementChild.tagName !== \"BR\"))) {\n                cellElement.insertAdjacentHTML(\"beforeend\", \"<br>\");\n            }\n            var brElement = document.createElement(\"br\");\n            range.insertNode(brElement);\n            range.setStartAfter(brElement);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // tab：光标移向下一个 cell\n        if (event.key === \"Tab\") {\n            if (event.shiftKey) {\n                // shift + tab 光标移动到前一个 cell\n                goPreviousCell(cellElement, range);\n                event.preventDefault();\n                return true;\n            }\n            var nextElement = cellElement.nextElementSibling;\n            if (!nextElement) {\n                if (cellElement.parentElement.nextElementSibling) {\n                    nextElement = cellElement.parentElement.nextElementSibling.firstElementChild;\n                }\n                else if (cellElement.parentElement.parentElement.tagName === \"THEAD\" &&\n                    cellElement.parentElement.parentElement.nextElementSibling) {\n                    nextElement =\n                        cellElement.parentElement.parentElement.nextElementSibling.firstElementChild.firstElementChild;\n                }\n                else {\n                    nextElement = null;\n                }\n            }\n            if (nextElement) {\n                range.selectNodeContents(nextElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            event.preventDefault();\n            return true;\n        }\n        var tableElement = cellElement.parentElement.parentElement.parentElement;\n        if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            if (cellElement.tagName === \"TH\") {\n                if (tableElement.previousElementSibling) {\n                    range.selectNodeContents(tableElement.previousElementSibling);\n                    range.collapse(false);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"beforebegin\");\n                }\n                return true;\n            }\n            var m = 0;\n            var trElement = cellElement.parentElement;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var previousElement = trElement.previousElementSibling;\n            if (!previousElement) {\n                previousElement = trElement.parentElement.previousElementSibling.firstChild;\n            }\n            range.selectNodeContents(previousElement.cells[m]);\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            var trElement = cellElement.parentElement;\n            if (!trElement.nextElementSibling && cellElement.tagName === \"TD\") {\n                if (tableElement.nextElementSibling) {\n                    range.selectNodeContents(tableElement.nextElementSibling);\n                    range.collapse(true);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n                else {\n                    insertEmptyBlock(vditor, \"afterend\");\n                }\n                return true;\n            }\n            var m = 0;\n            for (; m < trElement.cells.length; m++) {\n                if (trElement.cells[m].isSameNode(cellElement)) {\n                    break;\n                }\n            }\n            var nextElement = trElement.nextElementSibling;\n            if (!nextElement) {\n                nextElement = trElement.parentElement.nextElementSibling.firstChild;\n            }\n            range.selectNodeContents(nextElement.cells[m]);\n            range.collapse(true);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            return true;\n        }\n        // focus row input, only wysiwyg\n        if (vditor.currentMode === \"wysiwyg\" &&\n            !(0,compatibility/* isCtrl */.yl)(event) && event.key === \"Enter\" && !event.shiftKey && event.altKey) {\n            var inputElement = vditor.wysiwyg.popover.querySelector(\".vditor-input\");\n            inputElement.focus();\n            inputElement.select();\n            event.preventDefault();\n            return true;\n        }\n        // Backspace：光标移动到前一个 cell\n        if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Backspace\"\n            && range.startOffset === 0 && range.toString() === \"\") {\n            var previousCellElement = goPreviousCell(cellElement, range, false);\n            if (!previousCellElement && tableElement) {\n                if (tableElement.textContent.trim() === \"\") {\n                    tableElement.outerHTML = \"<p data-block=\\\"0\\\"><wbr>\\n</p>\";\n                    (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                }\n                else {\n                    range.setStartBefore(tableElement);\n                    range.collapse(true);\n                }\n                execAfterRender(vditor);\n            }\n            event.preventDefault();\n            return true;\n        }\n        // 上方新添加一行\n        if (matchHotKey(\"⇧⌘F\", event)) {\n            insertRowAbove(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 下方新添加一行 https://github.com/Vanessa219/vditor/issues/46\n        if (matchHotKey(\"⌘=\", event)) {\n            insertRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 左方新添加一列\n        if (matchHotKey(\"⇧⌘G\", event)) {\n            insertColumn(vditor, tableElement, cellElement, \"beforebegin\");\n            event.preventDefault();\n            return true;\n        }\n        // 后方新添加一列\n        if (matchHotKey(\"⇧⌘=\", event)) {\n            insertColumn(vditor, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前行\n        if (matchHotKey(\"⌘-\", event)) {\n            deleteRow(vditor, range, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 删除当前列\n        if (matchHotKey(\"⇧⌘-\", event)) {\n            deleteColumn(vditor, range, tableElement, cellElement);\n            event.preventDefault();\n            return true;\n        }\n        // 剧左\n        if (matchHotKey(\"⇧⌘L\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"left\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"left\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧中\n        if (matchHotKey(\"⇧⌘C\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"center\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"center\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n        // 剧右\n        if (matchHotKey(\"⇧⌘R\", event)) {\n            if (vditor.currentMode === \"ir\") {\n                setTableAlign(tableElement, \"right\");\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n            else {\n                var itemElement = vditor.wysiwyg.popover.querySelector('[data-type=\"right\"]');\n                if (itemElement) {\n                    itemElement.click();\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        }\n    }\n    return false;\n};\nvar fixCodeBlock = function (vditor, event, codeRenderElement, range) {\n    // 行级代码块中 command + a，近对当前代码块进行全选\n    if (codeRenderElement.tagName === \"PRE\" && matchHotKey(\"⌘A\", event)) {\n        range.selectNodeContents(codeRenderElement.firstElementChild);\n        event.preventDefault();\n        return true;\n    }\n    // tab\n    // TODO shift + tab, shift and 选中文字\n    if (vditor.options.tab && event.key === \"Tab\" && !event.shiftKey && range.toString() === \"\") {\n        range.insertNode(document.createTextNode(vditor.options.tab));\n        range.collapse(false);\n        execAfterRender(vditor);\n        event.preventDefault();\n        return true;\n    }\n    // Backspace: 光标位于第零个字符，仅删除代码块标签\n    if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n        var codePosition = (0,selection/* getSelectPosition */.im)(codeRenderElement, vditor[vditor.currentMode].element, range);\n        if ((codePosition.start === 0 ||\n            (codePosition.start === 1 && codeRenderElement.innerText === \"\\n\")) // 空代码块，光标在 \\n 后\n            && range.toString() === \"\") {\n            codeRenderElement.parentElement.outerHTML =\n                \"<p data-block=\\\"0\\\"><wbr>\" + codeRenderElement.firstElementChild.innerHTML + \"</p>\";\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    // 换行\n    if (!(0,compatibility/* isCtrl */.yl)(event) && !event.altKey && event.key === \"Enter\") {\n        if (!codeRenderElement.firstElementChild.textContent.endsWith(\"\\n\")) {\n            codeRenderElement.firstElementChild.insertAdjacentText(\"beforeend\", \"\\n\");\n        }\n        range.extractContents();\n        range.insertNode(document.createTextNode(\"\\n\"));\n        range.collapse(false);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        if (!(0,compatibility/* isFirefox */.vU)()) {\n            if (vditor.currentMode === \"wysiwyg\") {\n                input_input(vditor, range);\n            }\n            else {\n                input(vditor, range);\n            }\n        }\n        scrollCenter(vditor);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar fixBlockquote = function (vditor, range, event, pElement) {\n    var startContainer = range.startContainer;\n    var blockquoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(startContainer, \"BLOCKQUOTE\");\n    if (blockquoteElement && range.toString() === \"\") {\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey &&\n            (0,selection/* getSelectPosition */.im)(blockquoteElement, vditor[vditor.currentMode].element, range).start === 0) {\n            // Backspace: 光标位于引用中的第零个字符，仅删除引用标签\n            range.insertNode(document.createElement(\"wbr\"));\n            blockquoteElement.outerHTML = blockquoteElement.innerHTML;\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (pElement && event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey\n            && pElement.parentElement.tagName === \"BLOCKQUOTE\") {\n            // Enter: 空行回车应逐层跳出\n            var isEmpty = false;\n            if (pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\\n\" ||\n                pElement.innerHTML.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                // 空 P\n                isEmpty = true;\n                pElement.remove();\n            }\n            else if (pElement.innerHTML.endsWith(\"\\n\\n\") &&\n                (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start ===\n                    pElement.textContent.length - 1) {\n                // 软换行\n                pElement.innerHTML = pElement.innerHTML.substr(0, pElement.innerHTML.length - 2);\n                isEmpty = true;\n            }\n            if (isEmpty) {\n                // 需添加零宽字符，否则的话无法记录 undo\n                blockquoteElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr>\\n</p>\");\n                (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                execAfterRender(vditor);\n                event.preventDefault();\n                return true;\n            }\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(startContainer);\n        if (vditor.currentMode === \"wysiwyg\" && blockElement && matchHotKey(\"⇧⌘;\", event)) {\n            // 插入 blockquote\n            range.insertNode(document.createElement(\"wbr\"));\n            blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n            (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n            afterRenderEvent(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (insertAfterBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n        if (insertBeforeBlock(vditor, event, range, blockquoteElement, blockquoteElement)) {\n            return true;\n        }\n    }\n    return false;\n};\nvar fixTask = function (vditor, range, event) {\n    var startContainer = range.startContainer;\n    var taskItemElement = (0,hasClosest/* hasClosestByClassName */.fb)(startContainer, \"vditor-task\");\n    if (taskItemElement) {\n        if (matchHotKey(\"⇧⌘J\", event)) {\n            // ctrl + shift: toggle checked\n            var inputElement = taskItemElement.firstElementChild;\n            if (inputElement.checked) {\n                inputElement.removeAttribute(\"checked\");\n            }\n            else {\n                inputElement.setAttribute(\"checked\", \"checked\");\n            }\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        // Backspace: 在选择框前进行删除\n        if (event.key === \"Backspace\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && range.toString() === \"\"\n            && range.startOffset === 1\n            && ((startContainer.nodeType === 3 && startContainer.previousSibling &&\n                startContainer.previousSibling.tagName === \"INPUT\")\n                || startContainer.nodeType !== 3)) {\n            var previousElement = taskItemElement.previousElementSibling;\n            taskItemElement.querySelector(\"input\").remove();\n            if (previousElement) {\n                var lastNode = (0,hasClosest/* getLastNode */.DX)(previousElement);\n                lastNode.parentElement.insertAdjacentHTML(\"beforeend\", \"<wbr>\" + taskItemElement.innerHTML.trim());\n                taskItemElement.remove();\n            }\n            else {\n                taskItemElement.parentElement.insertAdjacentHTML(\"beforebegin\", \"<p data-block=\\\"0\\\"><wbr>\" + (taskItemElement.innerHTML.trim() || \"\\n\") + \"</p>\");\n                if (taskItemElement.nextElementSibling) {\n                    taskItemElement.remove();\n                }\n                else {\n                    taskItemElement.parentElement.remove();\n                }\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n        if (event.key === \"Enter\" && !(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey) {\n            if (taskItemElement.textContent.trim() === \"\") {\n                // 当前任务列表无文字\n                if ((0,hasClosest/* hasClosestByClassName */.fb)(taskItemElement.parentElement, \"vditor-task\")) {\n                    // 为子元素时，需进行反向缩进\n                    var topListElement = (0,hasClosest/* getTopList */.O9)(startContainer);\n                    if (topListElement) {\n                        listOutdent(vditor, taskItemElement, range, topListElement);\n                    }\n                }\n                else {\n                    // 仅有一级任务列表\n                    if (taskItemElement.nextElementSibling) {\n                        // 任务列表下方还有元素，需要使用用段落隔断\n                        var afterHTML_2 = \"\";\n                        var beforeHTML_1 = \"\";\n                        var isAfter_1 = false;\n                        Array.from(taskItemElement.parentElement.children).forEach(function (taskItem) {\n                            if (taskItemElement.isSameNode(taskItem)) {\n                                isAfter_1 = true;\n                            }\n                            else {\n                                if (isAfter_1) {\n                                    afterHTML_2 += taskItem.outerHTML;\n                                }\n                                else {\n                                    beforeHTML_1 += taskItem.outerHTML;\n                                }\n                            }\n                        });\n                        var parentTagName = taskItemElement.parentElement.tagName;\n                        var dataMarker = taskItemElement.parentElement.tagName === \"OL\" ? \"\" : \" data-marker=\\\"\" + taskItemElement.parentElement.getAttribute(\"data-marker\") + \"\\\"\";\n                        var startAttribute = \"\";\n                        if (beforeHTML_1) {\n                            startAttribute = taskItemElement.parentElement.tagName === \"UL\" ? \"\" : \" start=\\\"1\\\"\";\n                            beforeHTML_1 = \"<\" + parentTagName + \" data-tight=\\\"true\\\"\" + dataMarker + \" data-block=\\\"0\\\">\" + beforeHTML_1 + \"</\" + parentTagName + \">\";\n                        }\n                        // <p data-block=\"0\">\\n<wbr></p> => <p data-block=\"0\"><wbr>\\n</p>\n                        // https://github.com/Vanessa219/vditor/issues/430\n                        taskItemElement.parentElement.outerHTML = beforeHTML_1 + \"<p data-block=\\\"0\\\"><wbr>\\n</p><\" + parentTagName + \"\\n data-tight=\\\"true\\\"\" + dataMarker + \" data-block=\\\"0\\\"\" + startAttribute + \">\" + afterHTML_2 + \"</\" + parentTagName + \">\";\n                    }\n                    else {\n                        // 任务列表下方无任务列表元素\n                        taskItemElement.parentElement.insertAdjacentHTML(\"afterend\", \"<p data-block=\\\"0\\\"><wbr>\\n</p>\");\n                        if (taskItemElement.parentElement.querySelectorAll(\"li\").length === 1) {\n                            // 任务列表仅有一项时，使用 p 元素替换\n                            taskItemElement.parentElement.remove();\n                        }\n                        else {\n                            // 任务列表有多项时，当前任务列表位于最后一项，移除该任务列表\n                            taskItemElement.remove();\n                        }\n                    }\n                }\n            }\n            else if (startContainer.nodeType !== 3 && range.startOffset === 0 &&\n                startContainer.firstChild.tagName === \"INPUT\") {\n                // 光标位于 input 之前\n                range.setStart(startContainer.childNodes[1], 1);\n            }\n            else {\n                // 当前任务列表有文字，光标后的文字需添加到新任务列表中\n                range.setEndAfter(taskItemElement.lastChild);\n                taskItemElement.insertAdjacentHTML(\"afterend\", \"<li class=\\\"vditor-task\\\" data-marker=\\\"\" + taskItemElement.getAttribute(\"data-marker\") + \"\\\"><input type=\\\"checkbox\\\"> <wbr></li>\");\n                document.querySelector(\"wbr\").after(range.extractContents());\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            scrollCenter(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixDelete = function (vditor, range, event, pElement) {\n    if (range.startContainer.nodeType !== 3) {\n        // 光标位于 hr 前，hr 前有内容\n        var rangeElement = range.startContainer.children[range.startOffset];\n        if (rangeElement && rangeElement.tagName === \"HR\") {\n            range.selectNodeContents(rangeElement.previousElementSibling);\n            range.collapse(false);\n            event.preventDefault();\n            return true;\n        }\n    }\n    if (pElement) {\n        var previousElement = pElement.previousElementSibling;\n        if (previousElement && (0,selection/* getSelectPosition */.im)(pElement, vditor[vditor.currentMode].element, range).start === 0 &&\n            (((0,compatibility/* isFirefox */.vU)() && previousElement.tagName === \"HR\") || previousElement.tagName === \"TABLE\")) {\n            if (previousElement.tagName === \"TABLE\") {\n                // table 后删除 https://github.com/Vanessa219/vditor/issues/243\n                var lastCellElement = previousElement.lastElementChild.lastElementChild.lastElementChild;\n                lastCellElement.innerHTML =\n                    lastCellElement.innerHTML.trimLeft() + \"<wbr>\" + pElement.textContent.trim();\n                pElement.remove();\n            }\n            else {\n                // 光标位于 hr 后进行删除\n                previousElement.remove();\n            }\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n            execAfterRender(vditor);\n            event.preventDefault();\n            return true;\n        }\n    }\n    return false;\n};\nvar fixHR = function (range) {\n    if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.nodeType !== 3 &&\n        range.startContainer.tagName === \"HR\") {\n        range.setStartBefore(range.startContainer);\n    }\n};\n// firefox https://github.com/Vanessa219/vditor/issues/407\nvar fixFirefoxArrowUpTable = function (event, blockElement, range) {\n    var _a, _b;\n    if (!(0,compatibility/* isFirefox */.vU)()) {\n        return false;\n    }\n    if (event.key === \"ArrowUp\" && blockElement && ((_a = blockElement.previousElementSibling) === null || _a === void 0 ? void 0 : _a.tagName) === \"TABLE\") {\n        var tableElement = blockElement.previousElementSibling;\n        range.selectNodeContents(tableElement.rows[tableElement.rows.length - 1].lastElementChild);\n        range.collapse(false);\n        event.preventDefault();\n        return true;\n    }\n    if (event.key === \"ArrowDown\" && blockElement && ((_b = blockElement.nextElementSibling) === null || _b === void 0 ? void 0 : _b.tagName) === \"TABLE\") {\n        range.selectNodeContents(blockElement.nextElementSibling.rows[0].cells[0]);\n        range.collapse(true);\n        event.preventDefault();\n        return true;\n    }\n    return false;\n};\nvar paste = function (vditor, event, callback) { return fixBrowserBehavior_awaiter(void 0, void 0, void 0, function () {\n    var textHTML, textPlain, files, renderers, renderLinkDest, doc, height, code, codeElement, position, tempElement, blockElement, range;\n    var _a;\n    return fixBrowserBehavior_generator(this, function (_b) {\n        switch (_b.label) {\n            case 0:\n                event.stopPropagation();\n                event.preventDefault();\n                if (\"clipboardData\" in event) {\n                    textHTML = event.clipboardData.getData(\"text/html\");\n                    textPlain = event.clipboardData.getData(\"text/plain\");\n                    files = event.clipboardData.files;\n                }\n                else {\n                    textHTML = event.dataTransfer.getData(\"text/html\");\n                    textPlain = event.dataTransfer.getData(\"text/plain\");\n                    if (event.dataTransfer.types[0] === \"Files\") {\n                        files = event.dataTransfer.items;\n                    }\n                }\n                renderers = {};\n                renderLinkDest = function (node, entering) {\n                    if (!entering) {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    var src = node.TokensStr();\n                    if (node.__internal_object__.Parent.Type === 34 && src && src.indexOf(\"file://\") === -1 &&\n                        vditor.options.upload.linkToImgUrl) {\n                        var xhr_1 = new XMLHttpRequest();\n                        xhr_1.open(\"POST\", vditor.options.upload.linkToImgUrl);\n                        if (vditor.options.upload.token) {\n                            xhr_1.setRequestHeader(\"X-Upload-Token\", vditor.options.upload.token);\n                        }\n                        if (vditor.options.upload.withCredentials) {\n                            xhr_1.withCredentials = true;\n                        }\n                        setHeaders(vditor, xhr_1);\n                        xhr_1.setRequestHeader(\"Content-Type\", \"application/json; charset=utf-8\");\n                        xhr_1.onreadystatechange = function () {\n                            if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                                if (xhr_1.status === 200) {\n                                    var responseText = xhr_1.responseText;\n                                    if (vditor.options.upload.linkToImgFormat) {\n                                        responseText = vditor.options.upload.linkToImgFormat(xhr_1.responseText);\n                                    }\n                                    var responseJSON_1 = JSON.parse(responseText);\n                                    if (responseJSON_1.code !== 0) {\n                                        vditor.tip.show(responseJSON_1.msg);\n                                        return;\n                                    }\n                                    var original_1 = responseJSON_1.data.originalURL;\n                                    if (vditor.currentMode === \"sv\") {\n                                        vditor.sv.element.querySelectorAll(\".vditor-sv__marker--link\")\n                                            .forEach(function (item) {\n                                            if (item.textContent === original_1) {\n                                                item.textContent = responseJSON_1.data.url;\n                                            }\n                                        });\n                                    }\n                                    else {\n                                        var imgElement = vditor[vditor.currentMode].element.querySelector(\"img[src=\\\"\" + original_1 + \"\\\"]\");\n                                        imgElement.src = responseJSON_1.data.url;\n                                        if (vditor.currentMode === \"ir\") {\n                                            imgElement.previousElementSibling.previousElementSibling.innerHTML =\n                                                responseJSON_1.data.url;\n                                        }\n                                    }\n                                    execAfterRender(vditor);\n                                }\n                                else {\n                                    vditor.tip.show(xhr_1.responseText);\n                                }\n                                if (vditor.options.upload.linkToImgCallback) {\n                                    vditor.options.upload.linkToImgCallback(xhr_1.responseText);\n                                }\n                            }\n                        };\n                        xhr_1.send(JSON.stringify({ url: src }));\n                    }\n                    if (vditor.currentMode === \"ir\") {\n                        return [\"<span class=\\\"vditor-ir__marker vditor-ir__marker--link\\\">\" + src + \"</span>\", Lute.WalkContinue];\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        return [\"\", Lute.WalkContinue];\n                    }\n                    else {\n                        return [\"<span class=\\\"vditor-sv__marker--link\\\">\" + src + \"</span>\", Lute.WalkContinue];\n                    }\n                };\n                // 浏览器地址栏拷贝处理\n                if (textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                    \"<a href=\\\"\" + textPlain + \"\\\">\" + textPlain + \"</a>\" ||\n                    textHTML.replace(/&amp;/g, \"&\").replace(/<(|\\/)(html|body|meta)[^>]*?>/ig, \"\").trim() ===\n                        \"<!--StartFragment--><a href=\\\"\" + textPlain + \"\\\">\" + textPlain + \"</a><!--EndFragment-->\") {\n                    textHTML = \"\";\n                }\n                doc = new DOMParser().parseFromString(textHTML, \"text/html\");\n                if (doc.body) {\n                    textHTML = doc.body.innerHTML;\n                }\n                textHTML = Lute.Sanitize(textHTML);\n                vditor.wysiwyg.getComments(vditor);\n                height = vditor[vditor.currentMode].element.scrollHeight;\n                code = processPasteCode(textHTML, textPlain, vditor.currentMode);\n                codeElement = vditor.currentMode === \"sv\" ?\n                    (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"code-block\") :\n                    (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"CODE\");\n                if (!codeElement) return [3 /*break*/, 1];\n                // 粘贴在代码位置\n                if (vditor.currentMode === \"sv\") {\n                    document.execCommand(\"insertHTML\", false, textPlain.replace(/&/g, \"&amp;\").replace(/</g, \"&lt;\"));\n                }\n                else {\n                    position = (0,selection/* getSelectPosition */.im)(event.target, vditor[vditor.currentMode].element);\n                    if (codeElement.parentElement.tagName !== \"PRE\") {\n                        // https://github.com/Vanessa219/vditor/issues/463\n                        textPlain += constants/* Constants.ZWSP */.g.ZWSP;\n                    }\n                    codeElement.textContent = codeElement.textContent.substring(0, position.start)\n                        + textPlain + codeElement.textContent.substring(position.end);\n                    (0,selection/* setSelectionByPosition */.$j)(position.start + textPlain.length, position.start + textPlain.length, codeElement.parentElement);\n                    if ((_a = codeElement.parentElement) === null || _a === void 0 ? void 0 : _a.nextElementSibling.classList.contains(\"vditor-\" + vditor.currentMode + \"__preview\")) {\n                        codeElement.parentElement.nextElementSibling.innerHTML = codeElement.outerHTML;\n                        processCodeRender(codeElement.parentElement.nextElementSibling, vditor);\n                    }\n                }\n                return [3 /*break*/, 6];\n            case 1:\n                if (!code) return [3 /*break*/, 2];\n                callback.pasteCode(code);\n                return [3 /*break*/, 6];\n            case 2:\n                if (!(textHTML.trim() !== \"\")) return [3 /*break*/, 3];\n                tempElement = document.createElement(\"div\");\n                tempElement.innerHTML = textHTML;\n                tempElement.querySelectorAll(\"[style]\").forEach(function (e) {\n                    e.removeAttribute(\"style\");\n                });\n                tempElement.querySelectorAll(\".vditor-copy\").forEach(function (e) {\n                    e.remove();\n                });\n                if (vditor.currentMode === \"ir\") {\n                    renderers.HTML2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorIRDOM(tempElement.innerHTML), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    renderers.HTML2VditorDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    (0,selection/* insertHTML */.oC)(vditor.lute.HTML2VditorDOM(tempElement.innerHTML), vditor);\n                }\n                else {\n                    renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                    vditor.lute.SetJSRenderers({ renderers: renderers });\n                    processPaste(vditor, vditor.lute.HTML2Md(tempElement.innerHTML).trimRight());\n                }\n                vditor.outline.render(vditor);\n                return [3 /*break*/, 6];\n            case 3:\n                if (!(files.length > 0 && vditor.options.upload.url)) return [3 /*break*/, 5];\n                return [4 /*yield*/, uploadFiles(vditor, files)];\n            case 4:\n                _b.sent();\n                return [3 /*break*/, 6];\n            case 5:\n                if (textPlain.trim() !== \"\" && files.length === 0) {\n                    if (vditor.currentMode === \"ir\") {\n                        renderers.Md2VditorIRDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorIRDOM(textPlain), vditor);\n                    }\n                    else if (vditor.currentMode === \"wysiwyg\") {\n                        renderers.Md2VditorDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        (0,selection/* insertHTML */.oC)(vditor.lute.Md2VditorDOM(textPlain), vditor);\n                    }\n                    else {\n                        renderers.Md2VditorSVDOM = { renderLinkDest: renderLinkDest };\n                        vditor.lute.SetJSRenderers({ renderers: renderers });\n                        processPaste(vditor, textPlain);\n                    }\n                    vditor.outline.render(vditor);\n                }\n                _b.label = 6;\n            case 6:\n                if (vditor.currentMode !== \"sv\") {\n                    blockElement = (0,hasClosest/* hasClosestBlock */.F9)((0,selection/* getEditorRange */.zh)(vditor).startContainer);\n                    if (blockElement) {\n                        range = (0,selection/* getEditorRange */.zh)(vditor);\n                        vditor[vditor.currentMode].element.querySelectorAll(\"wbr\").forEach(function (wbr) {\n                            wbr.remove();\n                        });\n                        range.insertNode(document.createElement(\"wbr\"));\n                        if (vditor.currentMode === \"wysiwyg\") {\n                            blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                        }\n                        else {\n                            blockElement.outerHTML = vditor.lute.SpinVditorIRDOM(blockElement.outerHTML);\n                        }\n                        (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, range);\n                    }\n                    vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                        .forEach(function (item) {\n                        processCodeRender(item, vditor);\n                    });\n                }\n                vditor.wysiwyg.triggerRemoveComment(vditor);\n                execAfterRender(vditor);\n                if (vditor[vditor.currentMode].element.scrollHeight - height >\n                    Math.min(vditor[vditor.currentMode].element.clientHeight, window.innerHeight) / 2) {\n                    scrollCenter(vditor);\n                }\n                return [2 /*return*/];\n        }\n    });\n}); };\nvar templateObject_1;\n\n;// CONCATENATED MODULE: ./src/ts/ir/process.ts\n\n\n\n\n\n\n\n\n\nvar processHint = function (vditor) {\n    vditor.hint.render(vditor);\n    var startContainer = (0,selection/* getEditorRange */.zh)(vditor).startContainer;\n    // 代码块语言提示\n    var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(startContainer, \"data-type\", \"code-block-info\");\n    if (preBeforeElement) {\n        if (preBeforeElement.textContent.replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && vditor.hint.recentLanguage) {\n            preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + vditor.hint.recentLanguage;\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            range.selectNodeContents(preBeforeElement);\n        }\n        else {\n            var matchLangData_1 = [];\n            var key_1 = preBeforeElement.textContent.substring(0, (0,selection/* getSelectPosition */.im)(preBeforeElement, vditor.ir.element).start)\n                .replace(constants/* Constants.ZWSP */.g.ZWSP, \"\");\n            constants/* Constants.CODE_LANGUAGES.forEach */.g.CODE_LANGUAGES.forEach(function (keyName) {\n                if (keyName.indexOf(key_1.toLowerCase()) > -1) {\n                    matchLangData_1.push({\n                        html: keyName,\n                        value: keyName,\n                    });\n                }\n            });\n            vditor.hint.genHTML(matchLangData_1, key_1, vditor);\n        }\n    }\n};\nvar process_processAfterRender = function (vditor, options) {\n    if (options === void 0) { options = {\n        enableAddUndoStack: true,\n        enableHint: false,\n        enableInput: true,\n    }; }\n    if (options.enableHint) {\n        processHint(vditor);\n    }\n    clearTimeout(vditor.ir.processTimeoutId);\n    vditor.ir.processTimeoutId = window.setTimeout(function () {\n        if (vditor.ir.composingLock) {\n            return;\n        }\n        var text = getMarkdown(vditor);\n        if (typeof vditor.options.input === \"function\" && options.enableInput) {\n            vditor.options.input(text);\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter.render(vditor, text);\n        }\n        if (vditor.options.cache.enable && (0,compatibility/* accessLocalStorage */.pK)()) {\n            localStorage.setItem(vditor.options.cache.id, text);\n            if (vditor.options.cache.after) {\n                vditor.options.cache.after(text);\n            }\n        }\n        if (vditor.devtools) {\n            vditor.devtools.renderEchart(vditor);\n        }\n        if (options.enableAddUndoStack) {\n            vditor.undo.addToUndoStack(vditor);\n        }\n    }, vditor.options.undoDelay);\n};\nvar process_processHeading = function (vditor, value) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var headingElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer) || range.startContainer;\n    if (headingElement) {\n        var headingMarkerElement = headingElement.querySelector(\".vditor-ir__marker--heading\");\n        if (headingMarkerElement) {\n            headingMarkerElement.innerHTML = value;\n        }\n        else {\n            headingElement.insertAdjacentText(\"afterbegin\", value);\n            range.selectNodeContents(headingElement);\n            range.collapse(false);\n        }\n        input(vditor, range.cloneRange());\n        highlightToolbarIR(vditor);\n    }\n};\nvar removeInline = function (range, vditor, type) {\n    var inlineElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", type);\n    if (inlineElement) {\n        inlineElement.firstElementChild.remove();\n        inlineElement.lastElementChild.remove();\n        range.insertNode(document.createElement(\"wbr\"));\n        var tempElement = document.createElement(\"div\");\n        tempElement.innerHTML = vditor.lute.SpinVditorIRDOM(inlineElement.outerHTML);\n        inlineElement.outerHTML = tempElement.firstElementChild.innerHTML.trim();\n    }\n};\nvar process_processToolbar = function (vditor, actionBtn, prefix, suffix) {\n    var range = (0,selection/* getEditorRange */.zh)(vditor);\n    var commandName = actionBtn.getAttribute(\"data-type\");\n    var typeElement = range.startContainer;\n    if (typeElement.nodeType === 3) {\n        typeElement = typeElement.parentElement;\n    }\n    var useHighlight = true;\n    // 移除\n    if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n        if (commandName === \"quote\") {\n            var quoteElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(typeElement, \"BLOCKQUOTE\");\n            if (quoteElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                quoteElement.outerHTML = quoteElement.innerHTML.trim() === \"\" ?\n                    \"<p data-block=\\\"0\\\">\" + quoteElement.innerHTML + \"</p>\" : quoteElement.innerHTML;\n            }\n        }\n        else if (commandName === \"link\") {\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"a\");\n            if (aElement) {\n                var aTextElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__link\");\n                if (aTextElement) {\n                    range.insertNode(document.createElement(\"wbr\"));\n                    aElement.outerHTML = aTextElement.innerHTML;\n                }\n                else {\n                    aElement.outerHTML = aElement.querySelector(\".vditor-ir__link\").innerHTML + \"<wbr>\";\n                }\n            }\n        }\n        else if (commandName === \"italic\") {\n            removeInline(range, vditor, \"em\");\n        }\n        else if (commandName === \"bold\") {\n            removeInline(range, vditor, \"strong\");\n        }\n        else if (commandName === \"strike\") {\n            removeInline(range, vditor, \"s\");\n        }\n        else if (commandName === \"inline-code\") {\n            removeInline(range, vditor, \"code\");\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName);\n            useHighlight = false;\n            actionBtn.classList.remove(\"vditor-menu--current\");\n        }\n    }\n    else {\n        // 添加\n        if (vditor.ir.element.childNodes.length === 0) {\n            vditor.ir.element.innerHTML = '<p data-block=\"0\"><wbr></p>';\n            (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n        }\n        var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n        if (commandName === \"line\") {\n            if (blockElement) {\n                var hrHTML = '<hr data-block=\"0\"><p data-block=\"0\"><wbr>\\n</p>';\n                if (blockElement.innerHTML.trim() === \"\") {\n                    blockElement.outerHTML = hrHTML;\n                }\n                else {\n                    blockElement.insertAdjacentHTML(\"afterend\", hrHTML);\n                }\n            }\n        }\n        else if (commandName === \"quote\") {\n            if (blockElement) {\n                range.insertNode(document.createElement(\"wbr\"));\n                blockElement.outerHTML = \"<blockquote data-block=\\\"0\\\">\" + blockElement.outerHTML + \"</blockquote>\";\n                useHighlight = false;\n                actionBtn.classList.add(\"vditor-menu--current\");\n            }\n        }\n        else if (commandName === \"link\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = prefix + \"<wbr>\" + suffix;\n            }\n            else {\n                html = \"\" + prefix + range.toString() + suffix.replace(\")\", \"<wbr>)\");\n            }\n            document.execCommand(\"insertHTML\", false, html);\n            useHighlight = false;\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n        else if (commandName === \"italic\" || commandName === \"bold\" || commandName === \"strike\"\n            || commandName === \"inline-code\" || commandName === \"code\" || commandName === \"table\") {\n            var html = void 0;\n            if (range.toString() === \"\") {\n                html = prefix + \"<wbr>\" + suffix;\n            }\n            else {\n                if (commandName === \"code\" || commandName === \"table\") {\n                    html = \"\" + prefix + range.toString() + \"<wbr>\" + suffix;\n                }\n                else {\n                    html = \"\" + prefix + range.toString() + suffix + \"<wbr>\";\n                }\n                range.deleteContents();\n            }\n            if (commandName === \"table\" || commandName === \"code\") {\n                html = \"\\n\" + html + \"\\n\\n\";\n            }\n            var spanElement = document.createElement(\"span\");\n            spanElement.innerHTML = html;\n            range.insertNode(spanElement);\n            input(vditor, range);\n            if (commandName === \"table\") {\n                range.selectNodeContents(getSelection().getRangeAt(0).startContainer.parentElement);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n        }\n        else if (commandName === \"check\" || commandName === \"list\" || commandName === \"ordered-list\") {\n            listToggle(vditor, range, commandName, false);\n            useHighlight = false;\n            removeCurrentToolbar(vditor.toolbar.elements, [\"check\", \"list\", \"ordered-list\"]);\n            actionBtn.classList.add(\"vditor-menu--current\");\n        }\n    }\n    (0,selection/* setRangeByWbr */.ib)(vditor.ir.element, range);\n    process_processAfterRender(vditor);\n    if (useHighlight) {\n        highlightToolbarIR(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/hint/index.ts\n\n\n\n\n\n\n\n\nvar Hint = /** @class */ (function () {\n    function Hint(hintExtends) {\n        var _this = this;\n        this.splitChar = \"\";\n        this.lastIndex = -1;\n        this.fillEmoji = function (element, vditor) {\n            _this.element.style.display = \"none\";\n            var value = decodeURIComponent(element.getAttribute(\"data-value\"));\n            var range = window.getSelection().getRangeAt(0);\n            // 代码提示\n            if (vditor.currentMode === \"ir\") {\n                var preBeforeElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-type\", \"code-block-info\");\n                if (preBeforeElement) {\n                    preBeforeElement.textContent = constants/* Constants.ZWSP */.g.ZWSP + value.trimRight();\n                    range.selectNodeContents(preBeforeElement);\n                    range.collapse(false);\n                    process_processAfterRender(vditor);\n                    preBeforeElement.parentElement.querySelectorAll(\"code\").forEach(function (item) {\n                        item.className = \"language-\" + value.trimRight();\n                    });\n                    processCodeRender(preBeforeElement.parentElement.querySelector(\".vditor-ir__preview\"), vditor);\n                    _this.recentLanguage = value.trimRight();\n                    return;\n                }\n            }\n            if (vditor.currentMode === \"wysiwyg\" && range.startContainer.nodeType !== 3 &&\n                range.startContainer.firstElementChild.classList.contains(\"vditor-input\")) {\n                var inputElement = range.startContainer.firstElementChild;\n                inputElement.value = value.trimRight();\n                range.selectNodeContents(inputElement);\n                range.collapse(false);\n                inputElement.dispatchEvent(new CustomEvent(\"input\"));\n                _this.recentLanguage = value.trimRight();\n                return;\n            }\n            range.setStart(range.startContainer, _this.lastIndex);\n            range.deleteContents();\n            if (vditor.options.hint.parse) {\n                if (vditor.currentMode === \"sv\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorSVDOM(value), vditor);\n                }\n                else if (vditor.currentMode === \"wysiwyg\") {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorDOM(value), vditor);\n                }\n                else {\n                    (0,selection/* insertHTML */.oC)(vditor.lute.SpinVditorIRDOM(value), vditor);\n                }\n            }\n            else {\n                (0,selection/* insertHTML */.oC)(value, vditor);\n            }\n            if (_this.splitChar === \":\" && value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                range.insertNode(document.createTextNode(\" \"));\n            }\n            range.collapse(false);\n            (0,selection/* setSelectionFocus */.Hc)(range);\n            if (vditor.currentMode === \"wysiwyg\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__block\");\n                if (preElement && preElement.lastElementChild.classList.contains(\"vditor-wysiwyg__preview\")) {\n                    preElement.lastElementChild.innerHTML = preElement.firstElementChild.innerHTML;\n                    processCodeRender(preElement.lastElementChild, vditor);\n                }\n            }\n            else if (vditor.currentMode === \"ir\") {\n                var preElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__marker--pre\");\n                if (preElement && preElement.nextElementSibling.classList.contains(\"vditor-ir__preview\")) {\n                    preElement.nextElementSibling.innerHTML = preElement.innerHTML;\n                    processCodeRender(preElement.nextElementSibling, vditor);\n                }\n            }\n            execAfterRender(vditor);\n        };\n        this.timeId = -1;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-hint\";\n        this.recentLanguage = \"\";\n        hintExtends.push({ key: \":\" });\n    }\n    Hint.prototype.render = function (vditor) {\n        var _this = this;\n        if (!window.getSelection().focusNode) {\n            return;\n        }\n        var currentLineValue;\n        var range = getSelection().getRangeAt(0);\n        currentLineValue = range.startContainer.textContent.substring(0, range.startOffset) || \"\";\n        var key = this.getKey(currentLineValue, vditor.options.hint.extend);\n        if (typeof key === \"undefined\") {\n            this.element.style.display = \"none\";\n            clearTimeout(this.timeId);\n        }\n        else {\n            if (this.splitChar === \":\") {\n                var emojiHint_1 = key === \"\" ? vditor.options.hint.emoji : vditor.lute.GetEmojis();\n                var matchEmojiData_1 = [];\n                Object.keys(emojiHint_1).forEach(function (keyName) {\n                    if (keyName.indexOf(key.toLowerCase()) === 0) {\n                        if (emojiHint_1[keyName].indexOf(\".\") > -1) {\n                            matchEmojiData_1.push({\n                                html: \"<img src=\\\"\" + emojiHint_1[keyName] + \"\\\" title=\\\":\" + keyName + \":\\\"/> :\" + keyName + \":\",\n                                value: \":\" + keyName + \":\",\n                            });\n                        }\n                        else {\n                            matchEmojiData_1.push({\n                                html: \"<span class=\\\"vditor-hint__emoji\\\">\" + emojiHint_1[keyName] + \"</span>\" + keyName,\n                                value: emojiHint_1[keyName],\n                            });\n                        }\n                    }\n                });\n                this.genHTML(matchEmojiData_1, key, vditor);\n            }\n            else {\n                vditor.options.hint.extend.forEach(function (item) {\n                    if (item.key === _this.splitChar) {\n                        clearTimeout(_this.timeId);\n                        _this.timeId = window.setTimeout(function () {\n                            _this.genHTML(item.hint(key), key, vditor);\n                        }, vditor.options.hint.delay);\n                    }\n                });\n            }\n        }\n    };\n    Hint.prototype.genHTML = function (data, key, vditor) {\n        var _this = this;\n        if (data.length === 0) {\n            this.element.style.display = \"none\";\n            return;\n        }\n        var editorElement = vditor[vditor.currentMode].element;\n        var textareaPosition = (0,selection/* getCursorPosition */.Ny)(editorElement);\n        var x = textareaPosition.left +\n            (vditor.options.outline.position === \"left\" ? vditor.outline.element.offsetWidth : 0);\n        var y = textareaPosition.top;\n        var hintsHTML = \"\";\n        data.forEach(function (hintData, i) {\n            if (i > 7) {\n                return;\n            }\n            // process high light\n            var html = hintData.html;\n            if (key !== \"\") {\n                var lastIndex = html.lastIndexOf(\">\") + 1;\n                var replaceHtml = html.substr(lastIndex);\n                var replaceIndex = replaceHtml.toLowerCase().indexOf(key.toLowerCase());\n                if (replaceIndex > -1) {\n                    replaceHtml = replaceHtml.substring(0, replaceIndex) + \"<b>\" +\n                        replaceHtml.substring(replaceIndex, replaceIndex + key.length) + \"</b>\" +\n                        replaceHtml.substring(replaceIndex + key.length);\n                    html = html.substr(0, lastIndex) + replaceHtml;\n                }\n            }\n            hintsHTML += \"<button data-value=\\\"\" + encodeURIComponent(hintData.value) + \" \\\"\\n\" + (i === 0 ? \"class='vditor-hint--current'\" : \"\") + \"> \" + html + \"</button>\";\n        });\n        this.element.innerHTML = hintsHTML;\n        var lineHeight = parseInt(document.defaultView.getComputedStyle(editorElement, null)\n            .getPropertyValue(\"line-height\"), 10);\n        this.element.style.top = y + (lineHeight || 22) + \"px\";\n        this.element.style.left = x + \"px\";\n        this.element.style.display = \"block\";\n        this.element.style.right = \"auto\";\n        this.element.querySelectorAll(\"button\").forEach(function (element) {\n            element.addEventListener(\"click\", function (event) {\n                _this.fillEmoji(element, vditor);\n                event.preventDefault();\n            });\n        });\n        // hint 展现在上部\n        if (this.element.getBoundingClientRect().bottom > window.innerHeight) {\n            this.element.style.top = y - this.element.offsetHeight + \"px\";\n        }\n        if (this.element.getBoundingClientRect().right > window.innerWidth) {\n            this.element.style.left = \"auto\";\n            this.element.style.right = \"0\";\n        }\n    };\n    Hint.prototype.select = function (event, vditor) {\n        if (this.element.querySelectorAll(\"button\").length === 0 ||\n            this.element.style.display === \"none\") {\n            return false;\n        }\n        var currentHintElement = this.element.querySelector(\".vditor-hint--current\");\n        if (event.key === \"ArrowDown\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.nextElementSibling) {\n                this.element.children[0].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.nextElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (event.key === \"ArrowUp\") {\n            event.preventDefault();\n            event.stopPropagation();\n            currentHintElement.removeAttribute(\"class\");\n            if (!currentHintElement.previousElementSibling) {\n                var length_1 = this.element.children.length;\n                this.element.children[length_1 - 1].className = \"vditor-hint--current\";\n            }\n            else {\n                currentHintElement.previousElementSibling.className = \"vditor-hint--current\";\n            }\n            return true;\n        }\n        else if (!(0,compatibility/* isCtrl */.yl)(event) && !event.shiftKey && !event.altKey && event.key === \"Enter\" && !event.isComposing) {\n            event.preventDefault();\n            event.stopPropagation();\n            this.fillEmoji(currentHintElement, vditor);\n            return true;\n        }\n        return false;\n    };\n    Hint.prototype.getKey = function (currentLineValue, extend) {\n        var _this = this;\n        this.lastIndex = -1;\n        this.splitChar = \"\";\n        extend.forEach(function (item) {\n            var currentLastIndex = currentLineValue.lastIndexOf(item.key);\n            if (_this.lastIndex < currentLastIndex) {\n                _this.splitChar = item.key;\n                _this.lastIndex = currentLastIndex;\n            }\n        });\n        var key;\n        if (this.lastIndex === -1) {\n            return key;\n        }\n        var lineArray = currentLineValue.split(this.splitChar);\n        var lastItem = lineArray[lineArray.length - 1];\n        var maxLength = 32;\n        if (lineArray.length > 1 && lastItem.trim() === lastItem) {\n            if (lineArray.length === 2 && lineArray[0] === \"\" && lineArray[1].length < maxLength) {\n                key = lineArray[1];\n            }\n            else {\n                var preChar = lineArray[lineArray.length - 2].slice(-1);\n                if ((0,code160to32/* code160to32 */.X)(preChar) === \" \" && lastItem.length < maxLength) {\n                    key = lastItem;\n                }\n            }\n        }\n        return key;\n    };\n    return Hint;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ir/index.ts\n\n\n\n\n\n\n\n\n\n\n\nvar IR = /** @class */ (function () {\n    function IR(vditor) {\n        this.composingLock = false;\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-ir\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\" + vditor.options.placeholder + \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\";\n        this.element = divElement.firstElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    IR.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorIRDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    IR.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input(vditor, getSelection().getRangeAt(0).cloneRange());\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            input(vditor, getSelection().getRangeAt(0).cloneRange(), false, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                if (event.target.checked) {\n                    event.target.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    event.target.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                process_processAfterRender(vditor);\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            // 点击后光标落于预览区\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-ir__preview\");\n            if (!previewElement) {\n                previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            }\n            if (previewElement) {\n                if (previewElement.previousElementSibling.firstElementChild) {\n                    range.selectNodeContents(previewElement.previousElementSibling.firstElementChild);\n                }\n                else {\n                    // 行内数学公式\n                    range.selectNodeContents(previewElement.previousElementSibling);\n                }\n                range.collapse(true);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                scrollCenter(vditor);\n            }\n            // 点击图片光标选中图片地址\n            if (event.target.tagName === \"IMG\") {\n                var linkElement = event.target.parentElement.querySelector(\".vditor-ir__marker--link\");\n                if (linkElement) {\n                    range.selectNode(linkElement);\n                    (0,selection/* setSelectionFocus */.Hc)(range);\n                }\n            }\n            // 打开链接\n            var aElement = (0,hasClosest/* hasClosestByAttribute */.a1)(event.target, \"data-type\", \"a\");\n            if (aElement && (!aElement.classList.contains(\"vditor-ir__node--expand\"))) {\n                window.open(aElement.querySelector(\":scope > .vditor-ir__marker--link\").textContent);\n                return;\n            }\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            if (range.toString() === \"\") {\n                expandMarker(range, vditor);\n            }\n            else {\n                // https://github.com/Vanessa219/vditor/pull/681 当点击选中区域时 eventTarget 与 range 不一致，需延迟等待 range 发生变化\n                setTimeout(function () {\n                    expandMarker((0,selection/* getEditorRange */.zh)(vditor), vditor);\n                });\n            }\n            clickToc(event, vditor);\n            highlightToolbarIR(vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            highlightToolbarIR(vditor);\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.ir.element.innerHTML !== \"\" && vditor.ir.element.childNodes.length === 1 &&\n                vditor.ir.element.firstElementChild && vditor.ir.element.firstElementChild.tagName === \"P\"\n                && vditor.ir.element.firstElementChild.childElementCount === 0\n                && (vditor.ir.element.textContent === \"\" || vditor.ir.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.ir.element.innerHTML = \"\";\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                    expandMarker(range, vditor);\n                }\n                // 数学公式前是空块，空块前是 table，在空块前删除，数学公式会多一个 br\n                _this.element.querySelectorAll(\".language-math\").forEach(function (item) {\n                    var brElement = item.querySelector(\"br\");\n                    if (brElement) {\n                        brElement.remove();\n                    }\n                });\n            }\n            else if (event.key.indexOf(\"Arrow\") > -1) {\n                if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                    processHint(vditor);\n                }\n                expandMarker(range, vditor);\n            }\n            else if (event.keyCode === 229 && event.code === \"\" && event.key === \"Unidentified\") {\n                // https://github.com/Vanessa219/vditor/issues/508 IR 删除到节点需展开\n                expandMarker(range, vditor);\n            }\n            var previewRenderElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-ir__preview\");\n            if (previewRenderElement) {\n                if (event.key === \"ArrowUp\" || event.key === \"ArrowLeft\") {\n                    if (previewRenderElement.previousElementSibling.firstElementChild) {\n                        range.selectNodeContents(previewRenderElement.previousElementSibling.firstElementChild);\n                    }\n                    else {\n                        // 行内数学公式/html entity\n                        range.selectNodeContents(previewRenderElement.previousElementSibling);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n                if (previewRenderElement.tagName === \"SPAN\" &&\n                    (event.key === \"ArrowDown\" || event.key === \"ArrowRight\")) {\n                    if (previewRenderElement.parentElement.getAttribute(\"data-type\") === \"html-entity\") {\n                        // html entity\n                        previewRenderElement.parentElement.insertAdjacentText(\"afterend\", constants/* Constants.ZWSP */.g.ZWSP);\n                        range.setStart(previewRenderElement.parentElement.nextSibling, 1);\n                    }\n                    else {\n                        range.selectNodeContents(previewRenderElement.parentElement.lastElementChild);\n                    }\n                    range.collapse(false);\n                    event.preventDefault();\n                    return true;\n                }\n            }\n        });\n    };\n    return IR;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/markdown/getHTML.ts\n\nvar getHTML = function (vditor) {\n    if (vditor.currentMode === \"sv\") {\n        return vditor.lute.Md2HTML(getMarkdown(vditor));\n    }\n    else if (vditor.currentMode === \"wysiwyg\") {\n        return vditor.lute.VditorDOM2HTML(vditor.wysiwyg.element.innerHTML);\n    }\n    else if (vditor.currentMode === \"ir\") {\n        return vditor.lute.VditorIRDOM2HTML(vditor.ir.element.innerHTML);\n    }\n};\n\n// EXTERNAL MODULE: ./src/ts/markdown/setLute.ts\nvar setLute = __webpack_require__(792);\n// EXTERNAL MODULE: ./src/ts/markdown/outlineRender.ts\nvar outlineRender = __webpack_require__(198);\n;// CONCATENATED MODULE: ./src/ts/outline/index.ts\n\n\n\n\nvar Outline = /** @class */ (function () {\n    function Outline(outlineLabel) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-outline\";\n        this.element.innerHTML = \"<div class=\\\"vditor-outline__title\\\">\" + outlineLabel + \"</div>\\n<div class=\\\"vditor-outline__content\\\"></div>\";\n    }\n    Outline.prototype.render = function (vditor) {\n        var html = \"\";\n        if (vditor.preview.element.style.display === \"block\") {\n            html = (0,outlineRender/* outlineRender */.k)(vditor.preview.element.lastElementChild, this.element.lastElementChild, vditor);\n        }\n        else {\n            html = (0,outlineRender/* outlineRender */.k)(vditor[vditor.currentMode].element, this.element.lastElementChild, vditor);\n        }\n        return html;\n    };\n    Outline.prototype.toggle = function (vditor, show) {\n        var _a;\n        if (show === void 0) { show = true; }\n        var btnElement = (_a = vditor.toolbar.elements.outline) === null || _a === void 0 ? void 0 : _a.firstElementChild;\n        if (show && window.innerWidth >= constants/* Constants.MOBILE_WIDTH */.g.MOBILE_WIDTH) {\n            this.element.style.display = \"block\";\n            this.render(vditor);\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.add(\"vditor-menu--current\");\n        }\n        else {\n            this.element.style.display = \"none\";\n            btnElement === null || btnElement === void 0 ? void 0 : btnElement.classList.remove(\"vditor-menu--current\");\n        }\n        if (getSelection().rangeCount > 0) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                (0,selection/* setSelectionFocus */.Hc)(range);\n            }\n            else {\n                vditor[vditor.currentMode].element.focus();\n            }\n        }\n        setPadding(vditor);\n    };\n    return Outline;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/markdown/mediaRender.ts\nvar mediaRender = __webpack_require__(207);\n;// CONCATENATED MODULE: ./src/ts/preview/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Preview = /** @class */ (function () {\n    function Preview(vditor) {\n        var _this = this;\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-preview\";\n        var previewElement = document.createElement(\"div\");\n        previewElement.className = \"vditor-reset\";\n        if (vditor.options.classes.preview) {\n            previewElement.classList.add(vditor.options.classes.preview);\n        }\n        previewElement.style.maxWidth = vditor.options.preview.maxWidth + \"px\";\n        previewElement.addEventListener(\"copy\", function (event) {\n            if (event.target.tagName === \"TEXTAREA\") {\n                // https://github.com/Vanessa219/vditor/issues/901\n                return;\n            }\n            var tempElement = document.createElement(\"div\");\n            tempElement.className = \"vditor-reset\";\n            tempElement.appendChild(getSelection().getRangeAt(0).cloneContents());\n            _this.copyToX(vditor, tempElement);\n            event.preventDefault();\n        });\n        previewElement.addEventListener(\"click\", function (event) {\n            var spanElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(event.target, \"SPAN\");\n            if (spanElement && (0,hasClosest/* hasClosestByClassName */.fb)(spanElement, \"vditor-toc\")) {\n                var headingElement = previewElement.querySelector(\"#\" + spanElement.getAttribute(\"data-target-id\"));\n                if (headingElement) {\n                    _this.element.scrollTop = headingElement.offsetTop;\n                }\n                return;\n            }\n            if (event.target.tagName === \"IMG\") {\n                (0,preview_image/* previewImage */.E)(event.target, vditor.options.lang, vditor.options.theme);\n            }\n        });\n        var actions = vditor.options.preview.actions;\n        var actionElement = document.createElement(\"div\");\n        actionElement.className = \"vditor-preview__action\";\n        var actionHtml = [];\n        for (var i = 0; i < actions.length; i++) {\n            var action = actions[i];\n            if (typeof action === \"object\") {\n                actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"\" + action.key + \"\\\" class=\\\"\" + action.className + \"\\\"\" + (action.tooltip ? \" aria-label=\\\"\" + action.tooltip + \"\\\"\" : \"\") + \"\\\">\" + action.text + \"</button>\");\n                continue;\n            }\n            switch (action) {\n                case \"desktop\":\n                    actionHtml.push(\"<button type=\\\"button\\\" class=\\\"vditor-preview__action--current\\\" data-type=\\\"desktop\\\">Desktop</button>\");\n                    break;\n                case \"tablet\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"tablet\\\">Tablet</button>\");\n                    break;\n                case \"mobile\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mobile\\\">Mobile/Wechat</button>\");\n                    break;\n                case \"mp-wechat\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"mp-wechat\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u516C\\u4F17\\u53F7\\\"><svg><use xlink:href=\\\"#vditor-icon-mp-wechat\\\"></use></svg></button>\");\n                    break;\n                case \"zhihu\":\n                    actionHtml.push(\"<button type=\\\"button\\\" data-type=\\\"zhihu\\\" class=\\\"vditor-tooltipped vditor-tooltipped__w\\\" aria-label=\\\"\\u590D\\u5236\\u5230\\u77E5\\u4E4E\\\"><svg><use xlink:href=\\\"#vditor-icon-zhihu\\\"></use></svg></button>\");\n                    break;\n            }\n        }\n        actionElement.innerHTML = actionHtml.join(\"\");\n        if (actions.length === 0) {\n            actionElement.style.display = \"none\";\n        }\n        this.element.appendChild(actionElement);\n        this.element.appendChild(previewElement);\n        actionElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btn = (0,hasClosestByHeadings/* hasClosestByTag */.S)(event.target, \"BUTTON\");\n            if (!btn) {\n                return;\n            }\n            var type = btn.getAttribute(\"data-type\");\n            var actionCustom = actions.find(function (w) { return (w === null || w === void 0 ? void 0 : w.key) === type; });\n            if (actionCustom) {\n                actionCustom.click(type);\n                return;\n            }\n            if (type === \"mp-wechat\" || type === \"zhihu\") {\n                _this.copyToX(vditor, _this.element.lastElementChild.cloneNode(true), type);\n                return;\n            }\n            if (type === \"desktop\") {\n                previewElement.style.width = \"auto\";\n            }\n            else if (type === \"tablet\") {\n                previewElement.style.width = \"780px\";\n            }\n            else {\n                previewElement.style.width = \"360px\";\n            }\n            if (previewElement.scrollWidth > previewElement.parentElement.clientWidth) {\n                previewElement.style.width = \"auto\";\n            }\n            _this.render(vditor);\n            actionElement.querySelectorAll(\"button\").forEach(function (item) {\n                item.classList.remove(\"vditor-preview__action--current\");\n            });\n            btn.classList.add(\"vditor-preview__action--current\");\n        });\n    }\n    Preview.prototype.render = function (vditor, value) {\n        var _this = this;\n        clearTimeout(this.mdTimeoutId);\n        if (this.element.style.display === \"none\") {\n            if (this.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n                vditor.tip.hide();\n            }\n            return;\n        }\n        if (value) {\n            this.element.lastElementChild.innerHTML = value;\n            return;\n        }\n        if (getMarkdown(vditor)\n            .replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, \"\") === \"\") {\n            this.element.lastElementChild.innerHTML = \"\";\n            return;\n        }\n        var renderStartTime = new Date().getTime();\n        var markdownText = getMarkdown(vditor);\n        this.mdTimeoutId = window.setTimeout(function () {\n            if (vditor.options.preview.url) {\n                var xhr_1 = new XMLHttpRequest();\n                xhr_1.open(\"POST\", vditor.options.preview.url);\n                xhr_1.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\n                xhr_1.onreadystatechange = function () {\n                    if (xhr_1.readyState === XMLHttpRequest.DONE) {\n                        if (xhr_1.status === 200) {\n                            var responseJSON = JSON.parse(xhr_1.responseText);\n                            if (responseJSON.code !== 0) {\n                                vditor.tip.show(responseJSON.msg);\n                                return;\n                            }\n                            if (vditor.options.preview.transform) {\n                                responseJSON.data = vditor.options.preview.transform(responseJSON.data);\n                            }\n                            _this.element.lastElementChild.innerHTML = responseJSON.data;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                        else {\n                            var html = vditor.lute.Md2HTML(markdownText);\n                            if (vditor.options.preview.transform) {\n                                html = vditor.options.preview.transform(html);\n                            }\n                            _this.element.lastElementChild.innerHTML = html;\n                            _this.afterRender(vditor, renderStartTime);\n                        }\n                    }\n                };\n                xhr_1.send(JSON.stringify({ markdownText: markdownText }));\n            }\n            else {\n                var html = vditor.lute.Md2HTML(markdownText);\n                if (vditor.options.preview.transform) {\n                    html = vditor.options.preview.transform(html);\n                }\n                _this.element.lastElementChild.innerHTML = html;\n                _this.afterRender(vditor, renderStartTime);\n            }\n        }, vditor.options.preview.delay);\n    };\n    Preview.prototype.afterRender = function (vditor, startTime) {\n        if (vditor.options.preview.parse) {\n            vditor.options.preview.parse(this.element);\n        }\n        var time = (new Date().getTime() - startTime);\n        if ((new Date().getTime() - startTime) > 2600) {\n            // https://github.com/b3log/vditor/issues/67\n            vditor.tip.show(window.VditorI18n.performanceTip.replace(\"${x}\", time.toString()));\n            vditor.preview.element.setAttribute(\"data-type\", \"renderPerformance\");\n        }\n        else if (vditor.preview.element.getAttribute(\"data-type\") === \"renderPerformance\") {\n            vditor.tip.hide();\n            vditor.preview.element.removeAttribute(\"data-type\");\n        }\n        var cmtFocusElement = vditor.preview.element.querySelector(\".vditor-comment--focus\");\n        if (cmtFocusElement) {\n            cmtFocusElement.classList.remove(\"vditor-comment--focus\");\n        }\n        (0,codeRender/* codeRender */.O)(vditor.preview.element.lastElementChild);\n        (0,highlightRender/* highlightRender */.s)(vditor.options.preview.hljs, vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,mermaidRender/* mermaidRender */.i)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,flowchartRender/* flowchartRender */.P)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,graphvizRender/* graphvizRender */.v)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,chartRender/* chartRender */.p)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,mindmapRender/* mindmapRender */.P)(vditor.preview.element.lastElementChild, vditor.options.cdn, vditor.options.theme);\n        (0,plantumlRender/* plantumlRender */.B)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,abcRender/* abcRender */.Q)(vditor.preview.element.lastElementChild, vditor.options.cdn);\n        (0,mediaRender/* mediaRender */.Y)(vditor.preview.element.lastElementChild);\n        // toc render\n        var editorElement = vditor.preview.element;\n        var tocHTML = vditor.outline.render(vditor);\n        if (tocHTML === \"\") {\n            tocHTML = \"[ToC]\";\n        }\n        editorElement.querySelectorAll('[data-type=\"toc-block\"]').forEach(function (item) {\n            item.innerHTML = tocHTML;\n            (0,mathRender/* mathRender */.H)(item, {\n                cdn: vditor.options.cdn,\n                math: vditor.options.preview.math,\n            });\n        });\n        (0,mathRender/* mathRender */.H)(vditor.preview.element.lastElementChild, {\n            cdn: vditor.options.cdn,\n            math: vditor.options.preview.math,\n        });\n    };\n    Preview.prototype.copyToX = function (vditor, copyElement, type) {\n        if (type === void 0) { type = \"mp-wechat\"; }\n        // fix math render\n        if (type !== \"zhihu\") {\n            copyElement.querySelectorAll(\".katex-html .base\").forEach(function (item) {\n                item.style.display = \"initial\";\n            });\n        }\n        else {\n            copyElement.querySelectorAll(\".language-math\").forEach(function (item) {\n                item.outerHTML = \"<img class=\\\"Formula-image\\\" data-eeimg=\\\"true\\\" src=\\\"//www.zhihu.com/equation?tex=\\\" alt=\\\"\" + item.getAttribute(\"data-math\") + \"\\\\\\\" style=\\\"display: block; margin: 0 auto; max-width: 100%;\\\">\";\n            });\n        }\n        // 防止背景色被粘贴到公众号中\n        copyElement.style.backgroundColor = \"#fff\";\n        // 代码背景\n        copyElement.querySelectorAll(\"code\").forEach(function (item) {\n            item.style.backgroundImage = \"none\";\n        });\n        this.element.append(copyElement);\n        var range = copyElement.ownerDocument.createRange();\n        range.selectNode(copyElement);\n        (0,selection/* setSelectionFocus */.Hc)(range);\n        document.execCommand(\"copy\");\n        this.element.lastElementChild.remove();\n        vditor.tip.show(\"\\u5DF2\\u590D\\u5236\\uFF0C\\u53EF\\u5230\" + (type === \"zhihu\" ? \"知乎\" : \"微信公众号平台\") + \"\\u8FDB\\u884C\\u7C98\\u8D34\");\n    };\n    return Preview;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/resize/index.ts\nvar Resize = /** @class */ (function () {\n    function Resize(vditor) {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-resize vditor-resize--\" + vditor.options.resize.position;\n        this.element.innerHTML = \"<div><svg><use xlink:href=\\\"#vditor-icon-resize\\\"></use></svg></div>\";\n        this.bindEvent(vditor);\n    }\n    Resize.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"mousedown\", function (event) {\n            var documentSelf = document;\n            var y = event.clientY;\n            var height = vditor.element.offsetHeight;\n            var minHeight = 63 + vditor.element.querySelector(\".vditor-toolbar\").clientHeight;\n            documentSelf.ondragstart = function () { return false; };\n            if (window.captureEvents) {\n                window.captureEvents();\n            }\n            _this.element.classList.add(\"vditor-resize--selected\");\n            documentSelf.onmousemove = function (moveEvent) {\n                if (vditor.options.resize.position === \"top\") {\n                    vditor.element.style.height = Math.max(minHeight, height + (y - moveEvent.clientY)) + \"px\";\n                }\n                else {\n                    vditor.element.style.height = Math.max(minHeight, height + (moveEvent.clientY - y)) + \"px\";\n                }\n                if (vditor.options.typewriterMode) {\n                    vditor.sv.element.style.paddingBottom =\n                        vditor.sv.element.parentElement.offsetHeight / 2 + \"px\";\n                }\n            };\n            documentSelf.onmouseup = function () {\n                if (vditor.options.resize.after) {\n                    vditor.options.resize.after(vditor.element.offsetHeight - height);\n                }\n                if (window.captureEvents) {\n                    window.captureEvents();\n                }\n                documentSelf.onmousemove = null;\n                documentSelf.onmouseup = null;\n                documentSelf.ondragstart = null;\n                documentSelf.onselectstart = null;\n                documentSelf.onselect = null;\n                _this.element.classList.remove(\"vditor-resize--selected\");\n            };\n        });\n    };\n    return Resize;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/sv/index.ts\n\n\n\n\n\nvar Editor = /** @class */ (function () {\n    function Editor(vditor) {\n        this.composingLock = false;\n        this.element = document.createElement(\"pre\");\n        this.element.className = \"vditor-sv vditor-reset\";\n        this.element.setAttribute(\"placeholder\", vditor.options.placeholder);\n        this.element.setAttribute(\"contenteditable\", \"true\");\n        this.element.setAttribute(\"spellcheck\", \"false\");\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n    }\n    Editor.prototype.copy = function (event, vditor) {\n        event.stopPropagation();\n        event.preventDefault();\n        event.clipboardData.setData(\"text/plain\", getSelectText(vditor[vditor.currentMode].element));\n    };\n    Editor.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    document.execCommand(\"insertHTML\", false, code);\n                },\n            });\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            if (vditor.preview.element.style.display !== \"block\") {\n                return;\n            }\n            var textScrollTop = _this.element.scrollTop;\n            var textHeight = _this.element.clientHeight;\n            var textScrollHeight = _this.element.scrollHeight - parseFloat(_this.element.style.paddingBottom || \"0\");\n            var preview = vditor.preview.element;\n            if ((textScrollTop / textHeight > 0.5)) {\n                preview.scrollTop = (textScrollTop + textHeight) *\n                    preview.scrollHeight / textScrollHeight - textHeight;\n            }\n            else {\n                preview.scrollTop = textScrollTop *\n                    preview.scrollHeight / textScrollHeight;\n            }\n        });\n        this.element.addEventListener(\"compositionstart\", function (event) {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                inputEvent(vditor, event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            inputEvent(vditor, event);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.sv.element.innerHTML !== \"\" && vditor.sv.element.childNodes.length === 1 &&\n                vditor.sv.element.firstElementChild && vditor.sv.element.firstElementChild.tagName === \"DIV\"\n                && vditor.sv.element.firstElementChild.childElementCount === 2\n                && (vditor.sv.element.firstElementChild.textContent === \"\" || vditor.sv.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.sv.element.innerHTML = \"\";\n                return;\n            }\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n        });\n    };\n    return Editor;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/tip/index.ts\nvar Tip = /** @class */ (function () {\n    function Tip() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-tip\";\n    }\n    Tip.prototype.show = function (text, time) {\n        var _this = this;\n        if (time === void 0) { time = 6000; }\n        this.element.className = \"vditor-tip vditor-tip--show\";\n        if (time === 0) {\n            this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\" + text + \"\\n<div class=\\\"vditor-tip__close\\\">X</div></div>\";\n            this.element.querySelector(\".vditor-tip__close\").addEventListener(\"click\", function () {\n                _this.hide();\n            });\n            return;\n        }\n        this.element.innerHTML = \"<div class=\\\"vditor-tip__content\\\">\" + text + \"</div>\";\n        setTimeout(function () {\n            _this.hide();\n        }, time);\n    };\n    Tip.prototype.hide = function () {\n        this.element.className = \"vditor-messageElementtip\";\n        this.element.innerHTML = \"\";\n    };\n    return Tip;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/ui/setPreviewMode.ts\n\n\nvar setPreviewMode = function (mode, vditor) {\n    if (vditor.options.preview.mode === mode) {\n        return;\n    }\n    vditor.options.preview.mode = mode;\n    switch (mode) {\n        case \"both\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"block\";\n            vditor.preview.render(vditor);\n            setCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        case \"editor\":\n            vditor.sv.element.style.display = \"block\";\n            vditor.preview.element.style.display = \"none\";\n            removeCurrentToolbar(vditor.toolbar.elements, [\"both\"]);\n            break;\n        default:\n            break;\n    }\n    if (vditor.devtools) {\n        vditor.devtools.renderEchart(vditor);\n    }\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Both.ts\nvar Both_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Both = /** @class */ (function (_super) {\n    Both_extends(Both, _super);\n    function Both(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.preview.mode === \"both\") {\n            _this.element.children[0].classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (vditor.currentMode !== \"sv\") {\n                return;\n            }\n            if (vditor.options.preview.mode === \"both\") {\n                setPreviewMode(\"editor\", vditor);\n            }\n            else {\n                setPreviewMode(\"both\", vditor);\n            }\n        });\n        return _this;\n    }\n    return Both;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Br.ts\nvar Br = /** @class */ (function () {\n    function Br() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__br\";\n    }\n    return Br;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/ui/setCodeTheme.ts\nvar setCodeTheme = __webpack_require__(968);\n;// CONCATENATED MODULE: ./src/ts/toolbar/CodeTheme.ts\nvar CodeTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar CodeTheme = /** @class */ (function (_super) {\n    CodeTheme_extends(CodeTheme, _super);\n    function CodeTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        constants/* Constants.CODE_THEME.forEach */.g.CODE_THEME.forEach(function (theme) {\n            innerHTML += \"<button>\" + theme + \"</button>\";\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\" + window.innerHeight / 2 + \"px\\\">\" + innerHTML + \"</div>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.hljs.style = event.target.textContent;\n                (0,setCodeTheme/* setCodeTheme */.Y)(event.target.textContent, vditor.options.cdn);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return CodeTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/ContentTheme.ts\nvar ContentTheme_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar ContentTheme = /** @class */ (function (_super) {\n    ContentTheme_extends(ContentTheme, _super);\n    function ContentTheme(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        var innerHTML = \"\";\n        Object.keys(vditor.options.preview.theme.list).forEach(function (key) {\n            innerHTML += \"<button data-type=\\\"\" + key + \"\\\">\" + vditor.options.preview.theme.list[key] + \"</button>\";\n        });\n        panelElement.innerHTML =\n            \"<div style=\\\"overflow: auto;max-height:\" + window.innerHeight / 2 + \"px\\\">\" + innerHTML + \"</div>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (event.target.tagName === \"BUTTON\") {\n                hidePanel(vditor, [\"subToolbar\"]);\n                vditor.options.preview.theme.current = event.target.getAttribute(\"data-type\");\n                (0,setContentTheme/* setContentTheme */.Z)(vditor.options.preview.theme.current, vditor.options.preview.theme.path);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return ContentTheme;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Counter.ts\nvar Counter = /** @class */ (function () {\n    function Counter(vditor) {\n        this.element = document.createElement(\"span\");\n        this.element.className = \"vditor-counter vditor-tooltipped vditor-tooltipped__nw\";\n        this.render(vditor, \"\");\n    }\n    Counter.prototype.render = function (vditor, mdText) {\n        var length = mdText.endsWith(\"\\n\") ? mdText.length - 1 : mdText.length;\n        if (vditor.options.counter.type === \"text\" && vditor[vditor.currentMode]) {\n            var tempElement = vditor[vditor.currentMode].element.cloneNode(true);\n            tempElement.querySelectorAll(\".vditor-wysiwyg__preview\").forEach(function (item) {\n                item.remove();\n            });\n            length = tempElement.textContent.length;\n        }\n        if (typeof vditor.options.counter.max === \"number\") {\n            if (length > vditor.options.counter.max) {\n                this.element.className = \"vditor-counter vditor-counter--error\";\n            }\n            else {\n                this.element.className = \"vditor-counter\";\n            }\n            this.element.innerHTML = length + \"/\" + vditor.options.counter.max;\n        }\n        else {\n            this.element.innerHTML = \"\" + length;\n        }\n        this.element.setAttribute(\"aria-label\", vditor.options.counter.type);\n        if (vditor.options.counter.after) {\n            vditor.options.counter.after(length, {\n                enable: vditor.options.counter.enable,\n                max: vditor.options.counter.max,\n                type: vditor.options.counter.type,\n            });\n        }\n    };\n    return Counter;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Custom.ts\nvar Custom_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Custom = /** @class */ (function (_super) {\n    Custom_extends(Custom, _super);\n    function Custom(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].innerHTML = menuItem.icon;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (event.currentTarget.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            menuItem.click(event, vditor);\n        });\n        return _this;\n    }\n    return Custom;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Devtools.ts\nvar Devtools_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Devtools = /** @class */ (function (_super) {\n    Devtools_extends(Devtools, _super);\n    function Devtools(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.firstElementChild.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            event.preventDefault();\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"none\";\n                setPadding(vditor);\n            }\n            else {\n                btnElement.classList.add(\"vditor-menu--current\");\n                vditor.devtools.element.style.display = \"block\";\n                setPadding(vditor);\n                vditor.devtools.renderEchart(vditor);\n            }\n        });\n        return _this;\n    }\n    return Devtools;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Divider.ts\nvar Divider = /** @class */ (function () {\n    function Divider() {\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar__divider\";\n    }\n    return Divider;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Emoji.ts\nvar Emoji_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Emoji = /** @class */ (function (_super) {\n    Emoji_extends(Emoji, _super);\n    function Emoji(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-panel vditor-panel--arrow\";\n        var commonEmojiHTML = \"\";\n        Object.keys(vditor.options.hint.emoji).forEach(function (key) {\n            var emojiValue = vditor.options.hint.emoji[key];\n            if (emojiValue.indexOf(\".\") > -1) {\n                commonEmojiHTML += \"<button data-value=\\\":\" + key + \": \\\" data-key=\\\":\" + key + \":\\\"><img\\ndata-value=\\\":\" + key + \": \\\" data-key=\\\":\" + key + \":\\\" class=\\\"vditor-emojis__icon\\\" src=\\\"\" + emojiValue + \"\\\"/></button>\";\n            }\n            else {\n                commonEmojiHTML += \"<button data-value=\\\"\" + emojiValue + \" \\\"\\n data-key=\\\"\" + key + \"\\\"><span class=\\\"vditor-emojis__icon\\\">\" + emojiValue + \"</span></button>\";\n            }\n        });\n        var tailHTML = \"<div class=\\\"vditor-emojis__tail\\\">\\n    <span class=\\\"vditor-emojis__tip\\\"></span><span>\" + (vditor.options.hint.emojiTail || \"\") + \"</span>\\n</div>\";\n        panelElement.innerHTML = \"<div class=\\\"vditor-emojis\\\" style=\\\"max-height: \" + (vditor.options.height === \"auto\" ? \"auto\" : vditor.options.height - 80) + \"px\\\">\" + commonEmojiHTML + \"</div>\" + tailHTML;\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, _this.element.children[0], menuItem.level);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Emoji.prototype._bindEvent = function (vditor, panelElement) {\n        panelElement.querySelectorAll(\".vditor-emojis button\").forEach(function (element) {\n            element.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                var value = element.getAttribute(\"data-value\");\n                var range = (0,selection/* getEditorRange */.zh)(vditor);\n                var html = value;\n                if (vditor.currentMode === \"wysiwyg\") {\n                    html = vditor.lute.SpinVditorDOM(value);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    html = vditor.lute.SpinVditorIRDOM(value);\n                }\n                if (value.indexOf(\":\") > -1 && vditor.currentMode !== \"sv\") {\n                    var tempElement = document.createElement(\"div\");\n                    tempElement.innerHTML = html;\n                    html = tempElement.firstElementChild.firstElementChild.outerHTML + \" \";\n                    (0,selection/* insertHTML */.oC)(html, vditor);\n                }\n                else {\n                    range.extractContents();\n                    range.insertNode(document.createTextNode(value));\n                }\n                range.collapse(false);\n                (0,selection/* setSelectionFocus */.Hc)(range);\n                panelElement.style.display = \"none\";\n                execAfterRender(vditor);\n            });\n            element.addEventListener(\"mouseover\", function (event) {\n                if (event.target.tagName === \"BUTTON\") {\n                    panelElement.querySelector(\".vditor-emojis__tip\").innerHTML =\n                        event.target.getAttribute(\"data-key\");\n                }\n            });\n        });\n    };\n    return Emoji;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/export/index.ts\n\n\nvar download = function (vditor, content, filename) {\n    var aElement = document.createElement(\"a\");\n    if (\"download\" in aElement) {\n        aElement.download = filename;\n        aElement.style.display = \"none\";\n        aElement.href = URL.createObjectURL(new Blob([content]));\n        document.body.appendChild(aElement);\n        aElement.click();\n        aElement.remove();\n    }\n    else {\n        vditor.tip.show(window.VditorI18n.downloadTip, 0);\n    }\n};\nvar exportMarkdown = function (vditor) {\n    var content = getMarkdown(vditor);\n    download(vditor, content, content.substr(0, 10) + \".md\");\n};\nvar exportPDF = function (vditor) {\n    vditor.tip.show(window.VditorI18n.generate, 3800);\n    var iframe = document.querySelector(\"iframe\");\n    iframe.contentDocument.open();\n    iframe.contentDocument.write(\"<link rel=\\\"stylesheet\\\" href=\\\"\" + vditor.options.cdn + \"/dist/index.css\\\"/>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/method.min.js\\\"></script>\\n<div id=\\\"preview\\\"></div>\\n<script>\\nwindow.addEventListener(\\\"message\\\", (e) => {\\n  if(!e.data) {\\n    return;\\n  }\\n  Vditor.preview(document.getElementById('preview'), e.data, {\\n    markdown: {\\n      theme: \\\"\" + vditor.options.preview.theme + \"\\\"\\n    },\\n    hljs: {\\n      style: \\\"\" + vditor.options.preview.hljs.style + \"\\\"\\n    }\\n  });\\n  setTimeout(() => {\\n        window.print();\\n    }, 3600);\\n}, false);\\n</script>\");\n    iframe.contentDocument.close();\n    setTimeout(function () {\n        iframe.contentWindow.postMessage(getMarkdown(vditor), \"*\");\n    }, 200);\n};\nvar exportHTML = function (vditor) {\n    var content = getHTML(vditor);\n    var html = \"<html><head><link rel=\\\"stylesheet\\\" type=\\\"text/css\\\" href=\\\"\" + vditor.options.cdn + \"/dist/index.css\\\"/>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/js/i18n/\" + vditor.options.lang + \".js\\\"></script>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/method.min.js\\\"></script></head>\\n<body><div class=\\\"vditor-reset\\\" id=\\\"preview\\\">\" + content + \"</div>\\n<script>\\n    const previewElement = document.getElementById('preview')\\n    Vditor.setContentTheme('\" + vditor.options.preview.theme.current + \"', '\" + vditor.options.preview.theme.path + \"');\\n    Vditor.codeRender(previewElement);\\n    Vditor.highlightRender(\" + JSON.stringify(vditor.options.preview.hljs) + \", previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.mathRender(previewElement, {\\n        cdn: '\" + vditor.options.cdn + \"',\\n        math: \" + JSON.stringify(vditor.options.preview.math) + \",\\n    });\\n    Vditor.mermaidRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.flowchartRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.graphvizRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.chartRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.mindmapRender(previewElement, '\" + vditor.options.cdn + \"', '\" + vditor.options.theme + \"');\\n    Vditor.abcRender(previewElement, '\" + vditor.options.cdn + \"');\\n    Vditor.mediaRender(previewElement);\\n    Vditor.speechRender(previewElement);\\n</script>\\n<script src=\\\"\" + vditor.options.cdn + \"/dist/js/icons/\" + vditor.options.icon + \".js\\\"></script></body></html>\";\n    download(vditor, html, content.substr(0, 10) + \".html\");\n};\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Export.ts\nvar Export_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Export = /** @class */ (function (_super) {\n    Export_extends(Export, _super);\n    function Export(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var actionBtn = _this.element.children[0];\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint\" + (menuItem.level === 2 ? \"\" : \" vditor-panel--arrow\");\n        panelElement.innerHTML = \"<button data-type=\\\"markdown\\\">Markdown</button>\\n<button data-type=\\\"pdf\\\">PDF</button>\\n<button data-type=\\\"html\\\">HTML</button>\";\n        panelElement.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            var btnElement = event.target;\n            if (btnElement.tagName === \"BUTTON\") {\n                switch (btnElement.getAttribute(\"data-type\")) {\n                    case \"markdown\":\n                        exportMarkdown(vditor);\n                        break;\n                    case \"pdf\":\n                        exportPDF(vditor);\n                        break;\n                    case \"html\":\n                        exportHTML(vditor);\n                        break;\n                    default:\n                        break;\n                }\n                hidePanel(vditor, [\"subToolbar\"]);\n                event.preventDefault();\n                event.stopPropagation();\n            }\n        });\n        _this.element.appendChild(panelElement);\n        toggleSubMenu(vditor, panelElement, actionBtn, menuItem.level);\n        return _this;\n    }\n    return Export;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Fullscreen.ts\nvar Fullscreen_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Fullscreen = /** @class */ (function (_super) {\n    Fullscreen_extends(Fullscreen, _super);\n    function Fullscreen(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor, menuItem);\n        return _this;\n    }\n    Fullscreen.prototype._bindEvent = function (vditor, menuItem) {\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (vditor.element.className.includes(\"vditor--fullscreen\")) {\n                if (!menuItem.level) {\n                    this.innerHTML = menuItem.icon;\n                }\n                vditor.element.style.zIndex = \"\";\n                document.body.style.overflow = \"\";\n                vditor.element.classList.remove(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__s\", \"__n\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__s\", \"__n\");\n                }\n            }\n            else {\n                if (!menuItem.level) {\n                    this.innerHTML = '<svg><use xlink:href=\"#vditor-icon-contract\"></use></svg>';\n                }\n                vditor.element.style.zIndex = vditor.options.fullscreen.index.toString();\n                document.body.style.overflow = \"hidden\";\n                vditor.element.classList.add(\"vditor--fullscreen\");\n                Object.keys(vditor.toolbar.elements).forEach(function (key) {\n                    var svgElement = vditor.toolbar.elements[key].firstChild;\n                    if (svgElement) {\n                        svgElement.className = svgElement.className.replace(\"__n\", \"__s\");\n                    }\n                });\n                if (vditor.counter) {\n                    vditor.counter.element.className = vditor.counter.element.className.replace(\"__n\", \"__s\");\n                }\n            }\n            if (vditor.devtools) {\n                vditor.devtools.renderEchart(vditor);\n            }\n            if (menuItem.click) {\n                menuItem.click(event, vditor);\n            }\n            setPadding(vditor);\n            setTypewriterPosition(vditor);\n        });\n    };\n    return Fullscreen;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Headings.ts\nvar Headings_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\nvar Headings = /** @class */ (function (_super) {\n    Headings_extends(Headings, _super);\n    function Headings(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var panelElement = document.createElement(\"div\");\n        panelElement.className = \"vditor-hint vditor-panel--arrow\";\n        panelElement.innerHTML = \"<button data-tag=\\\"h1\\\" data-value=\\\"# \\\">\" + window.VditorI18n.heading1 + \" \" + (0,compatibility/* updateHotkeyTip */.ns)(\"&lt;⌥⌘1>\") + \"</button>\\n<button data-tag=\\\"h2\\\" data-value=\\\"## \\\">\" + window.VditorI18n.heading2 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘2\") + \"></button>\\n<button data-tag=\\\"h3\\\" data-value=\\\"### \\\">\" + window.VditorI18n.heading3 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘3\") + \"></button>\\n<button data-tag=\\\"h4\\\" data-value=\\\"#### \\\">\" + window.VditorI18n.heading4 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘4\") + \"></button>\\n<button data-tag=\\\"h5\\\" data-value=\\\"##### \\\">\" + window.VditorI18n.heading5 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘5\") + \"></button>\\n<button data-tag=\\\"h6\\\" data-value=\\\"###### \\\">\" + window.VditorI18n.heading6 + \" &lt;\" + (0,compatibility/* updateHotkeyTip */.ns)(\"⌥⌘6\") + \"></button>\";\n        _this.element.appendChild(panelElement);\n        _this._bindEvent(vditor, panelElement);\n        return _this;\n    }\n    Headings.prototype._bindEvent = function (vditor, panelElement) {\n        var actionBtn = this.element.children[0];\n        actionBtn.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (actionBtn.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            actionBtn.blur();\n            if (actionBtn.classList.contains(\"vditor-menu--current\")) {\n                if (vditor.currentMode === \"wysiwyg\") {\n                    removeHeading(vditor);\n                    afterRenderEvent(vditor);\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, \"\");\n                }\n                actionBtn.classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                hidePanel(vditor, [\"subToolbar\"]);\n                panelElement.style.display = \"block\";\n            }\n        });\n        for (var i = 0; i < 6; i++) {\n            panelElement.children.item(i).addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                event.preventDefault();\n                if (vditor.currentMode === \"wysiwyg\") {\n                    setHeading(vditor, event.target.getAttribute(\"data-tag\"));\n                    afterRenderEvent(vditor);\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else if (vditor.currentMode === \"ir\") {\n                    process_processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                    actionBtn.classList.add(\"vditor-menu--current\");\n                }\n                else {\n                    processHeading(vditor, event.target.getAttribute(\"data-value\"));\n                }\n                panelElement.style.display = \"none\";\n            });\n        }\n    };\n    return Headings;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Help.ts\nvar Help_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar Help = /** @class */ (function (_super) {\n    Help_extends(Help, _super);\n    function Help(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"margin-bottom:14px;font-size: 14px;line-height: 22px;min-width:300px;max-width: 360px;display: flex;\\\">\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Markdown \\u4F7F\\u7528\\u6307\\u5357</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://ld246.com/article/1583308420519\\\" target=\\\"_blank\\\">\\u8BED\\u6CD5\\u901F\\u67E5\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583129520165\\\" target=\\\"_blank\\\">\\u57FA\\u7840\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1583305480675\\\" target=\\\"_blank\\\">\\u6269\\u5C55\\u8BED\\u6CD5</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1582778815353\\\" target=\\\"_blank\\\">\\u952E\\u76D8\\u5FEB\\u6377\\u952E</a></li>\\n    </ul>\\n</div>\\n<div style=\\\"margin-top: 14px;flex: 1\\\">\\n    <div>Vditor \\u652F\\u6301</div>\\n    <ul style=\\\"list-style: none\\\">\\n        <li><a href=\\\"https://github.com/Vanessa219/vditor/issues\\\" target=\\\"_blank\\\">Issues</a></li>\\n        <li><a href=\\\"https://ld246.com/tag/vditor\\\" target=\\\"_blank\\\">\\u5B98\\u65B9\\u8BA8\\u8BBA\\u533A</a></li>\\n        <li><a href=\\\"https://ld246.com/article/1549638745630\\\" target=\\\"_blank\\\">\\u5F00\\u53D1\\u624B\\u518C</a></li>\\n        <li><a href=\\\"https://ld246.com/guide/markdown\\\" target=\\\"_blank\\\">\\u6F14\\u793A\\u5730\\u5740</a></li>\\n    </ul>\\n</div></div>\", 0);\n        });\n        return _this;\n    }\n    return Help;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Indent.ts\nvar Indent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Indent = /** @class */ (function (_super) {\n    Indent_extends(Indent, _super);\n    function Indent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listIndent(vditor, liElement, range);\n            }\n        });\n        return _this;\n    }\n    return Indent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Info.ts\nvar Info_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Info = /** @class */ (function (_super) {\n    Info_extends(Info, _super);\n    function Info(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            vditor.tip.show(\"<div style=\\\"max-width: 520px; font-size: 14px;line-height: 22px;margin-bottom: 14px;\\\">\\n<p style=\\\"text-align: center;margin: 14px 0\\\">\\n    <em>\\u4E0B\\u4E00\\u4EE3\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u4E3A\\u672A\\u6765\\u800C\\u6784\\u5EFA</em>\\n</p>\\n<div style=\\\"display: flex;margin-bottom: 14px;flex-wrap: wrap;align-items: center\\\">\\n    <img src=\\\"https://cdn.jsdelivr.net/npm/vditor/src/assets/images/logo.png\\\" style=\\\"margin: 0 auto;height: 68px\\\"/>\\n    <div>&nbsp;&nbsp;</div>\\n    <div style=\\\"flex: 1;min-width: 250px\\\">\\n        Vditor \\u662F\\u4E00\\u6B3E\\u6D4F\\u89C8\\u5668\\u7AEF\\u7684 Markdown \\u7F16\\u8F91\\u5668\\uFF0C\\u652F\\u6301\\u6240\\u89C1\\u5373\\u6240\\u5F97\\u3001\\u5373\\u65F6\\u6E32\\u67D3\\uFF08\\u7C7B\\u4F3C Typora\\uFF09\\u548C\\u5206\\u5C4F\\u9884\\u89C8\\u6A21\\u5F0F\\u3002\\n        \\u5B83\\u4F7F\\u7528 TypeScript \\u5B9E\\u73B0\\uFF0C\\u652F\\u6301\\u539F\\u751F JavaScript\\u3001Vue\\u3001React\\u3001Angular\\uFF0C\\u63D0\\u4F9B<a target=\\\"_blank\\\" href=\\\"https://b3log.org/siyuan\\\">\\u684C\\u9762\\u7248</a>\\u3002\\n    </div>\\n</div>\\n<div style=\\\"display: flex;flex-wrap: wrap;\\\">\\n    <ul style=\\\"list-style: none;flex: 1;min-width:148px\\\">\\n        <li>\\n        \\u9879\\u76EE\\u5730\\u5740\\uFF1A<a href=\\\"https://b3log.org/vditor\\\" target=\\\"_blank\\\">b3log.org/vditor</a>\\n        </li>\\n        <li>\\n        \\u5F00\\u6E90\\u534F\\u8BAE\\uFF1AMIT\\n        </li>\\n    </ul>\\n    <ul style=\\\"list-style: none;margin-right: 18px\\\">\\n        <li>\\n        \\u7EC4\\u4EF6\\u7248\\u672C\\uFF1AVditor v\" + constants/* VDITOR_VERSION */.H + \" / Lute v\" + Lute.Version + \"\\n        </li>\\n        <li>\\n        \\u8D5E\\u52A9\\u6350\\u8D60\\uFF1A<a href=\\\"https://ld246.com/sponsor\\\" target=\\\"_blank\\\">https://ld246.com/sponsor</a>\\n        </li>\\n    </ul>\\n</div>\\n</div>\", 0);\n        });\n        return _this;\n    }\n    return Info;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertAfter.ts\nvar InsertAfter_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertAfter = /** @class */ (function (_super) {\n    InsertAfter_extends(InsertAfter, _super);\n    function InsertAfter(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"afterend\");\n        });\n        return _this;\n    }\n    return InsertAfter;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/InsertBefore.ts\nvar InsertBefore_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar InsertBefore = /** @class */ (function (_super) {\n    InsertBefore_extends(InsertBefore, _super);\n    function InsertBefore(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            insertEmptyBlock(vditor, \"beforebegin\");\n        });\n        return _this;\n    }\n    return InsertBefore;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outdent.ts\nvar Outdent_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\nvar Outdent = /** @class */ (function (_super) {\n    Outdent_extends(Outdent, _super);\n    function Outdent(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED) ||\n                vditor.currentMode === \"sv\") {\n                return;\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            var liElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"LI\");\n            if (liElement) {\n                listOutdent(vditor, liElement, range, liElement.parentElement);\n            }\n        });\n        return _this;\n    }\n    return Outdent;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Outline.ts\nvar Outline_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\nvar Outline_Outline = /** @class */ (function (_super) {\n    Outline_extends(Outline, _super);\n    function Outline(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        if (vditor.options.outline) {\n            _this.element.firstElementChild.classList.add(\"vditor-menu--current\");\n        }\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = vditor.toolbar.elements.outline.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.options.outline.enable = !_this.element.firstElementChild.classList.contains(\"vditor-menu--current\");\n            vditor.outline.toggle(vditor, vditor.options.outline.enable);\n        });\n        return _this;\n    }\n    return Outline;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Preview.ts\nvar Preview_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Preview_Preview = /** @class */ (function (_super) {\n    Preview_extends(Preview, _super);\n    function Preview(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Preview.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            var btnElement = _this.element.firstElementChild;\n            if (btnElement.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var toolbars = constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"both\", \"edit-mode\", \"devtools\"]);\n            if (btnElement.classList.contains(\"vditor-menu--current\")) {\n                btnElement.classList.remove(\"vditor-menu--current\");\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"block\";\n                    if (vditor.options.preview.mode === \"both\") {\n                        vditor.preview.element.style.display = \"block\";\n                    }\n                    else {\n                        vditor.preview.element.style.display = \"none\";\n                    }\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"block\";\n                    vditor.preview.element.style.display = \"none\";\n                }\n                enableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.outline.render(vditor);\n            }\n            else {\n                disableToolbar(vditor.toolbar.elements, toolbars);\n                vditor.preview.element.style.display = \"block\";\n                if (vditor.currentMode === \"sv\") {\n                    vditor.sv.element.style.display = \"none\";\n                }\n                else {\n                    vditor[vditor.currentMode].element.parentElement.style.display = \"none\";\n                }\n                vditor.preview.render(vditor);\n                btnElement.classList.add(\"vditor-menu--current\");\n                hidePanel(vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n                setTimeout(function () {\n                    vditor.outline.render(vditor);\n                }, vditor.options.preview.delay + 10);\n            }\n            setPadding(vditor);\n        });\n    };\n    return Preview;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/util/RecordMedia.ts\nvar RecordMedia = /** @class */ (function () {\n    function RecordMedia(e) {\n        this.SAMPLE_RATE = 5000; // 44100 suggested by demos;\n        this.isRecording = false;\n        this.readyFlag = false;\n        this.leftChannel = [];\n        this.rightChannel = [];\n        this.recordingLength = 0;\n        var context;\n        // creates the audio context\n        if (typeof AudioContext !== \"undefined\") {\n            context = new AudioContext();\n        }\n        else if (webkitAudioContext) {\n            context = new webkitAudioContext();\n        }\n        else {\n            return;\n        }\n        this.DEFAULT_SAMPLE_RATE = context.sampleRate;\n        // creates a gain node\n        var volume = context.createGain();\n        // creates an audio node from the microphone incoming stream\n        var audioInput = context.createMediaStreamSource(e);\n        // connect the stream to the gain node\n        audioInput.connect(volume);\n        /* From the spec: The size of the buffer controls how frequently the audioprocess event is\n         dispatched and how many sample-frames need to be processed each call.\n         Lower values for buffer size will result in a lower (better) latency.\n         Higher values will be necessary to avoid audio breakup and glitches */\n        this.recorder = context.createScriptProcessor(2048, 2, 1);\n        // The onaudioprocess event needs to be defined externally, so make sure it is not set:\n        this.recorder.onaudioprocess = null;\n        // we connect the recorder\n        volume.connect(this.recorder);\n        this.recorder.connect(context.destination);\n        this.readyFlag = true;\n    }\n    // Publicly accessible methods:\n    RecordMedia.prototype.cloneChannelData = function (leftChannelData, rightChannelData) {\n        this.leftChannel.push(new Float32Array(leftChannelData));\n        this.rightChannel.push(new Float32Array(rightChannelData));\n        this.recordingLength += 2048;\n    };\n    RecordMedia.prototype.startRecordingNewWavFile = function () {\n        if (this.readyFlag) {\n            this.isRecording = true;\n            this.leftChannel.length = this.rightChannel.length = 0;\n            this.recordingLength = 0;\n        }\n    };\n    RecordMedia.prototype.stopRecording = function () {\n        this.isRecording = false;\n    };\n    RecordMedia.prototype.buildWavFileBlob = function () {\n        // we flat the left and right channels down\n        var leftBuffer = this.mergeBuffers(this.leftChannel);\n        var rightBuffer = this.mergeBuffers(this.rightChannel);\n        // Interleave the left and right channels together:\n        var interleaved = new Float32Array(leftBuffer.length);\n        for (var i = 0; i < leftBuffer.length; ++i) {\n            interleaved[i] = 0.5 * (leftBuffer[i] + rightBuffer[i]);\n        }\n        // Downsample the audio data if necessary:\n        if (this.DEFAULT_SAMPLE_RATE > this.SAMPLE_RATE) {\n            interleaved = this.downSampleBuffer(interleaved, this.SAMPLE_RATE);\n        }\n        var totalByteCount = (44 + interleaved.length * 2);\n        var buffer = new ArrayBuffer(totalByteCount);\n        var view = new DataView(buffer);\n        // Build the RIFF chunk descriptor:\n        this.writeUTFBytes(view, 0, \"RIFF\");\n        view.setUint32(4, totalByteCount, true);\n        this.writeUTFBytes(view, 8, \"WAVE\");\n        // Build the FMT sub-chunk:\n        this.writeUTFBytes(view, 12, \"fmt \"); // subchunk1 ID is format\n        view.setUint32(16, 16, true); // The sub-chunk size is 16.\n        view.setUint16(20, 1, true); // The audio format is 1.\n        view.setUint16(22, 1, true); // Number of interleaved channels.\n        view.setUint32(24, this.SAMPLE_RATE, true); // Sample rate.\n        view.setUint32(28, this.SAMPLE_RATE * 2, true); // Byte rate.\n        view.setUint16(32, 2, true); // Block align\n        view.setUint16(34, 16, true); // Bits per sample.\n        // Build the data sub-chunk:\n        var subChunk2ByteCount = interleaved.length * 2;\n        this.writeUTFBytes(view, 36, \"data\");\n        view.setUint32(40, subChunk2ByteCount, true);\n        // Write the PCM samples to the view:\n        var lng = interleaved.length;\n        var index = 44;\n        var volume = 1;\n        for (var j = 0; j < lng; j++) {\n            view.setInt16(index, interleaved[j] * (0x7FFF * volume), true);\n            index += 2;\n        }\n        return new Blob([view], { type: \"audio/wav\" });\n    };\n    RecordMedia.prototype.downSampleBuffer = function (buffer, rate) {\n        if (rate === this.DEFAULT_SAMPLE_RATE) {\n            return buffer;\n        }\n        if (rate > this.DEFAULT_SAMPLE_RATE) {\n            // throw \"downsampling rate show be smaller than original sample rate\";\n            return buffer;\n        }\n        var sampleRateRatio = this.DEFAULT_SAMPLE_RATE / rate;\n        var newLength = Math.round(buffer.length / sampleRateRatio);\n        var result = new Float32Array(newLength);\n        var offsetResult = 0;\n        var offsetBuffer = 0;\n        while (offsetResult < result.length) {\n            var nextOffsetBuffer = Math.round((offsetResult + 1) * sampleRateRatio);\n            var accum = 0;\n            var count = 0;\n            for (var i = offsetBuffer; i < nextOffsetBuffer && i < buffer.length; i++) {\n                accum += buffer[i];\n                count++;\n            }\n            result[offsetResult] = accum / count;\n            offsetResult++;\n            offsetBuffer = nextOffsetBuffer;\n        }\n        return result;\n    };\n    RecordMedia.prototype.mergeBuffers = function (desiredChannelBuffer) {\n        var result = new Float32Array(this.recordingLength);\n        var offset = 0;\n        var lng = desiredChannelBuffer.length;\n        for (var i = 0; i < lng; ++i) {\n            var buffer = desiredChannelBuffer[i];\n            result.set(buffer, offset);\n            offset += buffer.length;\n        }\n        return result;\n    };\n    RecordMedia.prototype.writeUTFBytes = function (view, offset, value) {\n        var lng = value.length;\n        for (var i = 0; i < lng; i++) {\n            view.setUint8(offset + i, value.charCodeAt(i));\n        }\n    };\n    return RecordMedia;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Record.ts\nvar Record_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\nvar Record = /** @class */ (function (_super) {\n    Record_extends(Record, _super);\n    function Record(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Record.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        var mediaRecorder;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            var editorElement = vditor[vditor.currentMode].element;\n            if (!mediaRecorder) {\n                navigator.mediaDevices.getUserMedia({ audio: true }).then(function (mediaStream) {\n                    mediaRecorder = new RecordMedia(mediaStream);\n                    mediaRecorder.recorder.onaudioprocess = function (e) {\n                        // Do nothing if not recording:\n                        if (!mediaRecorder.isRecording) {\n                            return;\n                        }\n                        // Copy the data from the input buffers;\n                        var left = e.inputBuffer.getChannelData(0);\n                        var right = e.inputBuffer.getChannelData(1);\n                        mediaRecorder.cloneChannelData(left, right);\n                    };\n                    mediaRecorder.startRecordingNewWavFile();\n                    vditor.tip.show(window.VditorI18n.recording);\n                    editorElement.setAttribute(\"contenteditable\", \"false\");\n                    _this.element.children[0].classList.add(\"vditor-menu--current\");\n                }).catch(function () {\n                    vditor.tip.show(window.VditorI18n[\"record-tip\"]);\n                });\n                return;\n            }\n            if (mediaRecorder.isRecording) {\n                mediaRecorder.stopRecording();\n                vditor.tip.hide();\n                var file = new File([mediaRecorder.buildWavFileBlob()], \"record\" + (new Date()).getTime() + \".wav\", { type: \"video/webm\" });\n                uploadFiles(vditor, [file]);\n                _this.element.children[0].classList.remove(\"vditor-menu--current\");\n            }\n            else {\n                vditor.tip.show(window.VditorI18n.recording);\n                editorElement.setAttribute(\"contenteditable\", \"false\");\n                mediaRecorder.startRecordingNewWavFile();\n                _this.element.children[0].classList.add(\"vditor-menu--current\");\n            }\n        });\n    };\n    return Record;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Redo.ts\nvar Redo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Redo = /** @class */ (function (_super) {\n    Redo_extends(Redo, _super);\n    function Redo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ redo: _this.element }, [\"redo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.redo(vditor);\n        });\n        return _this;\n    }\n    return Redo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Undo.ts\nvar Undo_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Undo = /** @class */ (function (_super) {\n    Undo_extends(Undo, _super);\n    function Undo(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        disableToolbar({ undo: _this.element }, [\"undo\"]);\n        _this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            event.preventDefault();\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                return;\n            }\n            vditor.undo.undo(vditor);\n        });\n        return _this;\n    }\n    return Undo;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/Upload.ts\nvar Upload_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\nvar Upload_Upload = /** @class */ (function (_super) {\n    Upload_extends(Upload, _super);\n    function Upload(vditor, menuItem) {\n        var _this = _super.call(this, vditor, menuItem) || this;\n        var inputHTML = '<input type=\"file\"';\n        if (vditor.options.upload.multiple) {\n            inputHTML += ' multiple=\"multiple\"';\n        }\n        if (vditor.options.upload.accept) {\n            inputHTML += \" accept=\\\"\" + vditor.options.upload.accept + \"\\\"\";\n        }\n        _this.element.children[0].innerHTML = \"\" + (menuItem.icon || '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>') + inputHTML + \">\";\n        _this._bindEvent(vditor);\n        return _this;\n    }\n    Upload.prototype._bindEvent = function (vditor) {\n        var _this = this;\n        this.element.children[0].addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n        });\n        this.element.querySelector(\"input\").addEventListener(\"change\", function (event) {\n            if (_this.element.firstElementChild.classList.contains(constants/* Constants.CLASS_MENU_DISABLED */.g.CLASS_MENU_DISABLED)) {\n                event.stopPropagation();\n                event.preventDefault();\n                return;\n            }\n            if (event.target.files.length === 0) {\n                return;\n            }\n            uploadFiles(vditor, event.target.files, event.target);\n        });\n    };\n    return Upload;\n}(MenuItem));\n\n\n;// CONCATENATED MODULE: ./src/ts/toolbar/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Toolbar = /** @class */ (function () {\n    function Toolbar(vditor) {\n        var _this = this;\n        var options = vditor.options;\n        this.elements = {};\n        this.element = document.createElement(\"div\");\n        this.element.className = \"vditor-toolbar\";\n        options.toolbar.forEach(function (menuItem, i) {\n            var itemElement = _this.genItem(vditor, menuItem, i);\n            _this.element.appendChild(itemElement);\n            if (menuItem.toolbar) {\n                var panelElement_1 = document.createElement(\"div\");\n                panelElement_1.className = \"vditor-hint vditor-panel--arrow\";\n                panelElement_1.addEventListener((0,compatibility/* getEventName */.Le)(), function (event) {\n                    panelElement_1.style.display = \"none\";\n                });\n                menuItem.toolbar.forEach(function (subMenuItem, subI) {\n                    subMenuItem.level = 2;\n                    panelElement_1.appendChild(_this.genItem(vditor, subMenuItem, i + subI));\n                });\n                itemElement.appendChild(panelElement_1);\n                toggleSubMenu(vditor, panelElement_1, itemElement.children[0], 2);\n            }\n        });\n        if (vditor.options.toolbarConfig.hide) {\n            this.element.classList.add(\"vditor-toolbar--hide\");\n        }\n        if (vditor.options.toolbarConfig.pin) {\n            this.element.classList.add(\"vditor-toolbar--pin\");\n        }\n        if (vditor.options.counter.enable) {\n            vditor.counter = new Counter(vditor);\n            this.element.appendChild(vditor.counter.element);\n        }\n    }\n    Toolbar.prototype.genItem = function (vditor, menuItem, index) {\n        var menuItemObj;\n        switch (menuItem.name) {\n            case \"bold\":\n            case \"italic\":\n            case \"more\":\n            case \"strike\":\n            case \"line\":\n            case \"quote\":\n            case \"list\":\n            case \"ordered-list\":\n            case \"check\":\n            case \"code\":\n            case \"inline-code\":\n            case \"link\":\n            case \"table\":\n                menuItemObj = new MenuItem(vditor, menuItem);\n                break;\n            case \"emoji\":\n                menuItemObj = new Emoji(vditor, menuItem);\n                break;\n            case \"headings\":\n                menuItemObj = new Headings(vditor, menuItem);\n                break;\n            case \"|\":\n                menuItemObj = new Divider();\n                break;\n            case \"br\":\n                menuItemObj = new Br();\n                break;\n            case \"undo\":\n                menuItemObj = new Undo(vditor, menuItem);\n                break;\n            case \"redo\":\n                menuItemObj = new Redo(vditor, menuItem);\n                break;\n            case \"help\":\n                menuItemObj = new Help(vditor, menuItem);\n                break;\n            case \"both\":\n                menuItemObj = new Both(vditor, menuItem);\n                break;\n            case \"preview\":\n                menuItemObj = new Preview_Preview(vditor, menuItem);\n                break;\n            case \"fullscreen\":\n                menuItemObj = new Fullscreen(vditor, menuItem);\n                break;\n            case \"upload\":\n                menuItemObj = new Upload_Upload(vditor, menuItem);\n                break;\n            case \"record\":\n                menuItemObj = new Record(vditor, menuItem);\n                break;\n            case \"info\":\n                menuItemObj = new Info(vditor, menuItem);\n                break;\n            case \"edit-mode\":\n                menuItemObj = new EditMode(vditor, menuItem);\n                break;\n            case \"devtools\":\n                menuItemObj = new Devtools(vditor, menuItem);\n                break;\n            case \"outdent\":\n                menuItemObj = new Outdent(vditor, menuItem);\n                break;\n            case \"indent\":\n                menuItemObj = new Indent(vditor, menuItem);\n                break;\n            case \"outline\":\n                menuItemObj = new Outline_Outline(vditor, menuItem);\n                break;\n            case \"insert-after\":\n                menuItemObj = new InsertAfter(vditor, menuItem);\n                break;\n            case \"insert-before\":\n                menuItemObj = new InsertBefore(vditor, menuItem);\n                break;\n            case \"code-theme\":\n                menuItemObj = new CodeTheme(vditor, menuItem);\n                break;\n            case \"content-theme\":\n                menuItemObj = new ContentTheme(vditor, menuItem);\n                break;\n            case \"export\":\n                menuItemObj = new Export(vditor, menuItem);\n                break;\n            default:\n                menuItemObj = new Custom(vditor, menuItem);\n                break;\n        }\n        if (!menuItemObj) {\n            return;\n        }\n        var key = menuItem.name;\n        if (key === \"br\" || key === \"|\") {\n            key = key + index;\n        }\n        this.elements[key] = menuItemObj.element;\n        return menuItemObj.element;\n    };\n    return Toolbar;\n}());\n\n\n// EXTERNAL MODULE: ./node_modules/diff-match-patch/index.js\nvar diff_match_patch = __webpack_require__(694);\n;// CONCATENATED MODULE: ./src/ts/undo/index.ts\n\n\n\n\n\n\n\n\nvar undo_Undo = /** @class */ (function () {\n    function Undo() {\n        this.stackSize = 50;\n        this.resetStack();\n        // @ts-ignore\n        this.dmp = new diff_match_patch();\n    }\n    Undo.prototype.clearStack = function (vditor) {\n        this.resetStack();\n        this.resetIcon(vditor);\n    };\n    Undo.prototype.resetIcon = function (vditor) {\n        if (!vditor.toolbar) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.undo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length < 2) {\n            return;\n        }\n        var state = this[vditor.currentMode].undoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].redoStack.push(state);\n        this.renderDiff(state, vditor);\n        this[vditor.currentMode].hasUndo = true;\n        // undo 操作后，需要关闭 hint\n        hidePanel(vditor, [\"hint\"]);\n    };\n    Undo.prototype.redo = function (vditor) {\n        if (vditor[vditor.currentMode].element.getAttribute(\"contenteditable\") === \"false\") {\n            return;\n        }\n        var state = this[vditor.currentMode].redoStack.pop();\n        if (!state) {\n            return;\n        }\n        this[vditor.currentMode].undoStack.push(state);\n        this.renderDiff(state, vditor, true);\n    };\n    Undo.prototype.recordFirstPosition = function (vditor, event) {\n        if (getSelection().rangeCount === 0) {\n            return;\n        }\n        if (this[vditor.currentMode].undoStack.length !== 1 || this[vditor.currentMode].undoStack[0].length === 0 ||\n            this[vditor.currentMode].redoStack.length > 0) {\n            return;\n        }\n        if ((0,compatibility/* isFirefox */.vU)() && event.key === \"Backspace\") {\n            // Firefox 第一次删除无效\n            return;\n        }\n        if ((0,compatibility/* isSafari */.G6)()) {\n            // Safari keydown 在 input 之后，不需要重复记录历史\n            return;\n        }\n        var text = this.addCaret(vditor);\n        if (text.replace(\"<wbr>\", \"\").replace(\" vditor-ir__node--expand\", \"\")\n            !== this[vditor.currentMode].undoStack[0][0].diffs[0][1].replace(\"<wbr>\", \"\")) {\n            // 当还不没有存入 undo 栈时，按下 ctrl 后会覆盖 lastText\n            return;\n        }\n        this[vditor.currentMode].undoStack[0][0].diffs[0][1] = text;\n        this[vditor.currentMode].lastText = text;\n        // 不能添加 setSelectionFocus(cloneRange); 否则 windows chrome 首次输入会烂\n    };\n    Undo.prototype.addToUndoStack = function (vditor) {\n        // afterRenderEvent.ts 已经 debounce\n        var text = this.addCaret(vditor, true);\n        var diff = this.dmp.diff_main(text, this[vditor.currentMode].lastText, true);\n        var patchList = this.dmp.patch_make(text, this[vditor.currentMode].lastText, diff);\n        if (patchList.length === 0 && this[vditor.currentMode].undoStack.length > 0) {\n            return;\n        }\n        this[vditor.currentMode].lastText = text;\n        this[vditor.currentMode].undoStack.push(patchList);\n        if (this[vditor.currentMode].undoStack.length > this.stackSize) {\n            this[vditor.currentMode].undoStack.shift();\n        }\n        if (this[vditor.currentMode].hasUndo) {\n            this[vditor.currentMode].redoStack = [];\n            this[vditor.currentMode].hasUndo = false;\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n    };\n    Undo.prototype.renderDiff = function (state, vditor, isRedo) {\n        if (isRedo === void 0) { isRedo = false; }\n        var text;\n        if (isRedo) {\n            var redoPatchList = this.dmp.patch_deepCopy(state).reverse();\n            redoPatchList.forEach(function (patch) {\n                patch.diffs.forEach(function (diff) {\n                    diff[0] = -diff[0];\n                });\n            });\n            text = this.dmp.patch_apply(redoPatchList, this[vditor.currentMode].lastText)[0];\n        }\n        else {\n            text = this.dmp.patch_apply(state, this[vditor.currentMode].lastText)[0];\n        }\n        this[vditor.currentMode].lastText = text;\n        vditor[vditor.currentMode].element.innerHTML = text;\n        if (vditor.currentMode !== \"sv\") {\n            vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n                .forEach(function (blockElement) {\n                processCodeRender(blockElement, vditor);\n            });\n        }\n        if (!vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            // Safari 第一次输入没有光标，需手动定位到结尾\n            var range = getSelection().getRangeAt(0);\n            range.setEndBefore(vditor[vditor.currentMode].element);\n            range.collapse(false);\n        }\n        else {\n            (0,selection/* setRangeByWbr */.ib)(vditor[vditor.currentMode].element, vditor[vditor.currentMode].element.ownerDocument.createRange());\n            scrollCenter(vditor);\n        }\n        execAfterRender(vditor, {\n            enableAddUndoStack: false,\n            enableHint: false,\n            enableInput: true,\n        });\n        highlightToolbar(vditor);\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='2']\")\n            .forEach(function (item) {\n            processCodeRender(item, vditor);\n        });\n        if (this[vditor.currentMode].undoStack.length > 1) {\n            enableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"undo\"]);\n        }\n        if (this[vditor.currentMode].redoStack.length !== 0) {\n            enableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n        else {\n            disableToolbar(vditor.toolbar.elements, [\"redo\"]);\n        }\n    };\n    Undo.prototype.resetStack = function () {\n        this.ir = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.sv = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n        this.wysiwyg = {\n            hasUndo: false,\n            lastText: \"\",\n            redoStack: [],\n            undoStack: [],\n        };\n    };\n    Undo.prototype.addCaret = function (vditor, setFocus) {\n        if (setFocus === void 0) { setFocus = false; }\n        var cloneRange;\n        if (getSelection().rangeCount !== 0 && !vditor[vditor.currentMode].element.querySelector(\"wbr\")) {\n            var range = getSelection().getRangeAt(0);\n            if (vditor[vditor.currentMode].element.contains(range.startContainer)) {\n                cloneRange = range.cloneRange();\n                var wbrElement = document.createElement(\"span\");\n                wbrElement.className = \"vditor-wbr\";\n                range.insertNode(wbrElement);\n            }\n        }\n        // 移除数学公式、echart 渲染 https://github.com/siyuan-note/siyuan/issues/537\n        var cloneElement = vditor.ir.element.cloneNode(true);\n        cloneElement.querySelectorAll(\".vditor-\" + vditor.currentMode + \"__preview[data-render='1']\")\n            .forEach(function (item) {\n            if (item.firstElementChild.classList.contains(\"language-echarts\") ||\n                item.firstElementChild.classList.contains(\"language-plantuml\") ||\n                item.firstElementChild.classList.contains(\"language-mindmap\")) {\n                item.firstElementChild.removeAttribute(\"_echarts_instance_\");\n                item.firstElementChild.removeAttribute(\"data-processed\");\n                item.firstElementChild.innerHTML = item.previousElementSibling.firstElementChild.innerHTML;\n                item.setAttribute(\"data-render\", \"2\");\n            }\n            if (item.firstElementChild.classList.contains(\"language-math\")) {\n                item.setAttribute(\"data-render\", \"2\");\n                item.firstElementChild.textContent = item.firstElementChild.getAttribute(\"data-math\");\n                item.firstElementChild.removeAttribute(\"data-math\");\n            }\n        });\n        var text = vditor[vditor.currentMode].element.innerHTML;\n        vditor[vditor.currentMode].element.querySelectorAll(\".vditor-wbr\").forEach(function (item) {\n            item.remove();\n            // 使用 item.outerHTML = \"\" 会产生 https://github.com/Vanessa219/vditor/pull/686;\n        });\n        if (setFocus && cloneRange) {\n            (0,selection/* setSelectionFocus */.Hc)(cloneRange);\n        }\n        return text.replace('<span class=\"vditor-wbr\"></span>', \"<wbr>\");\n    };\n    return Undo;\n}());\n\n\n// EXTERNAL MODULE: ./src/ts/util/merge.ts\nvar merge = __webpack_require__(224);\n;// CONCATENATED MODULE: ./src/ts/util/Options.ts\n\n\nvar Options = /** @class */ (function () {\n    function Options(options) {\n        this.defaultOptions = {\n            after: undefined,\n            cache: {\n                enable: true,\n            },\n            cdn: constants/* Constants.CDN */.g.CDN,\n            classes: {\n                preview: \"\",\n            },\n            comment: {\n                enable: false,\n            },\n            counter: {\n                enable: false,\n                type: \"markdown\",\n            },\n            debugger: false,\n            fullscreen: {\n                index: 90,\n            },\n            height: \"auto\",\n            hint: {\n                delay: 200,\n                emoji: {\n                    \"+1\": \"👍\",\n                    \"-1\": \"👎\",\n                    \"confused\": \"😕\",\n                    \"eyes\": \"👀️\",\n                    \"heart\": \"❤️\",\n                    \"rocket\": \"🚀️\",\n                    \"smile\": \"😄\",\n                    \"tada\": \"🎉️\",\n                },\n                emojiPath: constants/* Constants.CDN */.g.CDN + \"/dist/images/emoji\",\n                extend: [],\n                parse: true,\n            },\n            icon: \"ant\",\n            lang: \"zh_CN\",\n            mode: \"ir\",\n            outline: {\n                enable: false,\n                position: \"left\",\n            },\n            placeholder: \"\",\n            preview: {\n                actions: [\"desktop\", \"tablet\", \"mobile\", \"mp-wechat\", \"zhihu\"],\n                delay: 1000,\n                hljs: constants/* Constants.HLJS_OPTIONS */.g.HLJS_OPTIONS,\n                markdown: constants/* Constants.MARKDOWN_OPTIONS */.g.MARKDOWN_OPTIONS,\n                math: constants/* Constants.MATH_OPTIONS */.g.MATH_OPTIONS,\n                maxWidth: 800,\n                mode: \"both\",\n                theme: constants/* Constants.THEME_OPTIONS */.g.THEME_OPTIONS,\n            },\n            resize: {\n                enable: false,\n                position: \"bottom\",\n            },\n            theme: \"classic\",\n            toolbar: [\n                \"emoji\",\n                \"headings\",\n                \"bold\",\n                \"italic\",\n                \"strike\",\n                \"link\",\n                \"|\",\n                \"list\",\n                \"ordered-list\",\n                \"check\",\n                \"outdent\",\n                \"indent\",\n                \"|\",\n                \"quote\",\n                \"line\",\n                \"code\",\n                \"inline-code\",\n                \"insert-before\",\n                \"insert-after\",\n                \"|\",\n                \"upload\",\n                \"record\",\n                \"table\",\n                \"|\",\n                \"undo\",\n                \"redo\",\n                \"|\",\n                \"fullscreen\",\n                \"edit-mode\",\n                {\n                    name: \"more\",\n                    toolbar: [\n                        \"both\",\n                        \"code-theme\",\n                        \"content-theme\",\n                        \"export\",\n                        \"outline\",\n                        \"preview\",\n                        \"devtools\",\n                        \"info\",\n                        \"help\",\n                    ],\n                },\n            ],\n            toolbarConfig: {\n                hide: false,\n                pin: false,\n            },\n            typewriterMode: false,\n            undoDelay: 800,\n            upload: {\n                extraData: {},\n                fieldName: \"file[]\",\n                filename: function (name) { return name.replace(/\\W/g, \"\"); },\n                linkToImgUrl: \"\",\n                max: 10 * 1024 * 1024,\n                multiple: true,\n                url: \"\",\n                withCredentials: false,\n            },\n            value: \"\",\n            width: \"auto\",\n        };\n        this.options = options;\n    }\n    Options.prototype.merge = function () {\n        var _a, _b, _c;\n        if (this.options) {\n            if (this.options.toolbar) {\n                this.options.toolbar = this.mergeToolbar(this.options.toolbar);\n            }\n            else {\n                this.options.toolbar = this.mergeToolbar(this.defaultOptions.toolbar);\n            }\n            if ((_b = (_a = this.options.preview) === null || _a === void 0 ? void 0 : _a.theme) === null || _b === void 0 ? void 0 : _b.list) {\n                this.defaultOptions.preview.theme.list = this.options.preview.theme.list;\n            }\n            if ((_c = this.options.hint) === null || _c === void 0 ? void 0 : _c.emoji) {\n                this.defaultOptions.hint.emoji = this.options.hint.emoji;\n            }\n            if (this.options.comment) {\n                this.defaultOptions.comment = this.options.comment;\n            }\n        }\n        var mergedOptions = (0,merge/* merge */.T)(this.defaultOptions, this.options);\n        if (mergedOptions.cache.enable && !mergedOptions.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        return mergedOptions;\n    };\n    Options.prototype.mergeToolbar = function (toolbar) {\n        var _this = this;\n        var toolbarItem = [\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-export\"></use></svg>',\n                name: \"export\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-emoji\"></use></svg>',\n                name: \"emoji\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-headings\"></use></svg>',\n                name: \"headings\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-bold\"></use></svg>',\n                name: \"bold\",\n                prefix: \"**\",\n                suffix: \"**\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-italic\"></use></svg>',\n                name: \"italic\",\n                prefix: \"*\",\n                suffix: \"*\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘D\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-strike\"></use></svg>',\n                name: \"strike\",\n                prefix: \"~~\",\n                suffix: \"~~\",\n                tipPosition: \"ne\",\n            },\n            {\n                hotkey: \"⌘K\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-link\"></use></svg>',\n                name: \"link\",\n                prefix: \"[\",\n                suffix: \"](https://)\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘L\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-list\"></use></svg>',\n                name: \"list\",\n                prefix: \"* \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-ordered-list\"></use></svg>',\n                name: \"ordered-list\",\n                prefix: \"1. \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘J\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-check\"></use></svg>',\n                name: \"check\",\n                prefix: \"* [ ] \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘I\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-outdent\"></use></svg>',\n                name: \"outdent\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘O\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-indent\"></use></svg>',\n                name: \"indent\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘;\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-quote\"></use></svg>',\n                name: \"quote\",\n                prefix: \"> \",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘H\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-line\"></use></svg>',\n                name: \"line\",\n                prefix: \"---\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘U\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-code\"></use></svg>',\n                name: \"code\",\n                prefix: \"```\",\n                suffix: \"\\n```\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘G\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-inline-code\"></use></svg>',\n                name: \"inline-code\",\n                prefix: \"`\",\n                suffix: \"`\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘B\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-before\"></use></svg>',\n                name: \"insert-before\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⇧⌘E\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-after\"></use></svg>',\n                name: \"insert-after\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-upload\"></use></svg>',\n                name: \"upload\",\n                tipPosition: \"n\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-record\"></use></svg>',\n                name: \"record\",\n                tipPosition: \"n\",\n            },\n            {\n                hotkey: \"⌘M\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-table\"></use></svg>',\n                name: \"table\",\n                prefix: \"| col1\",\n                suffix: \" | col2 | col3 |\\n| --- | --- | --- |\\n|  |  |  |\\n|  |  |  |\",\n                tipPosition: \"n\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                hotkey: \"⌘Z\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-undo\"></use></svg>',\n                name: \"undo\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘Y\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-redo\"></use></svg>',\n                name: \"redo\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"|\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-more\"></use></svg>',\n                name: \"more\",\n                tipPosition: \"e\",\n            },\n            {\n                hotkey: \"⌘'\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-fullscreen\"></use></svg>',\n                name: \"fullscreen\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-edit\"></use></svg>',\n                name: \"edit-mode\",\n                tipPosition: \"nw\",\n            },\n            {\n                hotkey: \"⌘P\",\n                icon: '<svg><use xlink:href=\"#vditor-icon-both\"></use></svg>',\n                name: \"both\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-preview\"></use></svg>',\n                name: \"preview\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-align-center\"></use></svg>',\n                name: \"outline\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-theme\"></use></svg>',\n                name: \"content-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-code-theme\"></use></svg>',\n                name: \"code-theme\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-bug\"></use></svg>',\n                name: \"devtools\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-info\"></use></svg>',\n                name: \"info\",\n                tipPosition: \"nw\",\n            },\n            {\n                icon: '<svg><use xlink:href=\"#vditor-icon-help\"></use></svg>',\n                name: \"help\",\n                tipPosition: \"nw\",\n            },\n            {\n                name: \"br\",\n            },\n        ];\n        var toolbarResult = [];\n        toolbar.forEach(function (menuItem) {\n            var currentMenuItem = menuItem;\n            toolbarItem.forEach(function (defaultMenuItem) {\n                if (typeof menuItem === \"string\" &&\n                    defaultMenuItem.name === menuItem) {\n                    currentMenuItem = defaultMenuItem;\n                }\n                if (typeof menuItem === \"object\" &&\n                    defaultMenuItem.name === menuItem.name) {\n                    currentMenuItem = Object.assign({}, defaultMenuItem, menuItem);\n                }\n            });\n            if (menuItem.toolbar) {\n                currentMenuItem.toolbar = _this.mergeToolbar(menuItem.toolbar);\n            }\n            toolbarResult.push(currentMenuItem);\n        });\n        return toolbarResult;\n    };\n    return Options;\n}());\n\n\n;// CONCATENATED MODULE: ./src/ts/wysiwyg/index.ts\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar WYSIWYG = /** @class */ (function () {\n    function WYSIWYG(vditor) {\n        var _this = this;\n        this.composingLock = false;\n        this.commentIds = [];\n        var divElement = document.createElement(\"div\");\n        divElement.className = \"vditor-wysiwyg\";\n        divElement.innerHTML = \"<pre class=\\\"vditor-reset\\\" placeholder=\\\"\" + vditor.options.placeholder + \"\\\"\\n contenteditable=\\\"true\\\" spellcheck=\\\"false\\\"></pre>\\n<div class=\\\"vditor-panel vditor-panel--none\\\"></div>\\n<div class=\\\"vditor-panel vditor-panel--none\\\">\\n    <button type=\\\"button\\\" aria-label=\\\"\" + window.VditorI18n.comment + \"\\\" class=\\\"vditor-icon vditor-tooltipped vditor-tooltipped__n\\\">\\n        <svg><use xlink:href=\\\"#vditor-icon-comment\\\"></use></svg>\\n    </button>\\n</div>\";\n        this.element = divElement.firstElementChild;\n        this.popover = divElement.firstElementChild.nextElementSibling;\n        this.selectPopover = divElement.lastElementChild;\n        this.bindEvent(vditor);\n        focusEvent(vditor, this.element);\n        dblclickEvent(vditor, this.element);\n        blurEvent(vditor, this.element);\n        hotkeyEvent(vditor, this.element);\n        selectEvent(vditor, this.element);\n        dropEvent(vditor, this.element);\n        copyEvent(vditor, this.element, this.copy);\n        cutEvent(vditor, this.element, this.copy);\n        if (vditor.options.comment.enable) {\n            this.selectPopover.querySelector(\"button\").onclick = function () {\n                var id = Lute.NewNodeID();\n                var range = getSelection().getRangeAt(0);\n                var rangeClone = range.cloneRange();\n                var contents = range.extractContents();\n                var blockStartElement;\n                var blockEndElement;\n                var removeStart = false;\n                var removeEnd = false;\n                contents.childNodes.forEach(function (item, index) {\n                    var wrap = false;\n                    if (item.nodeType === 3) {\n                        wrap = true;\n                    }\n                    else if (!item.classList.contains(\"vditor-comment\")) {\n                        wrap = true;\n                    }\n                    else if (item.classList.contains(\"vditor-comment\")) {\n                        item.setAttribute(\"data-cmtids\", item.getAttribute(\"data-cmtids\") + \" \" + id);\n                    }\n                    if (wrap) {\n                        if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === 0 && rangeClone.startOffset > 0) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                            blockStartElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\"\n                            && index === contents.childNodes.length - 1\n                            && rangeClone.endOffset < rangeClone.endContainer.textContent.length) {\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                            blockEndElement = item;\n                        }\n                        else if (item.nodeType !== 3 && item.getAttribute(\"data-block\") === \"0\") {\n                            if (index === 0) {\n                                removeStart = true;\n                            }\n                            else if (index === contents.childNodes.length - 1) {\n                                removeEnd = true;\n                            }\n                            item.innerHTML =\n                                \"<span class=\\\"vditor-comment\\\" data-cmtids=\\\"\" + id + \"\\\">\" + item.innerHTML + \"</span>\";\n                        }\n                        else {\n                            var commentElement = document.createElement(\"span\");\n                            commentElement.classList.add(\"vditor-comment\");\n                            commentElement.setAttribute(\"data-cmtids\", id);\n                            item.parentNode.insertBefore(commentElement, item);\n                            commentElement.appendChild(item);\n                        }\n                    }\n                });\n                var startElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.startContainer);\n                if (startElement) {\n                    if (blockStartElement) {\n                        startElement.insertAdjacentHTML(\"beforeend\", blockStartElement.innerHTML);\n                        blockStartElement.remove();\n                    }\n                    else if (startElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeStart) {\n                        startElement.remove();\n                    }\n                }\n                var endElement = (0,hasClosest/* hasClosestBlock */.F9)(rangeClone.endContainer);\n                if (endElement) {\n                    if (blockEndElement) {\n                        endElement.insertAdjacentHTML(\"afterbegin\", blockEndElement.innerHTML);\n                        blockEndElement.remove();\n                    }\n                    else if (endElement.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\" && removeEnd) {\n                        endElement.remove();\n                    }\n                }\n                range.insertNode(contents);\n                vditor.options.comment.add(id, range.toString(), _this.getComments(vditor, true));\n                afterRenderEvent(vditor, {\n                    enableAddUndoStack: true,\n                    enableHint: false,\n                    enableInput: false,\n                });\n                _this.hideComment();\n            };\n        }\n    }\n    WYSIWYG.prototype.getComments = function (vditor, getData) {\n        var _this = this;\n        if (getData === void 0) { getData = false; }\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable) {\n            this.commentIds = [];\n            this.element.querySelectorAll(\".vditor-comment\").forEach(function (item) {\n                _this.commentIds =\n                    _this.commentIds.concat(item.getAttribute(\"data-cmtids\").split(\" \"));\n            });\n            this.commentIds = Array.from(new Set(this.commentIds));\n            var comments_1 = [];\n            if (getData) {\n                this.commentIds.forEach(function (id) {\n                    comments_1.push({\n                        id: id,\n                        top: _this.element.querySelector(\".vditor-comment[data-cmtids=\\\"\" + id + \"\\\"]\").offsetTop,\n                    });\n                });\n                return comments_1;\n            }\n        }\n        else {\n            return [];\n        }\n    };\n    WYSIWYG.prototype.triggerRemoveComment = function (vditor) {\n        var difference = function (a, b) {\n            var s = new Set(b);\n            return a.filter(function (x) { return !s.has(x); });\n        };\n        if (vditor.currentMode === \"wysiwyg\" && vditor.options.comment.enable && vditor.wysiwyg.commentIds.length > 0) {\n            var oldIds = JSON.parse(JSON.stringify(this.commentIds));\n            this.getComments(vditor);\n            var removedIds = difference(oldIds, this.commentIds);\n            if (removedIds.length > 0) {\n                vditor.options.comment.remove(removedIds);\n            }\n        }\n    };\n    WYSIWYG.prototype.showComment = function () {\n        var position = (0,selection/* getCursorPosition */.Ny)(this.element);\n        this.selectPopover.setAttribute(\"style\", \"left:\" + position.left + \"px;display:block;top:\" + Math.max(-8, position.top - 21) + \"px\");\n    };\n    WYSIWYG.prototype.hideComment = function () {\n        this.selectPopover.setAttribute(\"style\", \"display:none\");\n    };\n    WYSIWYG.prototype.copy = function (event, vditor) {\n        var range = getSelection().getRangeAt(0);\n        if (range.toString() === \"\") {\n            return;\n        }\n        event.stopPropagation();\n        event.preventDefault();\n        var codeElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"CODE\");\n        var codeEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"CODE\");\n        if (codeElement && codeEndElement && codeEndElement.isSameNode(codeElement)) {\n            var codeText = \"\";\n            if (codeElement.parentElement.tagName === \"PRE\") {\n                codeText = range.toString();\n            }\n            else {\n                codeText = \"`\" + range.toString() + \"`\";\n            }\n            event.clipboardData.setData(\"text/plain\", codeText);\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var aElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.startContainer, \"A\");\n        var aEndElement = (0,hasClosest/* hasClosestByMatchTag */.lG)(range.endContainer, \"A\");\n        if (aElement && aEndElement && aEndElement.isSameNode(aElement)) {\n            var aTitle = aElement.getAttribute(\"title\") || \"\";\n            if (aTitle) {\n                aTitle = \" \\\"\" + aTitle + \"\\\"\";\n            }\n            event.clipboardData.setData(\"text/plain\", \"[\" + range.toString() + \"](\" + aElement.getAttribute(\"href\") + aTitle + \")\");\n            event.clipboardData.setData(\"text/html\", \"\");\n            return;\n        }\n        var tempElement = document.createElement(\"div\");\n        tempElement.appendChild(range.cloneContents());\n        event.clipboardData.setData(\"text/plain\", vditor.lute.VditorDOM2Md(tempElement.innerHTML).trim());\n        event.clipboardData.setData(\"text/html\", \"\");\n    };\n    WYSIWYG.prototype.bindEvent = function (vditor) {\n        var _this = this;\n        window.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (_this.popover.style.display !== \"block\" || _this.selectPopover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10);\n            if (vditor.options.height !== \"auto\") {\n                if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                    var popoverTop = Math.max(window.scrollY - vditor.element.offsetTop - 8, Math.min(top - vditor.wysiwyg.element.scrollTop, _this.element.clientHeight - 21)) + \"px\";\n                    if (_this.popover.style.display === \"block\") {\n                        _this.popover.style.top = popoverTop;\n                    }\n                    if (_this.selectPopover.style.display === \"block\") {\n                        _this.selectPopover.style.top = popoverTop;\n                    }\n                }\n                return;\n            }\n            else if (!vditor.options.toolbarConfig.pin) {\n                return;\n            }\n            var popoverTop1 = Math.max(top, (window.scrollY - vditor.element.offsetTop - 8)) + \"px\";\n            if (_this.popover.style.display === \"block\") {\n                _this.popover.style.top = popoverTop1;\n            }\n            if (_this.selectPopover.style.display === \"block\") {\n                _this.selectPopover.style.top = popoverTop1;\n            }\n        });\n        this.element.addEventListener(\"scroll\", function () {\n            hidePanel(vditor, [\"hint\"]);\n            if (vditor.options.comment && vditor.options.comment.enable && vditor.options.comment.scroll) {\n                vditor.options.comment.scroll(vditor.wysiwyg.element.scrollTop);\n            }\n            if (_this.popover.style.display !== \"block\") {\n                return;\n            }\n            var top = parseInt(_this.popover.getAttribute(\"data-top\"), 10) - vditor.wysiwyg.element.scrollTop;\n            var max = -8;\n            if (vditor.options.toolbarConfig.pin && vditor.toolbar.element.getBoundingClientRect().top === 0) {\n                max = window.scrollY - vditor.element.offsetTop + max;\n            }\n            var topPx = Math.max(max, Math.min(top, _this.element.clientHeight - 21)) + \"px\";\n            _this.popover.style.top = topPx;\n            _this.selectPopover.style.top = topPx;\n        });\n        this.element.addEventListener(\"paste\", function (event) {\n            paste(vditor, event, {\n                pasteCode: function (code) {\n                    var range = (0,selection/* getEditorRange */.zh)(vditor);\n                    var node = document.createElement(\"template\");\n                    node.innerHTML = code;\n                    range.insertNode(node.content.cloneNode(true));\n                    var blockElement = (0,hasClosest/* hasClosestByAttribute */.a1)(range.startContainer, \"data-block\", \"0\");\n                    if (blockElement) {\n                        blockElement.outerHTML = vditor.lute.SpinVditorDOM(blockElement.outerHTML);\n                    }\n                    else {\n                        vditor.wysiwyg.element.innerHTML = vditor.lute.SpinVditorDOM(vditor.wysiwyg.element.innerHTML);\n                    }\n                    (0,selection/* setRangeByWbr */.ib)(vditor.wysiwyg.element, range);\n                },\n            });\n        });\n        // 中文处理\n        this.element.addEventListener(\"compositionstart\", function () {\n            _this.composingLock = true;\n        });\n        this.element.addEventListener(\"compositionend\", function (event) {\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                return;\n            }\n            if (!(0,compatibility/* isFirefox */.vU)()) {\n                input_input(vditor, getSelection().getRangeAt(0).cloneRange(), event);\n            }\n            _this.composingLock = false;\n        });\n        this.element.addEventListener(\"input\", function (event) {\n            if (event.inputType === \"deleteByDrag\" || event.inputType === \"insertFromDrop\") {\n                // https://github.com/Vanessa219/vditor/issues/801 编辑器内容拖拽问题\n                return;\n            }\n            if (_this.preventInput) {\n                _this.preventInput = false;\n                return;\n            }\n            if (_this.composingLock || event.data === \"‘\" || event.data === \"“\" || event.data === \"《\") {\n                return;\n            }\n            var range = getSelection().getRangeAt(0);\n            var blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            if (!blockElement) {\n                // 没有被块元素包裹\n                modifyPre(vditor, range);\n                blockElement = (0,hasClosest/* hasClosestBlock */.F9)(range.startContainer);\n            }\n            if (!blockElement) {\n                return;\n            }\n            // 前后空格处理\n            var startOffset = (0,selection/* getSelectPosition */.im)(blockElement, vditor.wysiwyg.element, range).start;\n            // 开始可以输入空格\n            var startSpace = true;\n            for (var i = startOffset - 1; i > blockElement.textContent.substr(0, startOffset).lastIndexOf(\"\\n\"); i--) {\n                if (blockElement.textContent.charAt(i) !== \" \" &&\n                    // 多个 tab 前删除不形成代码块 https://github.com/Vanessa219/vditor/issues/162 1\n                    blockElement.textContent.charAt(i) !== \"\\t\") {\n                    startSpace = false;\n                    break;\n                }\n            }\n            if (startOffset === 0) {\n                startSpace = false;\n            }\n            // 结尾可以输入空格\n            var endSpace = true;\n            for (var i = startOffset - 1; i < blockElement.textContent.length; i++) {\n                if (blockElement.textContent.charAt(i) !== \" \" && blockElement.textContent.charAt(i) !== \"\\n\") {\n                    endSpace = false;\n                    break;\n                }\n            }\n            var headingElement = (0,hasClosestByHeadings/* hasClosestByHeadings */.W)(getSelection().getRangeAt(0).startContainer);\n            if (headingElement && headingElement.textContent === \"\") {\n                // heading 为空删除 https://github.com/Vanessa219/vditor/issues/150\n                renderToc(vditor);\n                headingElement.remove();\n            }\n            if ((startSpace && blockElement.getAttribute(\"data-type\") !== \"code-block\")\n                || endSpace || isHeadingMD(blockElement.innerHTML) ||\n                (isHrMD(blockElement.innerHTML) && blockElement.previousElementSibling)) {\n                return;\n            }\n            input_input(vditor, range, event);\n        });\n        this.element.addEventListener(\"click\", function (event) {\n            if (event.target.tagName === \"INPUT\") {\n                var checkElement = event.target;\n                if (checkElement.checked) {\n                    checkElement.setAttribute(\"checked\", \"checked\");\n                }\n                else {\n                    checkElement.removeAttribute(\"checked\");\n                }\n                _this.preventInput = true;\n                afterRenderEvent(vditor);\n                return;\n            }\n            if (event.target.tagName === \"IMG\" &&\n                // plantuml 图片渲染不进行提示\n                !event.target.parentElement.classList.contains(\"vditor-wysiwyg__preview\")) {\n                if (event.target.getAttribute(\"data-type\") === \"link-ref\") {\n                    genLinkRefPopover(vditor, event.target);\n                }\n                else {\n                    genImagePopover(event, vditor);\n                }\n                return;\n            }\n            // 打开链接\n            if (event.target.tagName === \"A\") {\n                window.open(event.target.getAttribute(\"href\"));\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.target.isEqualNode(_this.element) && _this.element.lastElementChild && range.collapsed) {\n                var lastRect = _this.element.lastElementChild.getBoundingClientRect();\n                if (event.y > lastRect.top + lastRect.height) {\n                    if (_this.element.lastElementChild.tagName === \"P\" &&\n                        _this.element.lastElementChild.textContent.trim().replace(constants/* Constants.ZWSP */.g.ZWSP, \"\") === \"\") {\n                        range.selectNodeContents(_this.element.lastElementChild);\n                        range.collapse(false);\n                    }\n                    else {\n                        _this.element.insertAdjacentHTML(\"beforeend\", \"<p data-block=\\\"0\\\">\" + constants/* Constants.ZWSP */.g.ZWSP + \"<wbr></p>\");\n                        (0,selection/* setRangeByWbr */.ib)(_this.element, range);\n                    }\n                }\n            }\n            highlightToolbarWYSIWYG(vditor);\n            // 点击后光标落于预览区，需展开代码块\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(event.target, \"vditor-wysiwyg__preview\");\n            if (!previewElement) {\n                previewElement =\n                    (0,hasClosest/* hasClosestByClassName */.fb)((0,selection/* getEditorRange */.zh)(vditor).startContainer, \"vditor-wysiwyg__preview\");\n            }\n            if (previewElement) {\n                showCode(previewElement, vditor);\n            }\n            clickToc(event, vditor);\n        });\n        this.element.addEventListener(\"keyup\", function (event) {\n            if (event.isComposing || (0,compatibility/* isCtrl */.yl)(event)) {\n                return;\n            }\n            // 除 md 处理、cell 内换行、table 添加新行/列、代码块语言切换、block render 换行、跳出/逐层跳出 blockquote、h6 换行、\n            // 任务列表换行、软换行外需在换行时调整文档位置\n            if (event.key === \"Enter\") {\n                scrollCenter(vditor);\n            }\n            if ((event.key === \"Backspace\" || event.key === \"Delete\") &&\n                vditor.wysiwyg.element.innerHTML !== \"\" && vditor.wysiwyg.element.childNodes.length === 1 &&\n                vditor.wysiwyg.element.firstElementChild && vditor.wysiwyg.element.firstElementChild.tagName === \"P\"\n                && vditor.wysiwyg.element.firstElementChild.childElementCount === 0\n                && (vditor.wysiwyg.element.textContent === \"\" || vditor.wysiwyg.element.textContent === \"\\n\")) {\n                // 为空时显示 placeholder\n                vditor.wysiwyg.element.innerHTML = \"\";\n            }\n            var range = (0,selection/* getEditorRange */.zh)(vditor);\n            if (event.key === \"Backspace\") {\n                // firefox headings https://github.com/Vanessa219/vditor/issues/211\n                if ((0,compatibility/* isFirefox */.vU)() && range.startContainer.textContent === \"\\n\" && range.startOffset === 1) {\n                    range.startContainer.textContent = \"\";\n                }\n            }\n            // 没有被块元素包裹\n            modifyPre(vditor, range);\n            highlightToolbarWYSIWYG(vditor);\n            if (event.key !== \"ArrowDown\" && event.key !== \"ArrowRight\" && event.key !== \"Backspace\"\n                && event.key !== \"ArrowLeft\" && event.key !== \"ArrowUp\") {\n                return;\n            }\n            if (event.key === \"ArrowLeft\" || event.key === \"ArrowRight\") {\n                vditor.hint.render(vditor);\n            }\n            // 上下左右，删除遇到块预览的处理\n            var previewElement = (0,hasClosest/* hasClosestByClassName */.fb)(range.startContainer, \"vditor-wysiwyg__preview\");\n            if (!previewElement && range.startContainer.nodeType !== 3 && range.startOffset > 0) {\n                // table 前删除遇到代码块\n                var blockRenderElement = range.startContainer;\n                if (blockRenderElement.classList.contains(\"vditor-wysiwyg__block\")) {\n                    previewElement = blockRenderElement.lastElementChild;\n                }\n            }\n            if (!previewElement) {\n                return;\n            }\n            var previousElement = previewElement.previousElementSibling;\n            if (previousElement.style.display === \"none\") {\n                if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                    showCode(previewElement, vditor);\n                }\n                else {\n                    showCode(previewElement, vditor, false);\n                }\n                return;\n            }\n            var codeElement = previewElement.previousElementSibling;\n            if (codeElement.tagName === \"PRE\") {\n                codeElement = codeElement.firstElementChild;\n            }\n            if (event.key === \"ArrowDown\" || event.key === \"ArrowRight\") {\n                var blockRenderElement = previewElement.parentElement;\n                var nextNode = getRenderElementNextNode(blockRenderElement);\n                if (nextNode && nextNode.nodeType !== 3) {\n                    // 下一节点依旧为代码渲染块\n                    var nextRenderElement = nextNode.querySelector(\".vditor-wysiwyg__preview\");\n                    if (nextRenderElement) {\n                        showCode(nextRenderElement, vditor);\n                        return;\n                    }\n                }\n                // 跳过渲染块，光标移动到下一个节点\n                if (nextNode.nodeType === 3) {\n                    // inline\n                    while (nextNode.textContent.length === 0 && nextNode.nextSibling) {\n                        // https://github.com/Vanessa219/vditor/issues/100 2\n                        nextNode = nextNode.nextSibling;\n                    }\n                    range.setStart(nextNode, 1);\n                }\n                else {\n                    // block\n                    range.setStart(nextNode.firstChild, 0);\n                }\n            }\n            else {\n                range.selectNodeContents(codeElement);\n                range.collapse(false);\n            }\n        });\n    };\n    return WYSIWYG;\n}());\n\n\n;// CONCATENATED MODULE: ./src/index.ts\nvar src_extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvar Vditor = /** @class */ (function (_super) {\n    src_extends(Vditor, _super);\n    /**\n     * @param id 要挂载 Vditor 的元素或者元素 ID。\n     * @param options Vditor 参数\n     */\n    function Vditor(id, options) {\n        var _this = _super.call(this) || this;\n        _this.version = constants/* VDITOR_VERSION */.H;\n        if (typeof id === \"string\") {\n            if (!options) {\n                options = {\n                    cache: {\n                        id: \"vditor\" + id,\n                    },\n                };\n            }\n            else if (!options.cache) {\n                options.cache = { id: \"vditor\" + id };\n            }\n            else if (!options.cache.id) {\n                options.cache.id = \"vditor\" + id;\n            }\n            id = document.getElementById(id);\n        }\n        var getOptions = new Options(options);\n        var mergedOptions = getOptions.merge();\n        // 支持自定义国际化\n        if (!mergedOptions.i18n) {\n            if (![\"en_US\", \"ja_JP\", \"ko_KR\", \"ru_RU\", \"zh_CN\", \"zh_TW\"].includes(mergedOptions.lang)) {\n                throw new Error(\"options.lang error, see https://ld246.com/article/1549638745630#options\");\n            }\n            else {\n                (0,addScript/* addScript */.G)(mergedOptions.cdn + \"/dist/js/i18n/\" + mergedOptions.lang + \".js\", \"vditorI18nScript\").then(function () {\n                    _this.init(id, mergedOptions);\n                });\n            }\n        }\n        else {\n            window.VditorI18n = mergedOptions.i18n;\n            _this.init(id, mergedOptions);\n        }\n        return _this;\n    }\n    /** 设置主题 */\n    Vditor.prototype.setTheme = function (theme, contentTheme, codeTheme, contentThemePath) {\n        this.vditor.options.theme = theme;\n        setTheme(this.vditor);\n        if (contentTheme) {\n            this.vditor.options.preview.theme.current = contentTheme;\n            (0,setContentTheme/* setContentTheme */.Z)(contentTheme, contentThemePath || this.vditor.options.preview.theme.path);\n        }\n        if (codeTheme) {\n            this.vditor.options.preview.hljs.style = codeTheme;\n            (0,setCodeTheme/* setCodeTheme */.Y)(codeTheme, this.vditor.options.cdn);\n        }\n    };\n    /** 获取 Markdown 内容 */\n    Vditor.prototype.getValue = function () {\n        return getMarkdown(this.vditor);\n    };\n    /** 获取编辑器当前编辑模式 */\n    Vditor.prototype.getCurrentMode = function () {\n        return this.vditor.currentMode;\n    };\n    /** 聚焦到编辑器 */\n    Vditor.prototype.focus = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.focus();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.focus();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.focus();\n        }\n    };\n    /** 让编辑器失焦 */\n    Vditor.prototype.blur = function () {\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.blur();\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.element.blur();\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.element.blur();\n        }\n    };\n    /** 禁用编辑器 */\n    Vditor.prototype.disabled = function () {\n        hidePanel(this.vditor, [\"subToolbar\", \"hint\", \"popover\"]);\n        disableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"false\");\n    };\n    /** 解除编辑器禁用 */\n    Vditor.prototype.enable = function () {\n        enableToolbar(this.vditor.toolbar.elements, constants/* Constants.EDIT_TOOLBARS.concat */.g.EDIT_TOOLBARS.concat([\"undo\", \"redo\", \"fullscreen\", \"edit-mode\"]));\n        this.vditor.undo.resetIcon(this.vditor);\n        this.vditor[this.vditor.currentMode].element.setAttribute(\"contenteditable\", \"true\");\n    };\n    /** 返回选中的字符串 */\n    Vditor.prototype.getSelection = function () {\n        if (this.vditor.currentMode === \"wysiwyg\") {\n            return getSelectText(this.vditor.wysiwyg.element);\n        }\n        else if (this.vditor.currentMode === \"sv\") {\n            return getSelectText(this.vditor.sv.element);\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            return getSelectText(this.vditor.ir.element);\n        }\n    };\n    /** 设置预览区域内容 */\n    Vditor.prototype.renderPreview = function (value) {\n        this.vditor.preview.render(this.vditor, value);\n    };\n    /** 获取焦点位置 */\n    Vditor.prototype.getCursorPosition = function () {\n        return (0,selection/* getCursorPosition */.Ny)(this.vditor[this.vditor.currentMode].element);\n    };\n    /** 上传是否还在进行中 */\n    Vditor.prototype.isUploading = function () {\n        return this.vditor.upload.isUploading;\n    };\n    /** 清除缓存 */\n    Vditor.prototype.clearCache = function () {\n        localStorage.removeItem(this.vditor.options.cache.id);\n    };\n    /** 禁用缓存 */\n    Vditor.prototype.disabledCache = function () {\n        this.vditor.options.cache.enable = false;\n    };\n    /** 启用缓存 */\n    Vditor.prototype.enableCache = function () {\n        if (!this.vditor.options.cache.id) {\n            throw new Error(\"need options.cache.id, see https://ld246.com/article/1549638745630#options\");\n        }\n        this.vditor.options.cache.enable = true;\n    };\n    /** HTML 转 md */\n    Vditor.prototype.html2md = function (value) {\n        return this.vditor.lute.HTML2Md(value);\n    };\n    /** markdown 转 JSON 输出 */\n    Vditor.prototype.exportJSON = function (value) {\n        return this.vditor.lute.RenderJSON(value);\n    };\n    /** 获取 HTML */\n    Vditor.prototype.getHTML = function () {\n        return getHTML(this.vditor);\n    };\n    /** 消息提示。time 为 0 将一直显示 */\n    Vditor.prototype.tip = function (text, time) {\n        this.vditor.tip.show(text, time);\n    };\n    /** 设置预览模式 */\n    Vditor.prototype.setPreviewMode = function (mode) {\n        setPreviewMode(mode, this.vditor);\n    };\n    /** 删除选中内容 */\n    Vditor.prototype.deleteValue = function () {\n        if (window.getSelection().isCollapsed) {\n            return;\n        }\n        document.execCommand(\"delete\", false);\n    };\n    /** 更新选中内容 */\n    Vditor.prototype.updateValue = function (value) {\n        document.execCommand(\"insertHTML\", false, value);\n    };\n    /** 在焦点处插入内容，并默认进行 Markdown 渲染 */\n    Vditor.prototype.insertValue = function (value, render) {\n        if (render === void 0) { render = true; }\n        var range = (0,selection/* getEditorRange */.zh)(this.vditor);\n        range.collapse(true);\n        var tmpElement = document.createElement(\"template\");\n        tmpElement.innerHTML = value;\n        range.insertNode(tmpElement.content.cloneNode(true));\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.preventInput = true;\n            if (render) {\n                inputEvent(this.vditor);\n            }\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            this.vditor.wysiwyg.preventInput = true;\n            if (render) {\n                input_input(this.vditor, getSelection().getRangeAt(0));\n            }\n        }\n        else if (this.vditor.currentMode === \"ir\") {\n            this.vditor.ir.preventInput = true;\n            if (render) {\n                input(this.vditor, getSelection().getRangeAt(0), true);\n            }\n        }\n    };\n    /** 设置编辑器内容 */\n    Vditor.prototype.setValue = function (markdown, clearStack) {\n        var _this = this;\n        if (clearStack === void 0) { clearStack = false; }\n        if (this.vditor.currentMode === \"sv\") {\n            this.vditor.sv.element.innerHTML = this.vditor.lute.SpinVditorSVDOM(markdown);\n            processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else if (this.vditor.currentMode === \"wysiwyg\") {\n            renderDomByMd(this.vditor, markdown, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        else {\n            this.vditor.ir.element.innerHTML = this.vditor.lute.Md2VditorIRDOM(markdown);\n            this.vditor.ir.element\n                .querySelectorAll(\".vditor-ir__preview[data-render='2']\")\n                .forEach(function (item) {\n                processCodeRender(item, _this.vditor);\n            });\n            process_processAfterRender(this.vditor, {\n                enableAddUndoStack: true,\n                enableHint: false,\n                enableInput: false,\n            });\n        }\n        this.vditor.outline.render(this.vditor);\n        if (!markdown) {\n            hidePanel(this.vditor, [\"emoji\", \"headings\", \"submenu\", \"hint\"]);\n            if (this.vditor.wysiwyg.popover) {\n                this.vditor.wysiwyg.popover.style.display = \"none\";\n            }\n            this.clearCache();\n        }\n        if (clearStack) {\n            this.clearStack();\n        }\n    };\n    /** 清空 undo & redo 栈 */\n    Vditor.prototype.clearStack = function () {\n        this.vditor.undo.clearStack(this.vditor);\n        this.vditor.undo.addToUndoStack(this.vditor);\n    };\n    /** 销毁编辑器 */\n    Vditor.prototype.destroy = function () {\n        this.vditor.element.innerHTML = this.vditor.originalInnerHTML;\n        this.vditor.element.classList.remove(\"vditor\");\n        this.vditor.element.removeAttribute(\"style\");\n        document.getElementById(\"vditorIconScript\").remove();\n        this.clearCache();\n    };\n    /** 获取评论 ID */\n    Vditor.prototype.getCommentIds = function () {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return [];\n        }\n        return this.vditor.wysiwyg.getComments(this.vditor, true);\n    };\n    /** 高亮评论 */\n    Vditor.prototype.hlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var hlItem = function (item) {\n            item.classList.remove(\"vditor-comment--hover\");\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.add(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            hlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                hlItem(item);\n            });\n        }\n    };\n    /** 取消评论高亮 */\n    Vditor.prototype.unHlCommentIds = function (ids) {\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var unHlItem = function (item) {\n            ids.forEach(function (id) {\n                if (item.getAttribute(\"data-cmtids\").indexOf(id) > -1) {\n                    item.classList.remove(\"vditor-comment--hover\");\n                }\n            });\n        };\n        this.vditor.wysiwyg.element\n            .querySelectorAll(\".vditor-comment\")\n            .forEach(function (item) {\n            unHlItem(item);\n        });\n        if (this.vditor.preview.element.style.display !== \"none\") {\n            this.vditor.preview.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                unHlItem(item);\n            });\n        }\n    };\n    /** 删除评论 */\n    Vditor.prototype.removeCommentIds = function (removeIds) {\n        var _this = this;\n        if (this.vditor.currentMode !== \"wysiwyg\") {\n            return;\n        }\n        var removeItem = function (item, removeId) {\n            var ids = item.getAttribute(\"data-cmtids\").split(\" \");\n            ids.find(function (id, index) {\n                if (id === removeId) {\n                    ids.splice(index, 1);\n                    return true;\n                }\n            });\n            if (ids.length === 0) {\n                item.outerHTML = item.innerHTML;\n                (0,selection/* getEditorRange */.zh)(_this.vditor).collapse(true);\n            }\n            else {\n                item.setAttribute(\"data-cmtids\", ids.join(\" \"));\n            }\n        };\n        removeIds.forEach(function (removeId) {\n            _this.vditor.wysiwyg.element\n                .querySelectorAll(\".vditor-comment\")\n                .forEach(function (item) {\n                removeItem(item, removeId);\n            });\n            if (_this.vditor.preview.element.style.display !== \"none\") {\n                _this.vditor.preview.element\n                    .querySelectorAll(\".vditor-comment\")\n                    .forEach(function (item) {\n                    removeItem(item, removeId);\n                });\n            }\n        });\n        afterRenderEvent(this.vditor, {\n            enableAddUndoStack: true,\n            enableHint: false,\n            enableInput: false,\n        });\n    };\n    Vditor.prototype.init = function (id, mergedOptions) {\n        var _this = this;\n        this.vditor = {\n            currentMode: mergedOptions.mode,\n            element: id,\n            hint: new Hint(mergedOptions.hint.extend),\n            lute: undefined,\n            options: mergedOptions,\n            originalInnerHTML: id.innerHTML,\n            outline: new Outline(window.VditorI18n.outline),\n            tip: new Tip(),\n        };\n        this.vditor.sv = new Editor(this.vditor);\n        this.vditor.undo = new undo_Undo();\n        this.vditor.wysiwyg = new WYSIWYG(this.vditor);\n        this.vditor.ir = new IR(this.vditor);\n        this.vditor.toolbar = new Toolbar(this.vditor);\n        if (mergedOptions.resize.enable) {\n            this.vditor.resize = new Resize(this.vditor);\n        }\n        if (this.vditor.toolbar.elements.devtools) {\n            this.vditor.devtools = new DevTools();\n        }\n        if (mergedOptions.upload.url || mergedOptions.upload.handler) {\n            this.vditor.upload = new Upload();\n        }\n        (0,addScript/* addScript */.G)(mergedOptions._lutePath ||\n            mergedOptions.cdn + \"/dist/js/lute/lute.min.js\", \"vditorLuteScript\").then(function () {\n            _this.vditor.lute = (0,setLute/* setLute */.X)({\n                autoSpace: _this.vditor.options.preview.markdown.autoSpace,\n                codeBlockPreview: _this.vditor.options.preview.markdown\n                    .codeBlockPreview,\n                emojiSite: _this.vditor.options.hint.emojiPath,\n                emojis: _this.vditor.options.hint.emoji,\n                fixTermTypo: _this.vditor.options.preview.markdown.fixTermTypo,\n                footnotes: _this.vditor.options.preview.markdown.footnotes,\n                headingAnchor: false,\n                inlineMathDigit: _this.vditor.options.preview.math.inlineDigit,\n                linkBase: _this.vditor.options.preview.markdown.linkBase,\n                linkPrefix: _this.vditor.options.preview.markdown.linkPrefix,\n                listStyle: _this.vditor.options.preview.markdown.listStyle,\n                mark: _this.vditor.options.preview.markdown.mark,\n                mathBlockPreview: _this.vditor.options.preview.markdown\n                    .mathBlockPreview,\n                paragraphBeginningSpace: _this.vditor.options.preview.markdown\n                    .paragraphBeginningSpace,\n                sanitize: _this.vditor.options.preview.markdown.sanitize,\n                toc: _this.vditor.options.preview.markdown.toc,\n            });\n            _this.vditor.preview = new Preview(_this.vditor);\n            initUI(_this.vditor);\n            if (mergedOptions.after) {\n                mergedOptions.after();\n            }\n            if (mergedOptions.icon) {\n                // 防止初始化 2 个编辑器时加载 2 次\n                (0,addScript/* addScriptSync */.J)(mergedOptions.cdn + \"/dist/js/icons/\" + mergedOptions.icon + \".js\", \"vditorIconScript\");\n            }\n        });\n    };\n    return Vditor;\n}(method[\"default\"]));\n/* harmony default export */ const src = (Vditor);\n\n})();\n\n__webpack_exports__ = __webpack_exports__[\"default\"];\n/******/ \treturn __webpack_exports__;\n/******/ })()\n;\n});"],"sourceRoot":""}